{"version":3,"sources":["config/config.js","api/api-auth.js","helpers/auth-helper.js","pages/auth/Login.js","components/global/Loading.js","components/global/EmptyState.js","pages/auth/Profile.js","pages/auth/Register.js","api/api-article.js","components/article/ArticleActionArea.js","components/article/ArticleDetails.js","components/article/DeleteArticle.js","components/article/ArticleItem.js","api/api-comment.js","components/comment/EditComment.js","components/comment/DeleteComment.js","components/comment/CommentItem.js","components/comment/AddComment.js","components/comment/Comments.js","pages/article/Article.js","components/filter/FilterCategories.js","components/filter/FilterAuthors.js","api/api-categories.js","pages/article/Articles.js","routing/routes.js","pages/article/CreateArticle.js","pages/article/EditArticle.js","components/layout/Header.js","routing/MainRouter.js","theme.js","App.js","tests/reportWebVitals.js","index.js"],"names":["config","process","prefix","login","body","a","fetch","method","headers","Accept","JSON","stringify","response","json","console","log","register","logout","token","Authorization","auth","setUserDetails","user","cb","jwt","api_token","name","email","id","created","created_at","sessionStorage","setItem","unsetUserDetails","removeItem","isAuthenticated","window","getItem","obj","parse","withStyles","spacing","createStyles","wrapper","padding","classes","history","React","useState","setEmail","emailError","setEmailError","password","setPassword","passwordError","setPasswordError","loading","setLoading","error","setError","submit","passed","length","includes","handleValidation","then","data","errors","Object","values","success","location","pathname","push","split","Card","elevation","className","CardHeader","title","CardContent","TextField","label","autoFocus","margin","value","onChange","e","target","onKeyDown","key","helperText","type","Typography","component","color","style","textAlign","Error","CardActions","Button","variant","onClick","disabled","endIcon","CircularProgress","size","Check","progressWrapper","minHeight","display","justifyContent","alignItems","position","top","bottom","left","right","icon","fontSize","header","flexDirection","iconContainer","message","action","actionLabel","Replay","Link","to","setUser","useEffect","List","ListItem","button","ListItemIcon","AccountCircle","ListItemText","secondary","primary","Email","QueryBuilder","Date","toDateString","ExitToApp","setName","nameError","setNameError","list","show","create","update","remove","status","ArticleActionArea","link","children","CardActionArea","ArticleChip","Chip","clickable","chipContainer","article","isLink","AccountCircleOutlined","LocalOffer","category","root","actions","open","handleClose","articleError","setArticleError","Fragment","Dialog","onClose","aria-labelledby","DialogTitle","DialogContent","DialogContentText","DialogActions","Close","Delete","Snackbar","autoHideDuration","palette","card","fixedHeightCard","height","avatar","background","main","divider","displayActions","delay","disableHeight","anchorEl","setAnchorEl","openDeleteDialog","setOpenDeleteDialog","Boolean","Zoom","in","transitionDelay","Avatar","subheader","IconButton","aria-label","aria-controls","aria-haspopup","event","currentTarget","MoreVert","Menu","MenuItem","Create","Divider","editTextfield","width","comment","updateComment","newComment","setNewComment","commentError","setCommentError","article_id","multiline","deleteComment","removeComment","fullComment","setFullComment","openEditDialog","setOpenEditDialog","setDisplayActions","load","useCallback","exception","Grow","old","articleId","addComment","setComment","withRouter","comments","map","i","fab","match","setArticle","setComments","hasAuth","setHasAuth","params","reverse","startIcon","ArrowBack","items","filter","item","CheckBoxOutlineBlank","checkedIcon","CheckBox","FilterCategories","categories","selectCategory","defaultValueIndex","Autocomplete","multiple","options","getOptionLabel","option","disableCloseOnSelect","limitTags","defaultValue","undefined","renderOption","selected","Checkbox","marginRight","checked","renderInput","placeholder","FilterAuthors","authors","selectAuthor","setTitle","articles","setArticles","setAuthors","setCategories","selectedAuthors","setSelectedAuthors","filters","setFilters","setDefaultValueIndex","defaultAuthorValueIndex","setDefaultAuthorValueIndex","isAuthed","listArticles","forEach","findIndex","author","userId","parseInt","userI","listCategories","categoryId","categoryI","Grid","container","sm","xs","filteredCategories","filteredUser","Fab","Add","routes","Login","authed","displayOnNav","Register","Profile","Article","titleError","setTitleError","setBody","bodyError","setBodyError","selectedCategory","setSelectedCategory","loadingCategories","setLoadingCategories","loadCategories","category_id","v","setId","Articles","setIsAuthed","setMessage","setAuth","bool","listen","AppBar","Toolbar","route","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","MainRouter","justify","marginTop","marginBottom","exact","path","theme","createMuiTheme","typography","fontFamily","join","overrides","MuiGrid","maxWidth","MuiTextField","MuiListItemText","MuiTypography","h3","fontWeight","responsiveFontSizes","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.280a752a.chunk.js","sourcesContent":["/**\n * File: config.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Tuesday, 5th January 2021 1:49:31 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description: Configuration variables loaded from an env file\n * Last Modified: Tuesday, 26th January 2021 6:40:36 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\n/**\n * Configuration variables loaded from the env file\n */\nexport const config = {\n  env: process.env.NODE_ENV || \"development\",\n  server_url: process.env.REACT_APP_SERVER_URL || \"http://localhost:8000\",\n};\n","/**\n * File: auth.api.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Tuesday, 5th January 2021 6:20:22 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description:\n * Last Modified: Tuesday, 19th January 2021 1:53:06 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport { config } from \"../config/config\";\n\nconst prefix = config.server_url + \"/api\";\n\n/**\n * Login\n *\n * @param {body: {email: String, password: String}} body\n */\nexport const login = async (body) => {\n  try {\n    const response = await fetch(`${prefix}/login`, {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(body),\n    });\n    return response.json();\n  } catch (err) {\n    return console.log(err);\n  }\n};\n\n/**\n * Register\n *\n * @param {body: {name: String, email: String, password: String}} body\n */\nexport const register = async (body) => {\n  try {\n    const response = await fetch(`${prefix}/register`, {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(body),\n    });\n    return response.json();\n  } catch (err) {\n    return console.log(err);\n  }\n};\n\n/**\n * Logout\n *\n */\nexport const logout = async (token) => {\n  try {\n    const response = await fetch(`${prefix}/logout`, {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    return response.json();\n  } catch (err) {\n    return console.log(err);\n  }\n};\n","/**\n * File: auth-helper.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Tuesday, 5th January 2021 6:27:44 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description: Authentication helper for the application\n * Last Modified: Tuesday, 26th January 2021 6:39:16 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\n/**\n * Authentication helper for the application\n */\nconst auth = {\n  /**\n   * Sets user details in session storage\n   * after successfully logging in\n   *\n   * @param {user} user\n   * @param {*} cb\n   */\n  setUserDetails(user, cb) {\n    const jwt = {\n      token: user.api_token,\n      user: {\n        name: user.name,\n        email: user.email,\n        id: user.id,\n        created: user.created_at,\n      },\n    };\n\n    sessionStorage.setItem(\"jwt\", JSON.stringify(jwt));\n    cb(true);\n  },\n  /**\n   * Removes user details from session storage\n   *\n   * @param {*} cb\n   */\n  unsetUserDetails(cb) {\n    sessionStorage.removeItem(\"jwt\");\n    cb(true);\n  },\n  /**\n   * Check if the user is authenticated\n   *\n   * @returns a user object if the user is logged in, or false is not\n   */\n  isAuthenticated() {\n    if (typeof window == \"undefined\") return false;\n\n    if (sessionStorage.getItem(\"jwt\")) {\n      const obj = JSON.parse(sessionStorage.getItem(\"jwt\"));\n      return obj && obj.user ? obj : false;\n    }\n\n    return false;\n  },\n};\n\nexport default auth;\n","/**\n * File: Login.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Tuesday, 5th January 2021 1:58:06 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description: Where a user can login\n * Last Modified: Tuesday, 26th January 2021 6:17:23 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport React from \"react\";\n\nimport {\n  Typography,\n  CardHeader,\n  Card,\n  withStyles,\n  createStyles,\n  Button,\n  TextField,\n  CircularProgress,\n  CardActions,\n  CardContent,\n} from \"@material-ui/core\";\nimport { Check, Error } from \"@material-ui/icons\";\n\nimport { login } from \"../../api/api-auth\";\n\nimport auth from \"../../helpers/auth-helper\";\n\n/**\n * Injected styles\n *\n * @param {int} spacing\n */\nconst styles = ({ spacing }) =>\n  createStyles({\n    wrapper: {\n      padding: spacing(4),\n    },\n  });\n\n/**\n * Login Component\n *\n * @param {Theme} classes - classes passed from Material UI Theme\n * @param {History} history - the browser history object\n */\nconst Login = ({ classes, history }) => {\n  const [email, setEmail] = React.useState(\"\");\n  const [emailError, setEmailError] = React.useState(\"\");\n\n  const [password, setPassword] = React.useState(\"\");\n  const [passwordError, setPasswordError] = React.useState(\"\");\n\n  const [loading, setLoading] = React.useState(false);\n  const [error, setError] = React.useState(\"\");\n\n  /**\n   * Handle validation for form inputs\n   */\n  const handleValidation = () => {\n    let passed = true;\n\n    if (email.length < 3) {\n      setEmailError(\"Email must be at least 3 characters\");\n      passed = false;\n    } else if (!email.includes(\"@\") || !email.includes(\".\")) {\n      setEmailError(\"Please enter a valid email\");\n      passed = false;\n    } else setEmailError(\"\");\n\n    if (password.length < 6) {\n      setPasswordError(\"Password must be at least 6 characters\");\n      passed = false;\n    } else setPasswordError(\"\");\n\n    return passed;\n  };\n\n  /**\n   * Check validation and then run the\n   * login network request\n   *\n   * On success, set token in local storage &\n   * redirect the user to profile\n   */\n  const submit = () => {\n    if (handleValidation()) {\n      setLoading(true);\n      login({ email, password }).then((data) => {\n        if (data.errors) {\n          setLoading(false);\n          return setError(Object.values(data.errors)[0][0]);\n        }\n        setError(\"\");\n        auth.setUserDetails(data.data, (success) => {\n          if (success) {\n            if (window.location.pathname.includes(\"login/\")) {\n              return history.push(window.location.pathname.split(\"login\")[1]);\n            }\n            return history.push(\"/profile\");\n          }\n          setError(\"The system encountered an error, please try again later\");\n        });\n      });\n    }\n  };\n\n  /**\n   * Render JSX\n   */\n  return (\n    <Card elevation={3} className={classes.wrapper}>\n      <CardHeader title=\"Login\" />\n      <CardContent>\n        <TextField\n          name=\"email\"\n          label=\"Email\"\n          autoFocus={true}\n          margin=\"normal\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          onKeyDown={(e) => e.key === \"Enter\" && submit()}\n          error={emailError !== \"\"}\n          helperText={emailError}\n        />\n\n        <TextField\n          name=\"password\"\n          label=\"Password\"\n          type=\"password\"\n          margin=\"normal\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          onKeyDown={(e) => e.key === \"Enter\" && submit()}\n          error={passwordError !== \"\"}\n          helperText={passwordError}\n        />\n\n        <br />\n        {error !== \"\" && (\n          <Typography\n            component=\"p\"\n            color=\"error\"\n            style={{ textAlign: \"center\" }}\n          >\n            <Error color=\"error\" className={classes.error} />\n            {error}\n          </Typography>\n        )}\n      </CardContent>\n      <CardActions>\n        <Button\n          color=\"secondary\"\n          variant=\"contained\"\n          onClick={submit}\n          disabled={loading}\n          endIcon={loading ? <CircularProgress size={18} /> : <Check />}\n        >\n          Login\n        </Button>\n      </CardActions>\n    </Card>\n  );\n};\n\nexport default withStyles(styles)(Login);\n","/**\n * Primary dependencies\n */\nimport React from \"react\";\n\n/**\n * Component Library imports\n */\nimport { CircularProgress, withStyles, createStyles } from \"@material-ui/core\";\n\n/**\n * Injected styles\n */\nconst styles = () =>\n  createStyles({\n    progressWrapper: {\n      minHeight: \"-webkit-fill-available\",\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      position: \"absolute\",\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0,\n    },\n  });\n\n/**\n * Renders an Activity Indicator\n *  for the application\n */\nconst Loading = ({ classes }) => (\n  <div className={classes.progressWrapper}>\n    <div>\n      <CircularProgress />\n    </div>\n  </div>\n);\n\nexport default withStyles(styles)(Loading);\n","/**\n * Primary dependencies\n */\nimport React from \"react\";\n\nimport {\n  Button,\n  withStyles,\n  createStyles,\n  Card,\n  CardHeader,\n} from \"@material-ui/core\";\nimport { Replay, Error } from \"@material-ui/icons\";\n\nimport { Link } from \"react-router-dom\";\n\n/**\n * Injected styles\n *\n * @param {int} spacing\n */\nconst styles = ({ spacing }) =>\n  createStyles({\n    wrapper: {\n      padding: spacing(4),\n      textAlign: \"center\",\n    },\n    icon: {\n      fontSize: \"3em\",\n    },\n    header: {\n      display: \"flex\",\n      flexDirection: \"column-reverse\",\n      justifyContent: \"center\",\n    },\n    iconContainer: {\n      textAlign: \"center\",\n    },\n  });\n\n/**\n * Renders a message state\n *  for the application\n *\n * @param {string} message? - A message to display\n * @param {Theme} classes - classes passed from Material UI Theme\n * @param {string} action? - An action to execute when you see the state\n * @param {string} actionLabel? - A label for the action button\n */\nconst EmptyState = ({\n  message,\n  classes,\n  action,\n  actionLabel = \"Try Again\",\n}) => (\n  <Card elevation={3} className={classes.wrapper}>\n    <div className={classes.iconContainer}>\n      <Error color=\"error\" className={classes.icon} />\n    </div>\n    <CardHeader\n      title={message ? message : \"There was a problem\"}\n      className={classes.header}\n    />\n    {action ? (\n      <Button\n        className={classes.iconContainer}\n        variant=\"contained\"\n        color=\"secondary\"\n        endIcon={<Replay />}\n        onClick={action}\n      >\n        {actionLabel}\n      </Button>\n    ) : (\n      <Button component={Link} to=\"/\" color=\"primary\" variant=\"contained\">\n        Home\n      </Button>\n    )}\n  </Card>\n);\n\nexport default withStyles(styles)(EmptyState);\n","/**\n * File: Login.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Tuesday, 5th January 2021 1:58:06 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description: Where a user can view their profile\n * Last Modified: Tuesday, 26th January 2021 6:15:35 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport React, { useEffect } from \"react\";\n\nimport {\n  CardHeader,\n  withStyles,\n  createStyles,\n  Button,\n  Card,\n  CardActions,\n  ListItemIcon,\n  ListItemText,\n  ListItem,\n  List,\n} from \"@material-ui/core\";\nimport {\n  AccountCircle,\n  Email,\n  ExitToApp,\n  QueryBuilder,\n} from \"@material-ui/icons\";\n\nimport Loading from \"../../components/global/Loading\";\nimport EmptyState from \"../../components/global/EmptyState\";\n\nimport { logout } from \"../../api/api-auth\";\n\nimport auth from \"../../helpers/auth-helper\";\n\n/**\n * Injected styles\n *\n * @param {int} spacing\n */\nconst styles = ({ spacing }) =>\n  createStyles({\n    wrapper: {\n      padding: spacing(4),\n    },\n  });\n\n/**\n * Profile Component\n *\n * @param {Theme} classes - classes passed from Material UI Theme\n * @param {History} history - the browser history object\n */\nconst Profile = ({ classes, history }) => {\n  const [user, setUser] = React.useState(null);\n\n  const [loading, setLoading] = React.useState(true);\n  const [error, setError] = React.useState(\"\");\n\n  /**\n   * Runs when the component mounts\n   *\n   * Checks if there is an authenticated user\n   */\n  useEffect(() => {\n    const jwt = auth.isAuthenticated();\n    if (jwt) {\n      setUser(jwt.user);\n      setLoading(false);\n    } else {\n      setError(\"You are not authenticated, please log in\");\n      setLoading(false);\n    }\n  }, []);\n\n  /**\n   * Logout from the application\n   */\n  const submit = () => {\n    const jwt = auth.isAuthenticated();\n    if (jwt) {\n      setLoading(true);\n      logout(jwt.token).then((data) => {\n        if (data.errors) {\n          setLoading(false);\n          return setError(Object.values(data.errors)[0][0]);\n        }\n        setError(\"\");\n        auth.unsetUserDetails((success) => {\n          if (success) return history.push(\"/\");\n          setError(\"The system encountered an error, please try again later\");\n        });\n      });\n    } else setError(\"The system encountered an error, please try again later\");\n  };\n\n  /**\n   * Render JSX\n   *\n   */\n  if (loading) return <Loading />;\n  if (error !== \"\") return <EmptyState message={error} />;\n  return (\n    <Card elevation={3} className={classes.wrapper}>\n      <CardHeader title=\"Profile\" />\n      <List>\n        <ListItem button>\n          <ListItemIcon>\n            <AccountCircle />\n          </ListItemIcon>\n          <ListItemText secondary=\"Name\" primary={user.name} />\n        </ListItem>\n\n        <ListItem button>\n          <ListItemIcon>\n            <Email />\n          </ListItemIcon>\n          <ListItemText secondary=\"Email\" primary={user.email} />\n        </ListItem>\n\n        <ListItem button>\n          <ListItemIcon>\n            <QueryBuilder />\n          </ListItemIcon>\n          <ListItemText\n            secondary=\"Date Joined\"\n            primary={new Date(user.created).toDateString()}\n          />\n        </ListItem>\n      </List>\n\n      <CardActions>\n        <Button\n          color=\"secondary\"\n          variant=\"contained\"\n          onClick={submit}\n          endIcon={<ExitToApp />}\n        >\n          Logout\n        </Button>\n      </CardActions>\n    </Card>\n  );\n};\n\nexport default withStyles(styles)(Profile);\n","/**\n * File: Register.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Tuesday, 5th January 2021 1:58:06 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description: Where a user can register\n * Last Modified: Tuesday, 26th January 2021 6:17:23 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport React from \"react\";\n\nimport {\n  Typography,\n  CardHeader,\n  Card,\n  withStyles,\n  createStyles,\n  Button,\n  TextField,\n  CircularProgress,\n  CardActions,\n  CardContent,\n} from \"@material-ui/core\";\nimport { Check, Error } from \"@material-ui/icons\";\n\nimport { register } from \"../../api/api-auth\";\n\nimport auth from \"../../helpers/auth-helper\";\n\n/**\n * Injected styles\n *\n * @param {int} spacing\n */\nconst styles = ({ spacing }) =>\n  createStyles({\n    wrapper: {\n      padding: spacing(4),\n    },\n  });\n\n/**\n * Register Component\n *\n * @param {Theme} classes - classes passed from Material UI Theme\n * @param {History} history - the browser history object\n */\nconst Register = ({ classes, history }) => {\n  const [name, setName] = React.useState(\"\");\n  const [nameError, setNameError] = React.useState(\"\");\n\n  const [email, setEmail] = React.useState(\"\");\n  const [emailError, setEmailError] = React.useState(\"\");\n\n  const [password, setPassword] = React.useState(\"\");\n  const [passwordError, setPasswordError] = React.useState(\"\");\n\n  const [loading, setLoading] = React.useState(false);\n  const [error, setError] = React.useState(\"\");\n\n  /**\n   * Handle validation for form inputs\n   */\n  const handleValidation = () => {\n    let passed = true;\n\n    if (name.length < 3) {\n      setNameError(\"Name must be at least 3 characters\");\n      passed = false;\n    }\n    if (email.length < 3) {\n      setEmailError(\"Email must be at least 3 characters\");\n      passed = false;\n    } else if (!email.includes(\"@\") || !email.includes(\".\")) {\n      setEmailError(\"Please enter a valid email\");\n      passed = false;\n    } else setEmailError(\"\");\n\n    if (password.length < 6) {\n      setPasswordError(\"Password must be at least 6 characters\");\n      passed = false;\n    } else setPasswordError(\"\");\n\n    return passed;\n  };\n\n  /**\n   * Check validation and then run the\n   * register network request\n   *\n   * On success, set token in local storage &\n   * redirect the user to profile\n   */\n  const submit = () => {\n    if (handleValidation()) {\n      setLoading(true);\n      register({ name, email, password }).then((data) => {\n        if (data.errors) {\n          setLoading(false);\n          return setError(Object.values(data.errors)[0][0]);\n        }\n        setError(\"\");\n        auth.setUserDetails(data.data, (success) => {\n          if (success) return history.push(\"/profile\");\n          setError(\"The system encountered an error, please try again later\");\n        });\n      });\n    }\n  };\n\n  /**\n   * Render JSX\n   */\n  return (\n    <Card elevation={3} className={classes.wrapper}>\n      <CardHeader title=\"Register\" />\n      <CardContent>\n        <TextField\n          name=\"name\"\n          label=\"Name\"\n          autoFocus={true}\n          margin=\"normal\"\n          value={name}\n          onChange={(e) => setName(e.target.value)}\n          onKeyDown={(e) => e.key === \"Enter\" && submit()}\n          error={nameError !== \"\"}\n          helperText={nameError}\n        />\n\n        <TextField\n          name=\"email\"\n          label=\"Email\"\n          margin=\"normal\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          onKeyDown={(e) => e.key === \"Enter\" && submit()}\n          error={emailError !== \"\"}\n          helperText={emailError}\n        />\n\n        <TextField\n          name=\"password\"\n          label=\"Password\"\n          type=\"password\"\n          margin=\"normal\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          onKeyDown={(e) => e.key === \"Enter\" && submit()}\n          error={passwordError !== \"\"}\n          helperText={passwordError}\n        />\n\n        <br />\n        {error !== \"\" && (\n          <Typography\n            component=\"p\"\n            color=\"error\"\n            style={{ textAlign: \"center\" }}\n          >\n            <Error color=\"error\" className={classes.error} />\n            {error}\n          </Typography>\n        )}\n      </CardContent>\n      <CardActions>\n        <Button\n          color=\"secondary\"\n          variant=\"contained\"\n          onClick={submit}\n          disabled={loading}\n          endIcon={loading ? <CircularProgress size={18} /> : <Check />}\n        >\n          Register\n        </Button>\n      </CardActions>\n    </Card>\n  );\n};\n\nexport default withStyles(styles)(Register);\n","/**\n * File: auth.api.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Tuesday, 5th January 2021 6:20:22 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description:\n * Last Modified: Monday, 25th January 2021 6:10:54 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport { config } from \"../config/config\";\n\nconst prefix = config.server_url + \"/api/articles\";\n\n/**\n * Fetch a list of articles\n *\n */\nexport const list = async () => {\n  try {\n    const response = await fetch(prefix, {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n    });\n    return response.json();\n  } catch (err) {\n    return console.log(err);\n  }\n};\n\n/**\n * Fetch an article by ID\n *\n * @param {id: String}\n */\nexport const show = async (id) => {\n  try {\n    const response = await fetch(`${prefix}/${id}`, {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n    });\n    return response.json();\n  } catch (err) {\n    return console.log(err);\n  }\n};\n\n/**\n * Create an Article\n *\n * @param {body: {title: String, body: String, category_id: Int}} body\n * @param {token: String}\n */\nexport const create = async (body, token) => {\n  try {\n    const response = await fetch(`${prefix}`, {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n      body: JSON.stringify(body),\n    });\n    return response.json();\n  } catch (err) {\n    return console.log(err);\n  }\n};\n\n/**\n * Update an Article\n *\n * @param {id: String}\n * @param {body: {title: String, body: String, category_id: Int}} body\n * @param {token: String}\n */\nexport const update = async (id, body, token) => {\n  try {\n    const response = await fetch(`${prefix}/${id}`, {\n      method: \"PUT\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n      body: JSON.stringify(body),\n    });\n    return response.json();\n  } catch (err) {\n    return console.log(err);\n  }\n};\n\n/**\n * Removes a article by ID\n *\n * @param {id: String}\n * @param {token: String}\n */\nexport const remove = async (id, token) => {\n  try {\n    const response = await fetch(`${prefix}/${id}`, {\n      method: \"DELETE\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    return response.status;\n  } catch (err) {\n    return console.log(err);\n  }\n};\n","/**\n * File: ArticleActionArea.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Friday, 15th January 2021 4:11:07 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description: Article action area\n * Last Modified: Tuesday, 26th January 2021 7:10:45 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport { CardActionArea } from \"@material-ui/core\";\nimport { Link } from \"react-router-dom\";\n\n/**\n * Conditionally displays an action area to be\n * clicked if there is a link present\n *\n * This component was created because an <a> tag\n * cannot be nested within another <a> tag\n *\n * Therefore on the article detail page an <a> tag isnt rendered,\n * so the chips can be rendered\n *\n * @param {string} link - an optional link\n * @param {*} children - The children\n */\nconst ArticleActionArea = ({ link = null, children }) => {\n  if (link)\n    return (\n      <CardActionArea component={Link} to={link}>\n        {children}\n      </CardActionArea>\n    );\n\n  return <div>{children}</div>;\n};\n\nexport default ArticleActionArea;\n","/**\n * File: ArticleDetails.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Tuesday, 19th January 2021 1:09:58 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description:\n * Last Modified: Tuesday, 26th January 2021 7:09:12 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport { createStyles, withStyles, Chip } from \"@material-ui/core\";\nimport { AccountCircleOutlined, LocalOffer } from \"@material-ui/icons\";\n\nimport { Link } from \"react-router-dom\";\n\n/**\n * Injected styles\n *\n * @param {int} spacing\n */\nconst styles = ({ spacing }) =>\n  createStyles({\n    chipContainer: {\n      \"& > *\": {\n        margin: spacing(0.5),\n      },\n    },\n  });\n\n/**\n * Renders a chip for the article\n *\n * @param {string} link - The link\n * @param {string} label - label to display on the chip\n * @param {Icon} icon - The icon to render\n */\nconst ArticleChip = ({ link, label, icon }) => {\n  if (link)\n    return (\n      <Chip\n        icon={icon}\n        label={label}\n        color=\"primary\"\n        clickable\n        component={Link}\n        to={link}\n      />\n    );\n\n  return <Chip icon={icon} label={label} color=\"primary\" clickable />;\n};\n\n/**\n * Details on the article component\n *\n * @param {Theme} classes - classes passed from Material UI Theme\n * @param {*} article - the article\n * @param {bool} isLink - whether it should be a link\n *\n */\nconst ArticleDetails = ({ classes, article, isLink }) => {\n  return (\n    <div className={classes.chipContainer}>\n      <ArticleChip\n        icon={<AccountCircleOutlined />}\n        label={article.user.name}\n        link={isLink ? `/user/${article.user.id}` : null}\n      />\n      <ArticleChip\n        icon={<LocalOffer />}\n        label={article.category.title}\n        link={isLink ? `/category/${article.category.id}` : null}\n      />\n    </div>\n  );\n};\n\nexport default withStyles(styles)(ArticleDetails);\n","/**\n * File: EditArticle.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Friday, 22nd January 2021 5:17:34 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description: Delete an article\n * Last Modified: Tuesday, 26th January 2021 7:03:45 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport React from \"react\";\n\nimport {\n  withStyles,\n  createStyles,\n  Button,\n  CircularProgress,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  DialogContentText,\n  Snackbar,\n} from \"@material-ui/core\";\n\nimport { Close, Delete } from \"@material-ui/icons\";\n\nimport { remove } from \"../../api/api-article\";\n\nimport auth from \"../../helpers/auth-helper\";\n\n/**\n * Injected styles\n *\n * @param {int} spacing\n */\nconst styles = ({ spacing }) =>\n  createStyles({\n    root: {\n      padding: spacing(1),\n      margin: `${spacing(2)}px 0`,\n    },\n    actions: {\n      justifyContent: \"flex-end\",\n    },\n  });\n\n/**\n * DeleteArticle Component\n *\n * @param {History} history - the browser history object\n * @param {bool} open - whether the dialog should be open or not\n * @param {*} article - The article to be deleted\n * @param {*} handleClose - The function to run to close the dialog\n */\nconst DeleteArticle = ({ history, open, article, handleClose }) => {\n  const [articleError, setArticleError] = React.useState(\"\");\n  const [loading, setLoading] = React.useState(false);\n\n  /**\n   * Check validation and then run the\n   * article update network request\n   *\n   * On success,redirect to the home page\n   */\n  const submit = () => {\n    setLoading(true);\n    const jwt = auth.isAuthenticated();\n\n    remove(article.id, jwt.token).then((data) => {\n      console.log(\"data!\", data);\n      if (data !== 204) {\n        setLoading(false);\n        handleClose(false);\n\n        return setArticleError(\"Could not delete article\");\n      }\n\n      history.push(\"/\");\n    });\n  };\n\n  /**\n   * Render JSX\n   */\n  return (\n    <React.Fragment>\n      <Dialog\n        open={open}\n        onClose={() => handleClose(false)}\n        aria-labelledby=\"edit-article-dialog\"\n      >\n        <DialogTitle>Confirmation</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Are you sure you want to delete this article?\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            color=\"primary\"\n            variant=\"contained\"\n            onClick={() => handleClose(false)}\n            endIcon={<Close />}\n          >\n            Cancel\n          </Button>\n          <Button\n            color=\"secondary\"\n            variant=\"contained\"\n            onClick={submit}\n            disabled={loading}\n            endIcon={loading ? <CircularProgress size={18} /> : <Delete />}\n          >\n            Confirm\n          </Button>\n        </DialogActions>\n      </Dialog>\n      <Snackbar\n        open={articleError !== \"\"}\n        autoHideDuration={6000}\n        onClose={() => setArticleError(\"\")}\n        message={articleError}\n      ></Snackbar>\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles)(DeleteArticle);\n","/**\n * File: ArticleItem.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Friday, 15th January 2021 4:07:13 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description:\n * Last Modified: Friday, 29th January 2021 9:41:56 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport React from \"react\";\n\nimport {\n  Card,\n  CardHeader,\n  CardContent,\n  Avatar,\n  Typography,\n  createStyles,\n  withStyles,\n  CardActions,\n  Divider,\n  Zoom,\n  IconButton,\n  Menu,\n  MenuItem,\n  ListItemIcon,\n  ListItemText,\n} from \"@material-ui/core\";\nimport { Create, Delete, MoreVert } from \"@material-ui/icons\";\n\nimport ArticleActionArea from \"./ArticleActionArea\";\nimport ArticleDetails from \"./ArticleDetails\";\nimport DeleteArticle from \"./DeleteArticle\";\n\nimport { Link } from \"react-router-dom\";\n\n/**\n * Injected styles\n *\n * @param {int} spacing\n * @param {palette} palette - The palette defined in theme.js\n */\nconst styles = ({ palette, spacing }) =>\n  createStyles({\n    card: {\n      margin: `${spacing(4)}px auto`,\n    },\n    fixedHeightCard: {\n      height: 200,\n    },\n    avatar: {\n      background: palette.secondary.main,\n    },\n    chipContainer: {\n      \"& > *\": {\n        margin: spacing(0.5),\n      },\n    },\n    divider: {\n      margin: spacing(2),\n    },\n  });\n\n/**\n * ArticleItem Component\n *\n * A single comment\n *\n * @param {bool} displayActions - if the article belongs to the authed user, display actions\n * @param {History} history - the browser history object\n * @param {Theme} classes - classes passed from Material UI Theme\n * @param {*} article - The article to be displayed\n * @param {*} link - The link to optionally display\n * @param {*} delay - The delay of the animation\n */\nconst ArticleItem = ({\n  displayActions,\n  history,\n  classes,\n  article,\n  link = null,\n  delay = 0,\n  disableHeight = true,\n}) => {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [openDeleteDialog, setOpenDeleteDialog] = React.useState(false);\n  const open = Boolean(anchorEl);\n\n  /**\n   * Opens the more options menu\n   *\n   * @param {*} event\n   */\n  const handleOpen = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  /**\n   * Closes the more options menu\n   */\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  /**\n   * Render JSX\n   */\n  return (\n    <Zoom in={true} style={{ transitionDelay: `${delay}ms` }}>\n      <Card className={disableHeight ? classes.fixedHeightCard : classes.card}>\n        <ArticleActionArea link={link}>\n          <CardHeader\n            avatar={\n              <Avatar color=\"secondary\" className={classes.avatar}>\n                {article.user.name[0]}\n                {article.user.name.split(\" \").length > 1 &&\n                  article.user.name.split(\" \")[1][0]}\n              </Avatar>\n            }\n            title={article.title}\n            subheader={new Date(article.created_at).toDateString()}\n            action={\n              displayActions && (\n                <React.Fragment>\n                  <IconButton\n                    aria-label=\"more\"\n                    aria-controls=\"long-menu\"\n                    aria-haspopup=\"true\"\n                    onClick={handleOpen}\n                  >\n                    <MoreVert />\n                  </IconButton>\n\n                  <Menu\n                    id=\"menu\"\n                    anchorEl={anchorEl}\n                    open={open}\n                    onClose={handleClose}\n                  >\n                    <MenuItem\n                      component={Link}\n                      to={`/articles/edit/${article.id}`}\n                    >\n                      <ListItemIcon>\n                        <Create />\n                      </ListItemIcon>\n                      <ListItemText primary=\"Edit\" />\n                    </MenuItem>\n                    <MenuItem onClick={() => setOpenDeleteDialog(true)}>\n                      <ListItemIcon>\n                        <Delete />\n                      </ListItemIcon>\n                      <ListItemText primary=\"Delete\" />\n                    </MenuItem>\n                  </Menu>\n                </React.Fragment>\n              )\n            }\n          />\n          <CardContent>\n            <React.Fragment>\n              <div className={classes.chipContainer}>\n                <ArticleDetails article={article} isLink={link === null} />\n              </div>\n            </React.Fragment>\n\n            {!link && (\n              <React.Fragment>\n                <Divider className={classes.divider} />\n                <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                  {article.body}\n                </Typography>\n              </React.Fragment>\n            )}\n          </CardContent>\n          <CardActions></CardActions>\n        </ArticleActionArea>\n        <DeleteArticle\n          open={openDeleteDialog}\n          article={article}\n          handleClose={setOpenDeleteDialog}\n          history={history}\n        />\n      </Card>\n    </Zoom>\n  );\n};\n\nexport default withStyles(styles)(ArticleItem);\n","/**\n * File: api-comment.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Tuesday, 19th January 2021 1:49:40 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description:\n * Last Modified: Monday, 25th January 2021 4:54:04 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport { config } from \"../config/config\";\n\nconst prefix = config.server_url + \"/api/comments\";\n\n/**\n * Fetch Comments\n *\n */\nexport const list = async () => {\n  try {\n    const response = await fetch(prefix, {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n    });\n    return response.json();\n  } catch (err) {\n    return console.log(err);\n  }\n};\n\n/**\n * Fetch an comment by ID\n *\n * @param {id: String}\n * @param {token: String}\n */\nexport const show = async (id, token) => {\n  try {\n    const response = await fetch(`${prefix}/${id}`, {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    return response.json();\n  } catch (err) {\n    return console.log(err);\n  }\n};\n\n/**\n * Create an Comment\n *\n * @param {body: {body: String, article_id: Int}} body\n * @param {token: String}\n */\nexport const create = async (body, token) => {\n  try {\n    const response = await fetch(`${prefix}`, {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n      body: JSON.stringify(body),\n    });\n    return response.json();\n  } catch (err) {\n    return console.log(err);\n  }\n};\n\n/**\n * Update an Comment\n *\n * @param {id: String}\n * @param {body: {body: String, article_id: Int}} body\n * @param {token: String}\n */\nexport const update = async (id, body, token) => {\n  try {\n    const response = await fetch(`${prefix}/${id}`, {\n      method: \"PUT\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n      body: JSON.stringify(body),\n    });\n    return response.json();\n  } catch (err) {\n    return console.log(err);\n  }\n};\n\n/**\n * Removes a comment by ID\n *\n * @param {id: String}\n * @param {token: String}\n */\nexport const remove = async (id, token) => {\n  try {\n    const response = await fetch(`${prefix}/${id}`, {\n      method: \"DELETE\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    return response.status;\n  } catch (err) {\n    return console.log(err);\n  }\n};\n","/**\n * File: EditComment.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Friday, 22nd January 2021 5:17:34 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description: Edit an existing comment\n * Last Modified: Tuesday, 26th January 2021 6:58:55 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport React from \"react\";\n\nimport {\n  withStyles,\n  createStyles,\n  Button,\n  TextField,\n  CircularProgress,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n} from \"@material-ui/core\";\nimport { Check } from \"@material-ui/icons\";\n\nimport { update } from \"../../api/api-comment\";\n\nimport auth from \"../../helpers/auth-helper\";\n\n/**\n * Injected styles\n *\n * @param {int} spacing\n */\nconst styles = ({ spacing }) =>\n  createStyles({\n    root: {\n      padding: spacing(1),\n      margin: `${spacing(2)}px 0`,\n    },\n    editTextfield: {\n      width: \"300px\",\n    },\n    actions: {\n      justifyContent: \"flex-end\",\n    },\n  });\n\n/**\n * EditComment Component\n *\n * @param {bool} open - whether the dialog should be open or not\n * @param {*} comment - The comment to be edited\n * @param {*} updateComment - The function to run on successful edit\n * @param {*} handleClose - The function to run to close the dialog\n * @param {Theme} classes - classes passed from Material UI Theme\n */\nconst EditComment = ({\n  open,\n  comment,\n  updateComment,\n  handleClose,\n  classes,\n}) => {\n  const [newComment, setNewComment] = React.useState(comment.body);\n\n  const [commentError, setCommentError] = React.useState(\"\");\n  const [loading, setLoading] = React.useState(false);\n\n  /**\n   * Handle validation for form inputs\n   */\n  const handleValidation = () => {\n    let passed = true;\n\n    if (comment.length < 5) {\n      setCommentError(\"Comment must be at least 5 characters\");\n      passed = false;\n    } else setCommentError(\"\");\n\n    return passed;\n  };\n\n  /**\n   * Check validation and then run the\n   * comment update network request\n   *\n   * On success, close the dialog and run\n   * the updateComment function\n   */\n  const submit = () => {\n    if (handleValidation()) {\n      setLoading(true);\n      const jwt = auth.isAuthenticated();\n\n      update(\n        comment.id,\n        { body: newComment, article_id: comment.article_id },\n        jwt.token\n      ).then((data) => {\n        if (data.errors) {\n          setLoading(false);\n          return setCommentError(Object.values(data.errors)[0][0]);\n        }\n        setCommentError(\"\");\n        setLoading(false);\n\n        updateComment(data.body);\n      });\n    }\n  };\n\n  /**\n   * Render JSX\n   */\n  return (\n    <Dialog\n      open={open}\n      onClose={() => handleClose(false)}\n      aria-labelledby=\"edit-comment-dialog\"\n    >\n      <DialogTitle>Edit Comment</DialogTitle>\n      <DialogContent>\n        <TextField\n          name=\"comment\"\n          label=\"Edit comment\"\n          autoFocus\n          margin=\"normal\"\n          className={classes.editTextfield}\n          value={newComment}\n          onChange={(e) => setNewComment(e.target.value)}\n          onKeyDown={(e) => e.key === \"Enter\" && submit()}\n          error={commentError !== \"\"}\n          helperText={commentError}\n          multiline\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button\n          color=\"primary\"\n          variant=\"contained\"\n          onClick={() => handleClose(false)}\n        >\n          Cancel\n        </Button>\n        <Button\n          color=\"secondary\"\n          variant=\"contained\"\n          onClick={submit}\n          disabled={loading}\n          endIcon={loading ? <CircularProgress size={18} /> : <Check />}\n        >\n          Save\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default withStyles(styles)(EditComment);\n","/**\n * File: EditComment.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Friday, 22nd January 2021 5:17:34 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description: Delete a comment\n * Last Modified: Tuesday, 26th January 2021 7:03:45 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport React from \"react\";\n\nimport {\n  withStyles,\n  createStyles,\n  Button,\n  CircularProgress,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  DialogContentText,\n  Snackbar,\n} from \"@material-ui/core\";\nimport { Close, Delete } from \"@material-ui/icons\";\n\nimport { remove } from \"../../api/api-comment\";\n\nimport auth from \"../../helpers/auth-helper\";\n\n/**\n * Injected styles\n *\n * @param {int} spacing\n */\nconst styles = ({ spacing }) =>\n  createStyles({\n    root: {\n      padding: spacing(1),\n      margin: `${spacing(2)}px 0`,\n    },\n    actions: {\n      justifyContent: \"flex-end\",\n    },\n  });\n\n/**\n * DeleteComment Component\n *\n * @param {bool} open - whether the dialog should be open or not\n * @param {*} comment - The comment to be edited\n * @param {*} deleteComment - The function to run on successful edit\n * @param {*} handleClose - The function to run to close the dialog\n * @param {Theme} classes - classes passed from Material UI Theme\n */\nconst DeleteComment = ({ open, comment, deleteComment, handleClose }) => {\n  const [commentError, setCommentError] = React.useState(\"\");\n  const [loading, setLoading] = React.useState(false);\n\n  /**\n   * run the comment delete network request\n   *\n   * On success, close the dialog and run\n   * the deleteComment function\n   */\n  const submit = () => {\n    setLoading(true);\n    const jwt = auth.isAuthenticated();\n\n    remove(comment.id, jwt.token).then((data) => {\n      console.log(\"data!\", data);\n      if (data !== 204) {\n        setLoading(false);\n        handleClose(false);\n\n        return setCommentError(\"Could not delete comment\");\n      }\n      setLoading(false);\n      handleClose(false);\n      deleteComment(comment.id);\n    });\n  };\n\n  /**\n   * Render JSX\n   */\n  return (\n    <React.Fragment>\n      <Dialog\n        open={open}\n        onClose={() => handleClose(false)}\n        aria-labelledby=\"edit-comment-dialog\"\n      >\n        <DialogTitle>Confirmation</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Are you sure you want to delete this comment?\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            color=\"primary\"\n            variant=\"contained\"\n            onClick={() => handleClose(false)}\n            endIcon={<Close />}\n          >\n            Cancel\n          </Button>\n          <Button\n            color=\"secondary\"\n            variant=\"contained\"\n            onClick={submit}\n            disabled={loading}\n            endIcon={loading ? <CircularProgress size={18} /> : <Delete />}\n          >\n            Confirm\n          </Button>\n        </DialogActions>\n      </Dialog>\n      <Snackbar\n        open={commentError !== \"\"}\n        autoHideDuration={6000}\n        onClose={() => setCommentError(\"\")}\n        message={commentError}\n      ></Snackbar>\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles)(DeleteComment);\n","/**\n * File: CommentItem.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Friday, 15th January 2021 4:07:13 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description: A single comment\n * Last Modified: Friday, 29th January 2021 9:36:25 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport React, { useEffect, useCallback } from \"react\";\n\nimport {\n  Card,\n  CardHeader,\n  CardContent,\n  Avatar,\n  Typography,\n  createStyles,\n  withStyles,\n  CardActions,\n  Grow,\n  IconButton,\n  Menu,\n  MenuItem,\n  ListItemIcon,\n  ListItemText,\n} from \"@material-ui/core\";\nimport { Create, Delete, MoreVert } from \"@material-ui/icons\";\n\nimport { show } from \"../../api/api-comment\";\n\nimport EmptyState from \"../global/EmptyState\";\nimport EditComment from \"./EditComment\";\nimport DeleteComment from \"./DeleteComment\";\n\nimport auth from \"../../helpers/auth-helper\";\n\n/**\n * Injected styles\n *\n * @param {int} spacing\n * @param {palette} palette - The palette defined in theme.js\n */\nconst styles = ({ palette, spacing }) =>\n  createStyles({\n    card: {\n      margin: `${spacing(4)}px auto`,\n    },\n    avatar: {\n      background: palette.secondary.main,\n    },\n    chipContainer: {\n      \"& > *\": {\n        margin: spacing(0.5),\n      },\n    },\n    divider: {\n      margin: spacing(2),\n    },\n  });\n\n/**\n * CommentItem Component\n *\n * A single comment\n *\n * @param {Theme} classes - classes passed from Material UI Theme\n * @param {*} comment - The comment to be displayed\n * @param {*} removeComment - The function to run on successful removal of comment\n */\nconst CommentItem = ({ classes, comment, removeComment }) => {\n  const [fullComment, setFullComment] = React.useState(null);\n  const [loading, setLoading] = React.useState(true);\n  const [error, setError] = React.useState(\"\");\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [openEditDialog, setOpenEditDialog] = React.useState(false);\n  const [openDeleteDialog, setOpenDeleteDialog] = React.useState(false);\n  const [displayActions, setDisplayActions] = React.useState(false);\n  const open = Boolean(anchorEl);\n\n  /**\n   * Open the more options menu\n   *\n   * @param {*} event\n   */\n  const handleOpen = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  /**\n   * Close the more options menu\n   */\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  /**\n   * Close the delete dialog and\n   * run the removeComment function\n   *\n   * @param {int} id\n   */\n  const deleteComment = (id) => {\n    handleClose();\n    removeComment(id);\n  };\n\n  /**\n   * Close the edit dialog\n   * and update the comment body\n   *\n   * @param {string} body\n   */\n  const updateComment = (body) => {\n    handleClose();\n    setFullComment((old) => {\n      let newComment = old;\n      newComment.body = body;\n      return { ...newComment };\n    });\n    setOpenEditDialog(false);\n  };\n\n  /**\n   * Load the comment by the ID in the comment object\n   *\n   * Wrapped in a useCallBack which returns\n   * a memorized version of the function\n   *\n   * The comment needs to be loaded again\n   * to display details about the user\n   */\n  const load = useCallback(() => {\n    setLoading(true);\n    const jwt = auth.isAuthenticated();\n    show(comment.id, jwt.token).then((data) => {\n      if (!data || data.errors || data.exception || data.message) {\n        setError(\n          data && data.errors\n            ? Object.values(data.errors)[0][0]\n            : data.message\n            ? data.message\n            : \"Could not load data\"\n        );\n        return setLoading(false);\n      }\n      setError(\"\");\n      setFullComment(data);\n      /**\n       * If the user logged in is the user who wrote the comment,\n       * display the actions to them\n       */\n\n      jwt && jwt.user.id === data.user.id && setDisplayActions(true);\n      setLoading(false);\n    });\n  }, [comment]);\n\n  useEffect(() => {\n    load();\n  }, [load]);\n\n  /**\n   * Render JSX\n   */\n  if (loading) return <></>;\n  if (error !== \"\") return <EmptyState message={error} action={load} />;\n  return (\n    <Grow in={true}>\n      <Card className={classes.card}>\n        <CardHeader\n          avatar={\n            <Avatar color=\"secondary\" className={classes.avatar}>\n              {fullComment.user.name[0]}\n              {fullComment.user.name.split(\" \").length > 1 &&\n                fullComment.user.name.split(\" \")[1][0]}\n            </Avatar>\n          }\n          title={fullComment.user.name}\n          subheader={new Date(comment.created_at).toDateString()}\n          action={\n            displayActions && (\n              <React.Fragment>\n                <IconButton\n                  aria-label=\"more\"\n                  aria-controls=\"long-menu\"\n                  aria-haspopup=\"true\"\n                  onClick={handleOpen}\n                >\n                  <MoreVert />\n                </IconButton>\n\n                <Menu\n                  id=\"menu\"\n                  anchorEl={anchorEl}\n                  open={open}\n                  onClose={handleClose}\n                >\n                  <MenuItem onClick={() => setOpenEditDialog(true)}>\n                    <ListItemIcon>\n                      <Create />\n                    </ListItemIcon>\n                    <ListItemText primary=\"Edit\" />\n                  </MenuItem>\n                  <MenuItem onClick={() => setOpenDeleteDialog(true)}>\n                    <ListItemIcon>\n                      <Delete />\n                    </ListItemIcon>\n                    <ListItemText primary=\"Delete\" />\n                  </MenuItem>\n                </Menu>\n              </React.Fragment>\n            )\n          }\n        />\n        <CardContent>\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n            {fullComment.body}\n          </Typography>\n        </CardContent>\n        <CardActions></CardActions>\n        <EditComment\n          open={openEditDialog}\n          comment={fullComment}\n          handleClose={setOpenEditDialog}\n          updateComment={updateComment}\n        />\n        <DeleteComment\n          open={openDeleteDialog}\n          comment={fullComment}\n          handleClose={setOpenDeleteDialog}\n          deleteComment={deleteComment}\n        />\n      </Card>\n    </Grow>\n  );\n};\n\nexport default withStyles(styles)(CommentItem);\n","/**\n * File: AddComment.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Thursday, 21st January 2021 2:40:37 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description: Create a new comment\n * Last Modified: Friday, 29th January 2021 9:35:10 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport React from \"react\";\n\nimport {\n  Card,\n  withStyles,\n  createStyles,\n  Button,\n  TextField,\n  CircularProgress,\n  CardActions,\n} from \"@material-ui/core\";\nimport { Check } from \"@material-ui/icons\";\n\nimport { create } from \"../../api/api-comment\";\n\nimport auth from \"../../helpers/auth-helper\";\n\n/**\n * Injected styles\n *\n * @param {int} spacing\n */\nconst styles = ({ spacing }) =>\n  createStyles({\n    root: {\n      padding: spacing(1),\n      margin: `${spacing(2)}px 0`,\n    },\n    actions: {\n      justifyContent: \"flex-end\",\n    },\n  });\n\n/**\n * AddComment Component\n *\n\n * @param {Theme} classes - classes passed from Material UI Theme\n * @param {int} articleId - the ID of the article\n * @param {*} addComment - The function to run on successful add of comment\n */\nconst AddComment = ({ classes, articleId, addComment }) => {\n  const [comment, setComment] = React.useState(\"\");\n\n  const [commentError, setCommentError] = React.useState(\"\");\n  const [loading, setLoading] = React.useState(false);\n\n  /**\n   * Handle validation for form input\n   */\n  const handleValidation = () => {\n    let passed = true;\n\n    if (comment.length < 5) {\n      setCommentError(\"Comment must be at least 5 characters\");\n      passed = false;\n    } else setCommentError(\"\");\n\n    return passed;\n  };\n\n  /**\n   * Check validation and then run the\n   * comment update network request\n   *\n   * On success, close the dialog and run\n   * the add comment function\n   */\n  const submit = () => {\n    if (handleValidation()) {\n      setLoading(true);\n      const jwt = auth.isAuthenticated();\n\n      create({ body: comment, article_id: articleId }, jwt.token).then(\n        (data) => {\n          if (!data || data.errors || data.exception || data.message) {\n            setLoading(false);\n            return setCommentError(\n              data && data.errors\n                ? Object.values(data.errors)[0][0]\n                : \"Could not create article\"\n            );\n          }\n          setCommentError(\"\");\n          setLoading(false);\n          setComment(\"\");\n          addComment(data);\n        }\n      );\n    }\n  };\n\n  /**\n   * Render JSX\n   */\n  return (\n    <Card className={classes.root}>\n      <TextField\n        name=\"comment\"\n        label=\"Add a comment\"\n        autoFocus={true}\n        margin=\"normal\"\n        value={comment}\n        onChange={(e) => setComment(e.target.value)}\n        onKeyDown={(e) => e.key === \"Enter\" && submit()}\n        error={commentError !== \"\"}\n        helperText={commentError}\n        multiline\n      />\n      <CardActions className={classes.actions}>\n        <Button\n          color=\"secondary\"\n          variant=\"contained\"\n          onClick={submit}\n          disabled={loading}\n          endIcon={loading ? <CircularProgress size={18} /> : <Check />}\n        >\n          Post\n        </Button>\n      </CardActions>\n    </Card>\n  );\n};\n\nexport default withStyles(styles)(AddComment);\n","/**\n * File: Comments.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Thursday, 21st January 2021 12:42:47 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description:\n * Last Modified: Friday, 29th January 2021 9:50:08 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\nimport React from \"react\";\n\nimport { withRouter } from \"react-router-dom\";\n\nimport { Typography } from \"@material-ui/core\";\n\nimport CommentItem from \"./CommentItem\";\nimport AddComment from \"./AddComment\";\n\n/**\n * Comments Component\n *\n * @param {Array} comments - an array of comments\n * @param {History} history - the browser history object\n * @param {int} articleId - the ID of the article\n * @param {*} addComment - The function to run on adding a comment\n * @param {*} removeComment - The function to run on removing a comment\n */\nconst Comments = ({\n  comments,\n  history,\n  articleId,\n  addComment,\n  removeComment,\n}) => {\n  /**\n   * Render JSX\n   */\n  return (\n    <React.Fragment>\n      <Typography variant=\"h3\">Comments</Typography>\n\n      <React.Fragment>\n        <AddComment\n          articleId={articleId}\n          addComment={(comment) => addComment(comment)}\n        />\n\n        {comments.length > 0 ? (\n          comments.map((comment, i) => (\n            <CommentItem\n              key={comment.id}\n              comment={comment}\n              removeComment={removeComment}\n            />\n          ))\n        ) : (\n          <Typography variant=\"body2\" style={{ textAlign: \"center\" }}>\n            No comments found\n          </Typography>\n        )}\n      </React.Fragment>\n    </React.Fragment>\n  );\n};\n\nexport default withRouter(Comments);\n","/**\n * File: Article.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Friday, 8th January 2021 5:34:58 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description:\n * Last Modified: Friday, 29th January 2021 9:43:41 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport React, { useEffect, useCallback } from \"react\";\n\nimport { Button, createStyles, withStyles } from \"@material-ui/core\";\nimport { ArrowBack } from \"@material-ui/icons\";\n\nimport { Link, withRouter } from \"react-router-dom\";\n\nimport { show } from \"../../api/api-article\";\n\nimport Loading from \"../../components/global/Loading\";\nimport EmptyState from \"../../components/global/EmptyState\";\nimport ArticleItem from \"../../components/article/ArticleItem\";\nimport Comments from \"../../components/comment/Comments\";\n\nimport auth from \"../../helpers/auth-helper\";\n\n/**\n * Injected styles\n *\n * @param {int} spacing\n * @param {palette} palette - The palette defined in theme.js\n */\nconst styles = ({ palette, spacing }) =>\n  createStyles({\n    card: {\n      margin: `${spacing(4)}px auto`,\n    },\n    avatar: {\n      background: palette.secondary.main,\n    },\n    fab: {\n      position: \"fixed\",\n      bottom: spacing(2),\n      right: spacing(2),\n\n      \"& .MuiFab-primary\": {\n        background: palette.secondary.main,\n      },\n    },\n  });\n\n/**\n * Article Component\n *\n * @param {Theme} classes - classes passed from Material UI Theme\n * @param {Match} match - Contains information about a react-router-dom Route\n */\nconst Article = ({ history, match }) => {\n  const [article, setArticle] = React.useState([]);\n  const [comments, setComments] = React.useState([]);\n\n  const [loading, setLoading] = React.useState(true);\n  const [error, setError] = React.useState(\"\");\n\n  const [displayActions, setDisplayActions] = React.useState(false);\n  const [hasAuth, setHasAuth] = React.useState(false);\n  /**\n   * Load the article by the ID in the match object\n   *\n   * Wrapped in a useCallBack which returns\n   * a memorized version of the function\n   */\n  const load = useCallback(() => {\n    setLoading(true);\n    const { id } = match.params;\n    const jwt = auth.isAuthenticated();\n    if (!jwt) setHasAuth(false);\n    show(id).then((data) => {\n      if (!data || data.errors || data.exception || data.message) {\n        setLoading(false);\n\n        return setError(\n          data && data.errors\n            ? Object.values(data.errors)[0][0]\n            : \"Could not load data\"\n        );\n      }\n      setError(\"\");\n      if (data.comments.length > 0) {\n        setComments(data.comments.reverse());\n        delete data.comments;\n      }\n      setArticle(data);\n\n      jwt && jwt.user.id === data.user.id && setDisplayActions(true);\n      setLoading(false);\n    });\n  }, [match]);\n\n  useEffect(() => {\n    load();\n  }, [load]);\n\n  /**\n   * Adds a comment from the AddComment component\n   *\n   * @param {comment} comment\n   */\n  const addComment = (comment) => setComments((old) => [comment, ...old]);\n\n  /**\n   * Removes a comment from the AddComment component\n   *\n   * @param {comment} comment\n   */\n  const removeComment = (id) => {\n    setComments((old) => {\n      const items = old.filter((item) => item.id !== id);\n\n      return [...items];\n    });\n  };\n\n  /**\n   * Redirect to the login page\n   */\n  const login = () => {\n    history.push(`/login${window.location.pathname}`);\n  };\n\n  if (loading) return <Loading />;\n  if (error !== \"\") return <EmptyState message={error} action={load} />;\n  return (\n    <React.Fragment>\n      <Button component={Link} to=\"/\" startIcon={<ArrowBack />}>\n        Back\n      </Button>\n      <div style={{ position: \"relative\" }}>\n        <ArticleItem\n          article={article}\n          history={history}\n          displayActions={displayActions}\n          disableHeight={false}\n        />\n        {!hasAuth ? (\n          <EmptyState\n            message=\"Please login to view comments\"\n            action={login}\n            actionLabel={\"Login\"}\n          />\n        ) : (\n          <Comments\n            articleId={article.id}\n            comments={comments}\n            addComment={addComment}\n            removeComment={removeComment}\n          />\n        )}\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default withRouter(withStyles(styles)(Article));\n","/**\n * File: filter-categories.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Tuesday, 12th January 2021 1:49:12 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description: Filter categories on the article list\n * Last Modified: Thursday, 28th January 2021 5:46:29 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport React from \"react\";\n\nimport { TextField, Checkbox } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport {\n  CheckBox as CheckBoxIcon,\n  CheckBoxOutlineBlank,\n} from \"@material-ui/icons\";\n\nconst icon = <CheckBoxOutlineBlank fontSize=\"small\" />;\nconst checkedIcon = <CheckBoxIcon fontSize=\"small\" />;\n\n/**\n * Filter categories on the article list\n *\n * @param {*} categories\n * @param {*} selectCategory - function to run on selecting a category\n * @param {*} defaultValueIndex - If there is a default category selected\n */\nconst FilterCategories = ({\n  categories,\n  selectCategory,\n  defaultValueIndex = null,\n}) => {\n  if (categories && categories.length > 0) {\n    return (\n      <Autocomplete\n        multiple\n        id=\"filter-categories\"\n        options={categories}\n        getOptionLabel={(option) => option.title}\n        disableCloseOnSelect\n        limitTags={3}\n        defaultValue={\n          defaultValueIndex !== null\n            ? [categories[defaultValueIndex]]\n            : undefined\n        }\n        onChange={(event, value) => selectCategory(value)}\n        renderOption={(option, { selected }) => (\n          <React.Fragment>\n            <Checkbox\n              icon={icon}\n              checkedIcon={checkedIcon}\n              style={{ marginRight: 8 }}\n              checked={selected}\n            />\n            {option.title}\n          </React.Fragment>\n        )}\n        renderInput={(params) => (\n          <TextField\n            {...params}\n            variant=\"outlined\"\n            label=\"Filter by Category\"\n            placeholder=\"Basketball\"\n          />\n        )}\n      />\n    );\n  }\n  return <></>;\n};\n\nexport default FilterCategories;\n","/**\n * File: filter-authors.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Tuesday, 12th January 2021 1:49:12 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description: Filter authors on the article list\n * Last Modified: Thursday, 28th January 2021 5:46:45 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport React from \"react\";\n\nimport { TextField, Checkbox } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport {\n  CheckBox as CheckBoxIcon,\n  CheckBoxOutlineBlank,\n} from \"@material-ui/icons\";\n\nconst icon = <CheckBoxOutlineBlank fontSize=\"small\" />;\nconst checkedIcon = <CheckBoxIcon fontSize=\"small\" />;\n\n/**\n * Filter authors on the article list\n *\n * @param {*} authors\n * @param {*} selectCategory - function to run on selecting a author\n * @param {*} defaultValueIndex - If there is a default author selected\n */\nconst FilterAuthors = ({ authors, selectAuthor, defaultValueIndex = null }) => {\n  if (authors && authors.length > 0) {\n    return (\n      <Autocomplete\n        multiple\n        id=\"filter-authors\"\n        options={authors}\n        getOptionLabel={(option) => option.name}\n        disableCloseOnSelect\n        limitTags={3}\n        defaultValue={\n          defaultValueIndex !== null ? [authors[defaultValueIndex]] : undefined\n        }\n        onChange={(event, value) => selectAuthor(value)}\n        renderOption={(option, { selected }) => (\n          <React.Fragment>\n            <Checkbox\n              icon={icon}\n              checkedIcon={checkedIcon}\n              style={{ marginRight: 8 }}\n              checked={selected}\n            />\n            {option.name}\n          </React.Fragment>\n        )}\n        renderInput={(params) => (\n          <TextField\n            {...params}\n            variant=\"outlined\"\n            label=\"Filter by Author\"\n            placeholder=\"Author\"\n          />\n        )}\n      />\n    );\n  }\n  return <></>;\n};\n\nexport default FilterAuthors;\n","/**\n * File: auth.api.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Tuesday, 5th January 2021 6:20:22 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description:\n * Last Modified: Tuesday, 19th January 2021 1:53:05 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport { config } from \"../config/config\";\n\nconst prefix = config.server_url + \"/api/categories\";\n\n/**\n * Fetch Categories\n *\n */\nexport const list = async () => {\n  try {\n    const response = await fetch(prefix, {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n    });\n    return response.json();\n  } catch (err) {\n    return console.log(err);\n  }\n};\n","/**\n * File: Articles.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Friday, 8th January 2021 5:34:58 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description:\n * Last Modified: Friday, 29th January 2021 9:35:10 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport React, { useEffect, useCallback } from \"react\";\n\nimport {\n  Typography,\n  withStyles,\n  createStyles,\n  Fab,\n  Grid,\n} from \"@material-ui/core\";\nimport { Add } from \"@material-ui/icons\";\n\nimport { Link } from \"react-router-dom\";\n\nimport Loading from \"../../components/global/Loading\";\nimport EmptyState from \"../../components/global/EmptyState\";\nimport FilterCategories from \"../../components/filter/FilterCategories\";\nimport FilterAuthors from \"../../components/filter/FilterAuthors\";\nimport ArticleItem from \"../../components/article/ArticleItem\";\n\nimport { list as listArticles } from \"../../api/api-article\";\nimport { list as listCategories } from \"../../api/api-categories\";\n\nimport auth from \"../../helpers/auth-helper\";\n\n/**\n * Injected styles\n *\n * @param {int} spacing\n */\nconst styles = ({ spacing }) =>\n  createStyles({\n    fab: {\n      position: \"fixed\",\n      bottom: spacing(2),\n      right: spacing(2),\n    },\n  });\n\n/**\n * Articles Component\n *\n * @param {Theme} classes - classes passed from Material UI Theme\n */\nconst Articles = ({ classes }) => {\n  const [title, setTitle] = React.useState(\"Articles\");\n\n  const [articles, setArticles] = React.useState([]);\n  const [authors, setAuthors] = React.useState([]);\n  const [categories, setCategories] = React.useState([]);\n\n  const [selectedAuthors, setSelectedAuthors] = React.useState([]);\n  const [filters, setFilters] = React.useState([]);\n\n  const [loading, setLoading] = React.useState(true);\n  const [error, setError] = React.useState(\"\");\n\n  const [defaultValueIndex, setDefaultValueIndex] = React.useState(null);\n  const [defaultAuthorValueIndex, setDefaultAuthorValueIndex] = React.useState(\n    null\n  );\n  const isAuthed = auth.isAuthenticated();\n\n  /**\n   * Load articles and categories\n   *\n   * Wrapped in a useCallBack which returns\n   * a memorized version of the function\n   */\n  const load = useCallback(() => {\n    setLoading(true);\n    /**\n     * Load articles\n     */\n    listArticles().then((data) => {\n      if (!data || data.errors || data.exception || data.message) {\n        setLoading(false);\n        return setError(\n          data && data.errors\n            ? Object.values(data.errors)[0][0]\n            : \"Could not load data\"\n        );\n      }\n      setError(\"\");\n\n      const articles = data.reverse();\n      let authors = [];\n      articles.forEach((article) => {\n        /**\n         * Prevent duplicate authors in authors array\n         */\n        if (\n          authors.findIndex((author) => author.id === article.user.id) === -1\n        ) {\n          authors.push(article.user);\n        }\n      });\n\n      setArticles(data);\n      setAuthors(authors);\n\n      /**\n       * Check if the user is in the URL\n       *\n       * If so, set it as the default article, and update the title\n       */\n      if (window.location.pathname.includes(\"user\")) {\n        const userId = parseInt(window.location.pathname.split(\"user/\")[1]);\n        const userI = authors.findIndex((user) => user.id === userId);\n\n        if (userI !== -1) {\n          setDefaultAuthorValueIndex(userI);\n          setTitle(`Articles by ${authors[userI].name}`);\n          setSelectedAuthors([authors[userI]]);\n        }\n      }\n    });\n\n    /**\n     * Load categories\n     */\n    listCategories().then((data) => {\n      if (!data || data.errors || data.exception || data.message) {\n        setLoading(false);\n\n        return setError(\n          data && data.errors\n            ? Object.values(data.errors)[0][0]\n            : \"Could not load data\"\n        );\n      }\n      setError(\"\");\n\n      /**\n       * Check if the category is in the URL\n       *\n       * If so, set it as the default article, and update the title\n       */\n      if (window.location.pathname.includes(\"category\")) {\n        const categoryId = window.location.pathname.split(\"category/\")[1];\n        const categoryI = data.findIndex(\n          (category) => category.id === parseInt(categoryId)\n        );\n\n        setTitle(`${data[categoryI].title} Articles`);\n        categoryI !== -1 && setDefaultValueIndex(categoryI);\n        setFilters([data[categoryI]]);\n      }\n\n      setCategories(data);\n      setLoading(false);\n    });\n  }, []);\n\n  useEffect(() => {\n    load();\n  }, [load]);\n\n  /**\n   * Selecting a category from the FilterCategories component\n   *\n   * @param {category} filteredCategories\n   */\n  const selectCategory = (filteredCategories) => {\n    if (\n      defaultValueIndex !== null &&\n      categories[defaultValueIndex].id !== filteredCategories[defaultValueIndex]\n    ) {\n      setTitle(\"Articles\");\n    }\n    setFilters(filteredCategories);\n  };\n\n  /**\n   * Selecting a author from the FilterAuthors component\n   *\n   * @param {author} filteredUser\n   */\n  const selectAuthor = (filteredUser) => {\n    if (\n      defaultAuthorValueIndex !== null &&\n      authors[defaultAuthorValueIndex] !== filteredUser[defaultAuthorValueIndex]\n    ) {\n      setTitle(\"Articles\");\n    }\n    setSelectedAuthors(filteredUser);\n  };\n\n  /**\n   * Render JSX\n   */\n  if (loading) return <Loading />;\n  if (error !== \"\") return <EmptyState message={error} action={load} />;\n  return (\n    <React.Fragment>\n      <Typography variant=\"h3\">{title}</Typography>\n      <Grid container spacing={2}>\n        <Grid item sm={6} xs={12}>\n          <FilterCategories\n            defaultValueIndex={defaultValueIndex}\n            categories={categories}\n            selectCategory={selectCategory}\n          />\n        </Grid>\n        <Grid item sm={6} xs={12}>\n          <FilterAuthors\n            authors={authors}\n            selectAuthor={selectAuthor}\n            defaultValueIndex={defaultAuthorValueIndex}\n          />\n        </Grid>\n      </Grid>\n      <Grid container spacing={2}>\n        {articles\n          .filter((article) => {\n            if (filters.length > 0 || selectedAuthors.length > 0) {\n              return (\n                filters.findIndex(\n                  (filter) => filter.id === article.category.id\n                ) !== -1 ||\n                selectedAuthors.findIndex(\n                  (author) => author.id === article.user.id\n                ) !== -1\n              );\n            }\n            return article;\n          })\n          .map((article, i) => {\n            return (\n              <Grid item sm={6} xs={12} key={i}>\n                <ArticleItem\n                  delay={(i + 1) * 200}\n                  article={article}\n                  link={`/article/${article.id}`}\n                />\n              </Grid>\n            );\n          })}\n      </Grid>\n      {isAuthed && (\n        <Fab\n          className={classes.fab}\n          component={Link}\n          aria-label=\"Add Article\"\n          color=\"secondary\"\n          to=\"/articles/new\"\n        >\n          <Add />\n        </Fab>\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles)(Articles);\n","/**\n * File: routes.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Friday, 8th January 2021 4:10:03 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description: Additional routes in the application\n * Last Modified: Thursday, 28th January 2021 5:32:53 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport Login from \"../pages/auth/Login\";\nimport Profile from \"../pages/auth/Profile\";\nimport Register from \"../pages/auth/Register\";\nimport Article from \"../pages/article/Article\";\nimport Articles from \"../pages/article/Articles\";\nimport CreateArticle from \"../pages/article/CreateArticle\";\nimport EditArticle from \"../pages/article/EditArticle\";\n\nconst routes = [\n  {\n    name: \"Login\",\n    link: \"/login\",\n    component: Login,\n    authed: false,\n    displayOnNav: true,\n  },\n  {\n    name: \"Register\",\n    link: \"/register\",\n    component: Register,\n    authed: false,\n    displayOnNav: true,\n  },\n  {\n    name: \"Profile\",\n    link: \"/profile\",\n    component: Profile,\n    authed: true,\n  },\n  {\n    name: \"Article\",\n    link: \"/article/:id\",\n    component: Article,\n    authed: false,\n  },\n  {\n    name: \"Create Article\",\n    link: \"/articles/new\",\n    component: CreateArticle,\n    authed: true,\n  },\n  {\n    name: \"Edit Article\",\n    link: \"/articles/edit/:id\",\n    component: EditArticle,\n    authed: true,\n  },\n  {\n    name: \"Articles by User\",\n    link: \"/user/:id\",\n    component: Articles,\n    authed: false,\n  },\n  {\n    name: \"Articles by Category\",\n    link: \"/category/:id\",\n    component: Articles,\n    authed: false,\n  },\n];\n\nexport default routes;\n","/**\n * File: CreateArticle.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Friday, 8th January 2021 5:34:58 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description: Creating n Article Form\n * Last Modified: Friday, 29th January 2021 9:35:10 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport React, { useEffect, useCallback } from \"react\";\nimport {\n  Button,\n  Card,\n  TextField,\n  CardHeader,\n  CardContent,\n  createStyles,\n  withStyles,\n  CardActions,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { ArrowBack, Check } from \"@material-ui/icons\";\n\nimport { Link } from \"react-router-dom\";\n\nimport { create } from \"../../api/api-article\";\nimport { list } from \"../../api/api-categories\";\n\nimport Loading from \"../../components/global/Loading\";\nimport EmptyState from \"../../components/global/EmptyState\";\n\nimport auth from \"../../helpers/auth-helper\";\n\n/**\n * Injected styles\n *\n * @param {int} spacing\n */\nconst styles = ({ spacing }) =>\n  createStyles({\n    wrapper: {\n      padding: spacing(4),\n    },\n  });\n\n/**\n * CreateArticle Component\n *\n * @param {History} history - the browser history object\n * @param {Theme} classes - classes passed from Material UI Theme\n */\nconst CreateArticle = ({ history, classes }) => {\n  const [title, setTitle] = React.useState(\"\");\n  const [titleError, setTitleError] = React.useState(\"\");\n\n  const [body, setBody] = React.useState(\"\");\n  const [bodyError, setBodyError] = React.useState(\"\");\n\n  const [selectedCategory, setSelectedCategory] = React.useState(null);\n  const [categories, setCategories] = React.useState([]);\n\n  const [loadingCategories, setLoadingCategories] = React.useState(true);\n  const [loading, setLoading] = React.useState(false);\n  const [error, setError] = React.useState(\"\");\n\n  /**\n   * load articles by the ID in the match object\n   *\n   * Wrapped in a useCallBack which returns\n   * a memorized version of the function\n   */\n  const loadCategories = useCallback(() => {\n    list().then((data) => {\n      if (!data || data.errors || data.exception || data.message) {\n        setLoadingCategories(false);\n\n        return setError(\n          data && data.errors\n            ? Object.values(data.errors)[0][0]\n            : \"Could not load data\"\n        );\n      }\n\n      setCategories(data);\n      setSelectedCategory(data[0]);\n      setError(\"\");\n      setLoadingCategories(false);\n    });\n  }, []);\n\n  useEffect(() => {\n    loadCategories();\n  }, [loadCategories]);\n\n  /**\n   * Handle validation for form inputs\n   */\n  const handleValidation = () => {\n    let passed = true;\n\n    if (title.length < 5) {\n      setTitleError(\"Title must be at least 5 characters\");\n      passed = false;\n    } else setTitleError(\"\");\n\n    if (body.length < 5) {\n      setBodyError(\"Body must be at least 5 characters\");\n      passed = false;\n    } else setBodyError(\"\");\n\n    return passed;\n  };\n\n  /**\n   * Check validation and then run the\n   * article create network request\n   *\n   * On success,redirect to the article\n   */\n  const submit = () => {\n    if (handleValidation()) {\n      setLoading(true);\n      const jwt = auth.isAuthenticated();\n      create({ title, body, category_id: selectedCategory.id }, jwt.token).then(\n        (data) => {\n          if (!data || data.errors || data.exception || data.message) {\n            setLoading(false);\n            return setError(\n              data && data.errors\n                ? Object.values(data.errors)[0][0]\n                : \"Could not create article\"\n            );\n          }\n          history.push(`/article/${data.id}`);\n        }\n      );\n    }\n  };\n\n  /**\n   * Render JSX\n   */\n  if (loadingCategories) return <Loading />;\n  if (error !== \"\")\n    return <EmptyState message={error} action={loadCategories} />;\n  return (\n    <React.Fragment>\n      <Button component={Link} to=\"/\" startIcon={<ArrowBack />}>\n        Back\n      </Button>\n      <Card elevation={3} className={classes.wrapper}>\n        <CardHeader title=\"Create Article\" />\n\n        <CardContent>\n          <Autocomplete\n            value={selectedCategory}\n            options={categories}\n            getOptionLabel={(option) => option.title}\n            onChange={(e, v) => setSelectedCategory(v)}\n            renderInput={(params) => (\n              <TextField\n                {...params}\n                variant=\"outlined\"\n                label=\"Select Category\"\n                placeholder=\"Basketball\"\n              />\n            )}\n          />\n\n          <TextField\n            name=\"title\"\n            label=\"Title\"\n            autoFocus={true}\n            margin=\"normal\"\n            value={title}\n            onChange={(e) => setTitle(e.target.value)}\n            onKeyDown={(e) => e.key === \"Enter\" && submit()}\n            error={titleError !== \"\"}\n            helperText={titleError}\n          />\n\n          <TextField\n            name=\"body\"\n            label=\"Body\"\n            autoFocus={true}\n            margin=\"normal\"\n            value={body}\n            onChange={(e) => setBody(e.target.value)}\n            onKeyDown={(e) => e.key === \"Enter\" && submit()}\n            error={bodyError !== \"\"}\n            helperText={bodyError}\n            multiline\n          />\n        </CardContent>\n        <CardActions>\n          <Button\n            color=\"secondary\"\n            variant=\"contained\"\n            onClick={submit}\n            disabled={loading}\n            endIcon={loading ? <CircularProgress size={18} /> : <Check />}\n          >\n            Create\n          </Button>\n        </CardActions>\n      </Card>\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles)(CreateArticle);\n","/**\n * File: EditArticle.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Friday, 8th January 2021 5:34:58 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description: Editing an Article Form\n * Last Modified: Friday, 29th January 2021 9:35:10 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport React, { useEffect, useCallback } from \"react\";\n\nimport {\n  Button,\n  Card,\n  TextField,\n  CardHeader,\n  CardContent,\n  createStyles,\n  withStyles,\n  CardActions,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { ArrowBack, Check } from \"@material-ui/icons\";\n\nimport { Link } from \"react-router-dom\";\n\nimport { show, update } from \"../../api/api-article\";\nimport { list } from \"../../api/api-categories\";\n\nimport Loading from \"../../components/global/Loading\";\nimport EmptyState from \"../../components/global/EmptyState\";\n\nimport auth from \"../../helpers/auth-helper\";\n\n/**\n * Injected styles\n *\n * @param {int} spacing\n */\nconst styles = ({ spacing }) =>\n  createStyles({\n    wrapper: {\n      padding: spacing(4),\n    },\n  });\n\n/**\n * EditArticle Component\n *\n * @param {Match} match - Contains information about a react-router-dom Route\n * @param {Theme} classes - classes passed from Material UI Theme\n * @param {History} history - the browser history object\n */\nconst EditArticle = ({ match, history, classes }) => {\n  const [id, setId] = React.useState(0);\n\n  const [title, setTitle] = React.useState(\"\");\n  const [titleError, setTitleError] = React.useState(\"\");\n\n  const [body, setBody] = React.useState(\"\");\n  const [bodyError, setBodyError] = React.useState(\"\");\n\n  const [selectedCategory, setSelectedCategory] = React.useState(null);\n  const [categories, setCategories] = React.useState([]);\n\n  const [loadingCategories, setLoadingCategories] = React.useState(true);\n  const [loading, setLoading] = React.useState(false);\n  const [error, setError] = React.useState(\"\");\n\n  /**\n   * Load the article by the ID in the match object\n   *\n   * Wrapped in a useCallBack which returns\n   * a memorized version of the function\n   */\n  const load = useCallback(() => {\n    const { id } = match.params;\n\n    /**\n     * Load the article\n     */\n    show(id).then((data) => {\n      if (!data || data.errors || data.exception || data.message) {\n        setError(\n          data && data.errors\n            ? Object.values(data.errors)[0][0]\n            : \"Could not load data\"\n        );\n\n        return setLoadingCategories(false);\n      }\n\n      setTitle(data.title);\n      setBody(data.body);\n      setId(data.id);\n\n      const categoryId = data.category_id;\n\n      /**\n       * Load the category\n       */\n      list().then((data) => {\n        if (!data || data.errors || data.exception || data.message) {\n          setError(\n            data && data.errors\n              ? Object.values(data.errors)[0][0]\n              : \"Could not load data\"\n          );\n\n          return setLoadingCategories(false);\n        }\n\n        /**\n         * Find the current selected category on the article\n         */\n        const categoryI = data.findIndex((item) => item.id === categoryId);\n        setCategories(data);\n        setSelectedCategory(data[categoryI]);\n\n        setLoadingCategories(false);\n        setError(\"\");\n      });\n    });\n  }, [match]);\n\n  useEffect(() => {\n    load();\n  }, [load]);\n\n  /**\n   * Handle validation for form inputs\n   */\n  const handleValidation = () => {\n    let passed = true;\n\n    if (title.length < 5) {\n      setTitleError(\"Title must be at least 5 characters\");\n      passed = false;\n    } else setTitleError(\"\");\n\n    if (body.length < 5) {\n      setBodyError(\"Body must be at least 5 characters\");\n      passed = false;\n    } else setBodyError(\"\");\n\n    return passed;\n  };\n\n  /**\n   * Check validation and then run the\n   * article update network request\n   *\n   * On success,redirect to the article\n   */\n  const submit = () => {\n    if (handleValidation()) {\n      setLoading(true);\n      const jwt = auth.isAuthenticated();\n      update(\n        id,\n        { title, body, category_id: selectedCategory.id },\n        jwt.token\n      ).then((data) => {\n        if (!data || data.errors || data.exception || data.message) {\n          setLoading(false);\n          return setError(\n            data && data.errors\n              ? Object.values(data.errors)[0][0]\n              : \"Could not create article\"\n          );\n        }\n\n        history.push(`/article/${data.id}`);\n      });\n    }\n  };\n\n  /**\n   * Render JSX\n   */\n  if (loadingCategories) return <Loading />;\n  if (error !== \"\") return <EmptyState message={error} action={load} />;\n  return (\n    <React.Fragment>\n      <Button component={Link} to={`/article/${id}`} startIcon={<ArrowBack />}>\n        Back\n      </Button>\n      <Card elevation={3} className={classes.wrapper}>\n        <CardHeader title=\"Edit Article\" />\n\n        <CardContent>\n          <Autocomplete\n            value={selectedCategory}\n            options={categories}\n            getOptionLabel={(option) => option.title}\n            onChange={(e, v) => setSelectedCategory(v)}\n            renderInput={(params) => (\n              <TextField\n                {...params}\n                variant=\"outlined\"\n                label=\"Select Category\"\n                placeholder=\"Basketball\"\n              />\n            )}\n          />\n\n          <TextField\n            name=\"title\"\n            label=\"Title\"\n            autoFocus={true}\n            margin=\"normal\"\n            value={title}\n            onChange={(e) => setTitle(e.target.value)}\n            onKeyDown={(e) => e.key === \"Enter\" && submit()}\n            error={titleError !== \"\"}\n            helperText={titleError}\n          />\n\n          <TextField\n            name=\"body\"\n            label=\"Body\"\n            autoFocus={true}\n            margin=\"normal\"\n            value={body}\n            onChange={(e) => setBody(e.target.value)}\n            onKeyDown={(e) => e.key === \"Enter\" && submit()}\n            error={bodyError !== \"\"}\n            helperText={bodyError}\n            multiline\n          />\n        </CardContent>\n        <CardActions>\n          <Button\n            color=\"secondary\"\n            variant=\"contained\"\n            onClick={submit}\n            disabled={loading}\n            endIcon={loading ? <CircularProgress size={18} /> : <Check />}\n          >\n            Save\n          </Button>\n        </CardActions>\n      </Card>\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles)(EditArticle);\n","/**\n * File: Header.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Tuesday, 5th January 2021 5:24:46 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description:\n * Last Modified: Thursday, 28th January 2021 5:41:26 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\n/**\n * Primary dependencies\n */\nimport React, { useEffect } from \"react\";\nimport { withRouter, Link } from \"react-router-dom\";\n\n/**\n * Component Library imports\n */\nimport {\n  AppBar,\n  Button,\n  createStyles,\n  Toolbar,\n  withStyles,\n  IconButton,\n  Menu,\n  MenuItem,\n  Snackbar,\n  CircularProgress,\n} from \"@material-ui/core\";\n\nimport routes from \"./../../routing/routes\";\n\nimport auth from \"../../helpers/auth-helper\";\nimport { AccountCircle } from \"@material-ui/icons\";\nimport { logout } from \"../../api/api-auth\";\n\n/**\n * Injected styles\n *\n * @param {int} spacing\n */\nconst styles = () =>\n  createStyles({\n    root: {\n      justifyContent: \"space-between\",\n      \"& a\": {\n        color: \"#fff\",\n      },\n    },\n  });\n\n/**\n * Header for the application\n *\n * @param {History} history - the browser history object\n * @param {Theme} classes - classes passed from Material UI Theme\n */\nconst Header = ({ history, classes }) => {\n  /**\n   * If set to true, displays routes that only authenticated users should see\n   * If not, displays login / register\n   */\n  const [isAuthed, setIsAuthed] = React.useState(false);\n\n  const [loading, setLoading] = React.useState(false);\n  const [message, setMessage] = React.useState(\"\");\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n\n  const handleMenu = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  /**\n   * Check if the user is authenticaed\n   */\n  useEffect(() => {\n    const setAuth = (bool) => setIsAuthed(bool);\n\n    const jwt = auth.isAuthenticated();\n    setAuth(jwt ? true : false);\n\n    /**\n     * Listen for changes in the URL bar,\n     * and check if the user is authenticated\n     *\n     * Can only be done when the component\n     * is exported through withRouter\n     */\n    history.listen(() => {\n      const jwt = auth.isAuthenticated();\n      setAuth(jwt ? true : false);\n    });\n  }, [history]);\n\n  /**\n   * Logout from the application\n   */\n  const submit = () => {\n    const jwt = auth.isAuthenticated();\n    if (jwt) {\n      setLoading(true);\n      logout(jwt.token).then((data) => {\n        if (data.errors) {\n          setLoading(false);\n          return setMessage(Object.values(data.errors)[0][0]);\n        }\n        auth.unsetUserDetails((success) => {\n          if (success) {\n            setIsAuthed(false);\n            setLoading(false);\n            handleClose();\n            setMessage(\"Logged out successfully\");\n\n            return history.push(\"/\");\n          }\n          setMessage(\"The system encountered an error, please try again later\");\n        });\n      });\n    } else {\n      setIsAuthed(false);\n      setMessage(\"The system encountered an error, please try again later\");\n    }\n  };\n\n  /**\n   * Render JSX\n   */\n  return (\n    <AppBar position=\"static\">\n      <Toolbar className={classes.root}>\n        <Button component={Link} to=\"/\">\n          Adv JS CA2\n        </Button>\n\n        <div>\n          <Button component={Link} to=\"/\">\n            Articles\n          </Button>\n          {routes\n            .filter((route) => route.authed === isAuthed && route.displayOnNav)\n            .map((route, i) => (\n              <Button key={i} component={Link} to={route.link}>\n                {route.name}\n              </Button>\n            ))}\n\n          {isAuthed && (\n            <React.Fragment>\n              <IconButton\n                aria-label=\"account of current user\"\n                aria-controls=\"menu-appbar\"\n                aria-haspopup=\"true\"\n                onClick={handleMenu}\n                color=\"inherit\"\n              >\n                <AccountCircle />\n              </IconButton>\n              <Menu\n                id=\"menu-appbar\"\n                anchorEl={anchorEl}\n                anchorOrigin={{\n                  vertical: \"top\",\n                  horizontal: \"right\",\n                }}\n                keepMounted\n                transformOrigin={{\n                  vertical: \"top\",\n                  horizontal: \"right\",\n                }}\n                open={open}\n                onClose={handleClose}\n              >\n                <MenuItem component={Link} to=\"/profile\" onClick={handleClose}>\n                  Profile\n                </MenuItem>\n                <MenuItem disabled={loading} onClick={submit}>\n                  Logout {loading && <CircularProgress size={18} />}\n                </MenuItem>\n              </Menu>\n            </React.Fragment>\n          )}\n        </div>\n      </Toolbar>\n      <Snackbar\n        open={message !== \"\"}\n        autoHideDuration={6000}\n        onClose={() => setMessage(\"\")}\n        message={message}\n      ></Snackbar>\n    </AppBar>\n  );\n};\n\nexport default withRouter(withStyles(styles)(Header));\n","/**\n * File: MainRouter.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Tuesday, 5th January 2021 1:47:32 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description: Main Router for the application\n * Last Modified: Tuesday, 26th January 2021 6:09:34 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport React from \"react\";\n\nimport { Route, Switch } from \"react-router-dom\";\nimport { Grid } from \"@material-ui/core\";\n\nimport Header from \"../components/layout/Header\";\nimport Articles from \"../pages/article/Articles\";\n\nimport routes from \"./routes\";\n\nconst MainRouter = () => {\n  return (\n    <React.Fragment>\n      <Header />\n      <Grid\n        container\n        spacing={8}\n        justify=\"center\"\n        style={{ marginTop: \"20px\", marginBottom: \"20px\" }}\n      >\n        <Grid item xs={11}>\n          <Switch>\n            <Route exact path=\"/\" component={Articles} />\n\n            {routes.map(({ link, component }, i) => (\n              <Route path={link} component={component} key={i} />\n            ))}\n          </Switch>\n        </Grid>\n      </Grid>\n    </React.Fragment>\n  );\n};\n\nexport default MainRouter;\n","/**\n * File: theme.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Tuesday, 5th January 2021 1:46:00 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description: Stylings applied to Material UI Library\n * Last Modified: Thursday, 28th January 2021 5:59:20 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport { createMuiTheme, responsiveFontSizes } from \"@material-ui/core/styles\";\n\nlet theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#2196f3\",\n    },\n    secondary: {\n      main: \"#ffc400\",\n    },\n  },\n  typography: {\n    fontFamily: [\"Poppins\", \"sans-serif\"].join(\",\"),\n  },\n  overrides: {\n    MuiGrid: {\n      item: {\n        maxWidth: \"800px!important\",\n      },\n    },\n    MuiTextField: {\n      root: {\n        width: \"100%\",\n        margin: \"16px auto\",\n      },\n    },\n    MuiListItemText: {\n      root: {\n        display: \"flex\",\n        flexDirection: \"column-reverse\",\n      },\n    },\n    MuiTypography: {\n      h3: {\n        fontWeight: 500,\n        fontSize: \"2.3em\",\n        margin: \"10px\",\n      },\n    },\n  },\n});\n\ntheme = responsiveFontSizes(theme);\n\nexport default theme;\n","/**\n * File: App.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Tuesday, 5th January 2021 1:36:58 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description: Renders the Router, Theme Provider and MainRouter\n * Last Modified: Tuesday, 26th January 2021 6:08:43 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport React from \"react\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { MuiThemeProvider } from \"@material-ui/core/styles\";\n\nimport MainRouter from \"./routing/MainRouter\";\nimport theme from \"./theme\";\n\nconst App = () => (\n  <Router>\n    <MuiThemeProvider theme={theme}>\n      <MainRouter />\n    </MuiThemeProvider>\n  </Router>\n);\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","/**\n * File: index.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Tuesday, 5th January 2021 1:36:58 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description: Entry Point for React\n * Last Modified: Tuesday, 26th January 2021 6:08:52 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\nimport reportWebVitals from \"./tests/reportWebVitals\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}