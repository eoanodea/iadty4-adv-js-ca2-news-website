(this["webpackJsonpca2-client"]=this["webpackJsonpca2-client"]||[]).push([[0],{108:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),c=n.n(r),o=n(15),i=n.n(o),s=n(16),u=n(185),l=n(18),j=n(184),d=n(6),b=n(192),p=n(182),O=n(183),h=n(152),m=n(172),f=n(82),x=n(174),v=n(153),g=n(191),y=n(5),C=n(141),S=n(145),k=n(146),w=n(186),A=n(37),T=n(151),I=n(150),E=n(154),N=n(13),F=n.n(N),D=n(21),z="https://iadt-adv-js-server.herokuapp.com",B=z+"/api",P=function(){var e=Object(D.a)(F.a.mark((function e(t){var n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(B,"/login"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return n=e.sent,e.abrupt("return",n.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(D.a)(F.a.mark((function e(t){var n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(B,"/register"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return n=e.sent,e.abrupt("return",n.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(D.a)(F.a.mark((function e(t){var n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(B,"/logout"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 3:return n=e.sent,e.abrupt("return",n.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),K={setUserDetails:function(e,t){var n={token:e.api_token,user:{name:e.name,email:e.email,id:e.id,created:e.created_at}};sessionStorage.setItem("jwt",JSON.stringify(n)),t(!0)},unsetUserDetails:function(e){sessionStorage.removeItem("jwt"),e(!0)},isAuthenticated:function(){if("undefined"==typeof window)return!1;if(sessionStorage.getItem("jwt")){var e=JSON.parse(sessionStorage.getItem("jwt"));return!(!e||!e.user)&&e}return!1}},_=Object(y.a)((function(e){var t=e.spacing;return Object(b.a)({wrapper:{padding:t(4)}})}))((function(e){var t=e.classes,n=e.history,r=c.a.useState(""),o=Object(d.a)(r,2),i=o[0],s=o[1],u=c.a.useState(""),l=Object(d.a)(u,2),j=l[0],b=l[1],p=c.a.useState(""),O=Object(d.a)(p,2),m=O[0],f=O[1],x=c.a.useState(""),g=Object(d.a)(x,2),y=g[0],N=g[1],F=c.a.useState(!1),D=Object(d.a)(F,2),z=D[0],B=D[1],L=c.a.useState(""),J=Object(d.a)(L,2),_=J[0],U=J[1],M=function(){(function(){var e=!0;return i.length<3?(b("Email must be at least 3 characters"),e=!1):i.includes("@")&&i.includes(".")?b(""):(b("Please enter a valid email"),e=!1),m.length<6?(N("Password must be at least 6 characters"),e=!1):N(""),e})()&&(B(!0),P({email:i,password:m}).then((function(e){if(e.errors)return B(!1),U(Object.values(e.errors)[0][0]);U(""),K.setUserDetails(e.data,(function(e){if(e)return window.location.pathname.includes("login/")?n.push(window.location.pathname.split("login")[1]):n.push("/profile");U("The system encountered an error, please try again later")}))})))};return Object(a.jsxs)(C.a,{elevation:3,className:t.wrapper,children:[Object(a.jsx)(S.a,{title:"Login"}),Object(a.jsxs)(k.a,{children:[Object(a.jsx)(w.a,{name:"email",label:"Email",autoFocus:!0,margin:"normal",value:i,onChange:function(e){return s(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&M()},error:""!==j,helperText:j}),Object(a.jsx)(w.a,{name:"password",label:"Password",type:"password",margin:"normal",value:m,onChange:function(e){return f(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&M()},error:""!==y,helperText:y}),Object(a.jsx)("br",{}),""!==_&&Object(a.jsxs)(A.a,{component:"p",color:"error",style:{textAlign:"center"},children:[Object(a.jsx)(I.a,{color:"error",className:t.error}),_]})]}),Object(a.jsx)(T.a,{children:Object(a.jsx)(h.a,{color:"secondary",variant:"contained",onClick:M,disabled:z,endIcon:z?Object(a.jsx)(v.a,{size:18}):Object(a.jsx)(E.a,{}),children:"Login"})})]})})),U=n(149),M=n(109),V=n(156),G=n(158),H=n(157),R=n(159),W=n(160),Y=n(161),q=Object(y.a)((function(){return Object(b.a)({progressWrapper:{minHeight:"-webkit-fill-available",display:"flex",justifyContent:"center",alignItems:"center"}})}))((function(e){var t=e.classes;return Object(a.jsx)("div",{className:t.progressWrapper,children:Object(a.jsx)(v.a,{})})})),Q=n(155),X=Object(y.a)((function(e){var t=e.spacing;return Object(b.a)({wrapper:{padding:t(4),textAlign:"center"},icon:{fontSize:"3em"},header:{display:"flex",flexDirection:"column-reverse",justifyContent:"center"},iconContainer:{textAlign:"center"}})}))((function(e){var t=e.message,n=e.classes,r=e.action,c=e.actionLabel,o=void 0===c?"Try Again":c;return Object(a.jsxs)(C.a,{elevation:3,className:n.wrapper,children:[Object(a.jsx)("div",{className:n.iconContainer,children:Object(a.jsx)(I.a,{color:"error",className:n.icon})}),Object(a.jsx)(S.a,{title:t||"There was a problem",className:n.header}),r?Object(a.jsx)(h.a,{className:n.iconContainer,variant:"contained",color:"secondary",endIcon:Object(a.jsx)(Q.a,{}),onClick:r,children:o}):Object(a.jsx)(h.a,{component:s.b,to:"/",color:"primary",variant:"contained",children:"Home"})]})})),Z=Object(y.a)((function(e){var t=e.spacing;return Object(b.a)({wrapper:{padding:t(4)}})}))((function(e){var t=e.classes,n=e.history,o=c.a.useState(null),i=Object(d.a)(o,2),s=i[0],u=i[1],l=c.a.useState(!0),j=Object(d.a)(l,2),b=j[0],p=j[1],O=c.a.useState(""),m=Object(d.a)(O,2),f=m[0],x=m[1];Object(r.useEffect)((function(){var e=K.isAuthenticated();e?(u(e.user),p(!1)):(x("You are not authenticated, please log in"),p(!1))}),[]);return b?Object(a.jsx)(q,{}):""!==f?Object(a.jsx)(X,{message:f}):Object(a.jsxs)(C.a,{elevation:3,className:t.wrapper,children:[Object(a.jsx)(S.a,{title:"Profile"}),Object(a.jsxs)(U.a,{children:[Object(a.jsxs)(M.a,{button:!0,children:[Object(a.jsx)(V.a,{children:Object(a.jsx)(H.a,{})}),Object(a.jsx)(G.a,{secondary:"Name",primary:s.name})]}),Object(a.jsxs)(M.a,{button:!0,children:[Object(a.jsx)(V.a,{children:Object(a.jsx)(R.a,{})}),Object(a.jsx)(G.a,{secondary:"Email",primary:s.email})]}),Object(a.jsxs)(M.a,{button:!0,children:[Object(a.jsx)(V.a,{children:Object(a.jsx)(W.a,{})}),Object(a.jsx)(G.a,{secondary:"Date Joined",primary:new Date(s.created).toDateString()})]})]}),Object(a.jsx)(T.a,{children:Object(a.jsx)(h.a,{color:"secondary",variant:"contained",onClick:function(){var e=K.isAuthenticated();e?(p(!0),J(e.token).then((function(e){if(e.errors)return p(!1),x(Object.values(e.errors)[0][0]);x(""),K.unsetUserDetails((function(e){if(e)return n.push("/");x("The system encountered an error, please try again later")}))}))):x("The system encountered an error, please try again later")},endIcon:Object(a.jsx)(Y.a,{}),children:"Logout"})})]})})),$=Object(y.a)((function(e){var t=e.spacing;return Object(b.a)({wrapper:{padding:t(4)}})}))((function(e){var t=e.classes,n=e.history,r=c.a.useState(""),o=Object(d.a)(r,2),i=o[0],s=o[1],u=c.a.useState(""),l=Object(d.a)(u,2),j=l[0],b=l[1],p=c.a.useState(""),O=Object(d.a)(p,2),m=O[0],f=O[1],x=c.a.useState(""),g=Object(d.a)(x,2),y=g[0],N=g[1],F=c.a.useState(""),D=Object(d.a)(F,2),z=D[0],B=D[1],P=c.a.useState(""),J=Object(d.a)(P,2),_=J[0],U=J[1],M=c.a.useState(!1),V=Object(d.a)(M,2),G=V[0],H=V[1],R=c.a.useState(""),W=Object(d.a)(R,2),Y=W[0],q=W[1],Q=function(){(function(){var e=!0;return i.length<3&&(b("Name must be at least 3 characters"),e=!1),m.length<3?(N("Email must be at least 3 characters"),e=!1):m.includes("@")&&m.includes(".")?N(""):(N("Please enter a valid email"),e=!1),z.length<6?(U("Password must be at least 6 characters"),e=!1):U(""),e})()&&(H(!0),L({name:i,email:m,password:z}).then((function(e){if(e.errors)return H(!1),q(Object.values(e.errors)[0][0]);q(""),K.setUserDetails(e.data,(function(e){if(e)return n.push("/profile");q("The system encountered an error, please try again later")}))})))};return Object(a.jsxs)(C.a,{elevation:3,className:t.wrapper,children:[Object(a.jsx)(S.a,{title:"Register"}),Object(a.jsxs)(k.a,{children:[Object(a.jsx)(w.a,{name:"name",label:"Name",autoFocus:!0,margin:"normal",value:i,onChange:function(e){return s(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&Q()},error:""!==j,helperText:j}),Object(a.jsx)(w.a,{name:"email",label:"Email",margin:"normal",value:m,onChange:function(e){return f(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&Q()},error:""!==y,helperText:y}),Object(a.jsx)(w.a,{name:"password",label:"Password",type:"password",margin:"normal",value:z,onChange:function(e){return B(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&Q()},error:""!==_,helperText:_}),Object(a.jsx)("br",{}),""!==Y&&Object(a.jsxs)(A.a,{component:"p",color:"error",style:{textAlign:"center"},children:[Object(a.jsx)(I.a,{color:"error",className:t.error}),Y]})]}),Object(a.jsx)(T.a,{children:Object(a.jsx)(h.a,{color:"secondary",variant:"contained",onClick:Q,disabled:G,endIcon:G?Object(a.jsx)(v.a,{size:18}):Object(a.jsx)(E.a,{}),children:"Register"})})]})})),ee=n(70),te=n(177),ne=z+"/api/articles",ae=function(){var e=Object(D.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(ne,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return t=e.sent,e.abrupt("return",t.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(D.a)(F.a.mark((function e(t){var n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(ne,"/").concat(t),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return n=e.sent,e.abrupt("return",n.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(D.a)(F.a.mark((function e(t,n){var a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(ne),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify(t)});case 3:return a=e.sent,e.abrupt("return",a.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),oe=function(){var e=Object(D.a)(F.a.mark((function e(t,n,a){var r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(ne,"/").concat(t),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(n)});case 3:return r=e.sent,e.abrupt("return",r.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,a){return e.apply(this,arguments)}}(),ie=function(){var e=Object(D.a)(F.a.mark((function e(t,n){var a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(ne,"/").concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)}});case 3:return a=e.sent,e.abrupt("return",a.status);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),se=n(171),ue=n(195),le=n(176),je=n(173),de=n(175),be=n(170),pe=n(162),Oe=function(e){var t=e.link,n=void 0===t?null:t,r=e.children;return n?Object(a.jsx)(pe.a,{component:s.b,to:n,children:r}):Object(a.jsx)("div",{children:r})},he=n(194),me=n(163),fe=n(164),xe=function(e){var t=e.link,n=e.label,r=e.icon;return t?Object(a.jsx)(he.a,{icon:r,label:n,color:"primary",clickable:!0,component:s.b,to:t}):Object(a.jsx)(he.a,{icon:r,label:n,color:"primary",clickable:!0})},ve=Object(y.a)((function(e){var t=e.spacing;return Object(b.a)({chipContainer:{"& > *":{margin:t(.5)}}})}))((function(e){var t=e.classes,n=e.article,r=e.isLink;return Object(a.jsxs)("div",{className:t.chipContainer,children:[Object(a.jsx)(xe,{icon:Object(a.jsx)(me.a,{}),label:n.user.name,link:r?"/user/".concat(n.user.id):null}),Object(a.jsx)(xe,{icon:Object(a.jsx)(fe.a,{}),label:n.category.title,link:r?"/category/".concat(n.category.id):null})]})})),ge=n(190),ye=n(165),Ce=n(166),Se=n(167),ke=n(168),we=n(169),Ae=Object(y.a)((function(e){var t=e.spacing;return Object(b.a)({root:{padding:t(1),margin:"".concat(t(2),"px 0")},actions:{justifyContent:"flex-end"}})}))((function(e){var t=e.history,n=e.open,r=e.article,o=e.handleClose,i=c.a.useState(""),s=Object(d.a)(i,2),u=s[0],l=s[1],j=c.a.useState(!1),b=Object(d.a)(j,2),p=b[0],O=b[1];return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsxs)(ge.a,{open:n,onClose:function(){return o(!1)},"aria-labelledby":"edit-article-dialog",children:[Object(a.jsx)(ye.a,{children:"Confirmation"}),Object(a.jsx)(Ce.a,{children:Object(a.jsx)(Se.a,{children:"Are you sure you want to delete this article?"})}),Object(a.jsxs)(ke.a,{children:[Object(a.jsx)(h.a,{color:"primary",variant:"contained",onClick:function(){return o(!1)},endIcon:Object(a.jsx)(we.a,{}),children:"Cancel"}),Object(a.jsx)(h.a,{color:"secondary",variant:"contained",onClick:function(){O(!0);var e=K.isAuthenticated();ie(r.id,e.token).then((function(e){if(console.log("data!",e),204!==e)return O(!1),o(!1),l("Could not delete article");t.push("/")}))},disabled:p,endIcon:p?Object(a.jsx)(v.a,{size:18}):Object(a.jsx)(be.a,{}),children:"Confirm"})]})]}),Object(a.jsx)(g.a,{open:""!==u,autoHideDuration:6e3,onClose:function(){return l("")},message:u})]})})),Te=Object(y.a)((function(e){var t=e.palette,n=e.spacing;return Object(b.a)({card:{margin:"".concat(n(4),"px auto")},avatar:{background:t.secondary.main},chipContainer:{"& > *":{margin:n(.5)}},divider:{margin:n(2)}})}))((function(e){var t=e.displayActions,n=e.history,r=e.classes,o=e.article,i=e.link,u=void 0===i?null:i,l=e.delay,j=void 0===l?0:l,b=c.a.useState(null),p=Object(d.a)(b,2),O=p[0],h=p[1],v=c.a.useState(!1),g=Object(d.a)(v,2),y=g[0],w=g[1],I=Boolean(O);return Object(a.jsx)(se.a,{in:!0,style:{transitionDelay:"".concat(j,"ms")},children:Object(a.jsxs)(C.a,{className:r.card,children:[Object(a.jsxs)(Oe,{link:u,children:[Object(a.jsx)(S.a,{avatar:Object(a.jsxs)(ue.a,{color:"secondary",className:r.avatar,children:[o.user.name[0],o.user.name.split(" ").length>1&&o.user.name.split(" ")[1][0]]}),title:o.title,subheader:new Date(o.created_at).toDateString(),action:t&&Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(m.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){h(e.currentTarget)},children:Object(a.jsx)(je.a,{})}),Object(a.jsxs)(f.a,{id:"menu",anchorEl:O,open:I,onClose:function(){h(null)},children:[Object(a.jsxs)(x.a,{component:s.b,to:"/articles/edit/".concat(o.id),children:[Object(a.jsx)(V.a,{children:Object(a.jsx)(de.a,{})}),Object(a.jsx)(G.a,{primary:"Edit"})]}),Object(a.jsxs)(x.a,{onClick:function(){return w(!0)},children:[Object(a.jsx)(V.a,{children:Object(a.jsx)(be.a,{})}),Object(a.jsx)(G.a,{primary:"Delete"})]})]})]})}),Object(a.jsxs)(k.a,{children:[Object(a.jsx)(c.a.Fragment,{children:Object(a.jsx)("div",{className:r.chipContainer,children:Object(a.jsx)(ve,{article:o,isLink:null===u})})}),!u&&Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(le.a,{className:r.divider}),Object(a.jsx)(A.a,{variant:"body2",color:"textSecondary",component:"p",children:o.body})]})]}),Object(a.jsx)(T.a,{})]}),Object(a.jsx)(Ae,{open:y,article:o,handleClose:w,history:n})]})})})),Ie=n(28),Ee=n(147),Ne=z+"/api/comments",Fe=function(){var e=Object(D.a)(F.a.mark((function e(t,n){var a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(Ne,"/").concat(t),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)}});case 3:return a=e.sent,e.abrupt("return",a.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),De=function(){var e=Object(D.a)(F.a.mark((function e(t,n){var a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(Ne),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify(t)});case 3:return a=e.sent,e.abrupt("return",a.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),ze=function(){var e=Object(D.a)(F.a.mark((function e(t,n,a){var r;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(Ne,"/").concat(t),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(n)});case 3:return r=e.sent,e.abrupt("return",r.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,a){return e.apply(this,arguments)}}(),Be=function(){var e=Object(D.a)(F.a.mark((function e(t,n){var a;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(Ne,"/").concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)}});case 3:return a=e.sent,e.abrupt("return",a.status);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),Pe=Object(y.a)((function(e){var t=e.spacing;return Object(b.a)({root:{padding:t(1),margin:"".concat(t(2),"px 0")},editTextfield:{width:"300px"},actions:{justifyContent:"flex-end"}})}))((function(e){var t=e.open,n=e.comment,r=e.updateComment,o=e.handleClose,i=e.classes,s=c.a.useState(n.body),u=Object(d.a)(s,2),l=u[0],j=u[1],b=c.a.useState(""),p=Object(d.a)(b,2),O=p[0],m=p[1],f=c.a.useState(!1),x=Object(d.a)(f,2),g=x[0],y=x[1],C=function(){if(function(){var e=!0;return n.length<5?(m("Comment must be at least 5 characters"),e=!1):m(""),e}()){y(!0);var e=K.isAuthenticated();ze(n.id,{body:l,article_id:n.article_id},e.token).then((function(e){if(e.errors)return y(!1),m(Object.values(e.errors)[0][0]);m(""),y(!1),r(e.body)}))}};return Object(a.jsxs)(ge.a,{open:t,onClose:function(){return o(!1)},"aria-labelledby":"edit-comment-dialog",children:[Object(a.jsx)(ye.a,{children:"Edit Comment"}),Object(a.jsx)(Ce.a,{children:Object(a.jsx)(w.a,{name:"comment",label:"Edit comment",autoFocus:!0,margin:"normal",className:i.editTextfield,value:l,onChange:function(e){return j(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&C()},error:""!==O,helperText:O,multiline:!0})}),Object(a.jsxs)(ke.a,{children:[Object(a.jsx)(h.a,{color:"primary",variant:"contained",onClick:function(){return o(!1)},children:"Cancel"}),Object(a.jsx)(h.a,{color:"secondary",variant:"contained",onClick:C,disabled:g,endIcon:g?Object(a.jsx)(v.a,{size:18}):Object(a.jsx)(E.a,{}),children:"Save"})]})]})})),Le=Object(y.a)((function(e){var t=e.spacing;return Object(b.a)({root:{padding:t(1),margin:"".concat(t(2),"px 0")},actions:{justifyContent:"flex-end"}})}))((function(e){var t=e.open,n=e.comment,r=e.deleteComment,o=e.handleClose,i=c.a.useState(""),s=Object(d.a)(i,2),u=s[0],l=s[1],j=c.a.useState(!1),b=Object(d.a)(j,2),p=b[0],O=b[1];return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsxs)(ge.a,{open:t,onClose:function(){return o(!1)},"aria-labelledby":"edit-comment-dialog",children:[Object(a.jsx)(ye.a,{children:"Confirmation"}),Object(a.jsx)(Ce.a,{children:Object(a.jsx)(Se.a,{children:"Are you sure you want to delete this comment?"})}),Object(a.jsxs)(ke.a,{children:[Object(a.jsx)(h.a,{color:"primary",variant:"contained",onClick:function(){return o(!1)},endIcon:Object(a.jsx)(we.a,{}),children:"Cancel"}),Object(a.jsx)(h.a,{color:"secondary",variant:"contained",onClick:function(){O(!0);var e=K.isAuthenticated();Be(n.id,e.token).then((function(e){if(console.log("data!",e),204!==e)return O(!1),o(!1),l("Could not delete comment");O(!1),o(!1),r(n.id)}))},disabled:p,endIcon:p?Object(a.jsx)(v.a,{size:18}):Object(a.jsx)(be.a,{}),children:"Confirm"})]})]}),Object(a.jsx)(g.a,{open:""!==u,autoHideDuration:6e3,onClose:function(){return l("")},message:u})]})})),Je=Object(y.a)((function(e){var t=e.palette,n=e.spacing;return Object(b.a)({card:{margin:"".concat(n(4),"px auto")},avatar:{background:t.secondary.main},chipContainer:{"& > *":{margin:n(.5)}},divider:{margin:n(2)}})}))((function(e){var t=e.classes,n=e.comment,o=e.removeComment,i=c.a.useState(null),s=Object(d.a)(i,2),u=s[0],l=s[1],j=c.a.useState(!0),b=Object(d.a)(j,2),p=b[0],O=b[1],h=c.a.useState(""),v=Object(d.a)(h,2),g=v[0],y=v[1],w=c.a.useState(null),I=Object(d.a)(w,2),E=I[0],N=I[1],F=c.a.useState(!1),D=Object(d.a)(F,2),z=D[0],B=D[1],P=c.a.useState(!1),L=Object(d.a)(P,2),J=L[0],_=L[1],U=c.a.useState(!1),M=Object(d.a)(U,2),H=M[0],R=M[1],W=Boolean(E),Y=function(){N(null)},q=Object(r.useCallback)((function(){O(!0);var e=K.isAuthenticated();Fe(n.id,e.token).then((function(t){if(!t||t.errors||t.exception)return O(!1),y(t&&t.errors?Object.values(t.errors)[0][0]:"Could not load data");y(""),l(t),e.user.id===t.user.id&&R(!0),O(!1)}))}),[n]);return Object(r.useEffect)((function(){q()}),[q]),p?Object(a.jsx)(a.Fragment,{}):""!==g?Object(a.jsx)(X,{message:g,action:q}):Object(a.jsx)(Ee.a,{in:!0,children:Object(a.jsxs)(C.a,{className:t.card,children:[Object(a.jsx)(S.a,{avatar:Object(a.jsxs)(ue.a,{color:"secondary",className:t.avatar,children:[u.user.name[0],u.user.name.split(" ").length>1&&u.user.name.split(" ")[1][0]]}),title:u.user.name,subheader:new Date(n.created_at).toDateString(),action:H&&Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(m.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){N(e.currentTarget)},children:Object(a.jsx)(je.a,{})}),Object(a.jsxs)(f.a,{id:"menu",anchorEl:E,open:W,onClose:Y,children:[Object(a.jsxs)(x.a,{onClick:function(){return B(!0)},children:[Object(a.jsx)(V.a,{children:Object(a.jsx)(de.a,{})}),Object(a.jsx)(G.a,{primary:"Edit"})]}),Object(a.jsxs)(x.a,{onClick:function(){return _(!0)},children:[Object(a.jsx)(V.a,{children:Object(a.jsx)(be.a,{})}),Object(a.jsx)(G.a,{primary:"Delete"})]})]})]})}),Object(a.jsx)(k.a,{children:Object(a.jsx)(A.a,{variant:"body2",color:"textSecondary",component:"p",children:u.body})}),Object(a.jsx)(T.a,{}),Object(a.jsx)(Pe,{open:z,comment:u,handleClose:B,updateComment:function(e){Y(),l((function(t){var n=t;return n.body=e,Object(Ie.a)({},n)})),B(!1)}}),Object(a.jsx)(Le,{open:J,comment:u,handleClose:_,deleteComment:function(e){Y(),o(e)}})]})})})),Ke=Object(y.a)((function(e){var t=e.spacing;return Object(b.a)({root:{padding:t(1),margin:"".concat(t(2),"px 0")},actions:{justifyContent:"flex-end"}})}))((function(e){var t=e.classes,n=e.articleId,r=e.addComment,o=c.a.useState(""),i=Object(d.a)(o,2),s=i[0],u=i[1],l=c.a.useState(""),j=Object(d.a)(l,2),b=j[0],p=j[1],O=c.a.useState(!1),m=Object(d.a)(O,2),f=m[0],x=m[1],g=function(){if(function(){var e=!0;return s.length<5?(p("Comment must be at least 5 characters"),e=!1):p(""),e}()){x(!0);var e=K.isAuthenticated();De({body:s,article_id:n},e.token).then((function(e){if(!e||e.errors||e.exception)return x(!1),p(e&&e.errors?Object.values(e.errors)[0][0]:"Could not create article");p(""),x(!1),u(""),r(e)}))}};return Object(a.jsxs)(C.a,{className:t.root,children:[Object(a.jsx)(w.a,{name:"comment",label:"Add a comment",autoFocus:!0,margin:"normal",value:s,onChange:function(e){return u(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&g()},error:""!==b,helperText:b,multiline:!0}),Object(a.jsx)(T.a,{className:t.actions,children:Object(a.jsx)(h.a,{color:"secondary",variant:"contained",onClick:g,disabled:f,endIcon:f?Object(a.jsx)(v.a,{size:18}):Object(a.jsx)(E.a,{}),children:"Post"})})]})})),_e=Object(l.f)((function(e){var t=e.comments,n=e.history,r=e.articleId,o=e.addComment,i=e.removeComment,s=K.isAuthenticated();return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(A.a,{variant:"h3",children:"Comments"}),s?Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(Ke,{articleId:r,addComment:function(e){return o(e)}}),t.length>0?t.map((function(e,t){return Object(a.jsx)(Je,{comment:e,removeComment:i},e.id)})):Object(a.jsx)(A.a,{variant:"body2",style:{textAlign:"center"},children:"No comments found"})]}):Object(a.jsx)(X,{message:"Please login to view comments",action:function(){n.push("/login".concat(window.location.pathname))},actionLabel:"Login"})]})})),Ue=Object(y.a)((function(e){var t=e.palette,n=e.spacing;return Object(b.a)({card:{margin:"".concat(n(4),"px auto")},avatar:{background:t.secondary.main},fab:{position:"fixed",bottom:n(2),right:n(2),"& .MuiFab-primary":{background:t.secondary.main}}})}))((function(e){var t=e.history,n=e.match,o=c.a.useState([]),i=Object(d.a)(o,2),u=i[0],l=i[1],j=c.a.useState([]),b=Object(d.a)(j,2),p=b[0],O=b[1],m=c.a.useState(!0),f=Object(d.a)(m,2),x=f[0],v=f[1],g=c.a.useState(""),y=Object(d.a)(g,2),C=y[0],S=y[1],k=c.a.useState(!1),w=Object(d.a)(k,2),A=w[0],T=w[1],I=Object(r.useCallback)((function(){v(!0);var e=n.params.id,t=K.isAuthenticated();re(e).then((function(e){if(!e||e.errors||e.exception)return v(!1),S(e&&e.errors?Object.values(e.errors)[0][0]:"Could not load data");S(""),e.comments.length>0&&(O(e.comments.reverse()),delete e.comments),l(e),t&&t.user.id===e.user.id&&T(!0),v(!1)}))}),[n]);Object(r.useEffect)((function(){I()}),[I]);return x?Object(a.jsx)(q,{}):""!==C?Object(a.jsx)(X,{message:C,action:I}):Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(h.a,{component:s.b,to:"/",startIcon:Object(a.jsx)(te.a,{}),children:"Back"}),Object(a.jsx)(Te,{article:u,history:t,displayActions:A}),Object(a.jsx)(_e,{articleId:u.id,comments:p,addComment:function(e){return O((function(t){return[e].concat(Object(ee.a)(t))}))},removeComment:function(e){O((function(t){var n=t.filter((function(t){return t.id!==e}));return Object(ee.a)(n)}))}})]})})),Me=n(180),Ve=n(181),Ge=n(189),He=n(187),Re=n(178),We=n(179),Ye=Object(a.jsx)(Re.a,{fontSize:"small"}),qe=Object(a.jsx)(We.a,{fontSize:"small"}),Qe=function(e){var t=e.categories,n=e.selectCategory,r=e.defaultValueIndex,o=void 0===r?null:r;return t&&t.length>0?Object(a.jsx)(He.a,{multiple:!0,id:"filter-categories",options:t,getOptionLabel:function(e){return e.title},disableCloseOnSelect:!0,limitTags:3,defaultValue:null!==o?[t[o]]:void 0,onChange:function(e,t){return n(t)},renderOption:function(e,t){var n=t.selected;return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(Ge.a,{icon:Ye,checkedIcon:qe,style:{marginRight:8},checked:n}),e.title]})},renderInput:function(e){return Object(a.jsx)(w.a,Object(Ie.a)(Object(Ie.a)({},e),{},{variant:"outlined",label:"Filter by Category",placeholder:"Basketball"}))}}):Object(a.jsx)(a.Fragment,{})},Xe=Object(a.jsx)(Re.a,{fontSize:"small"}),Ze=Object(a.jsx)(We.a,{fontSize:"small"}),$e=function(e){var t=e.authors,n=e.selectAuthor,r=e.defaultValueIndex,o=void 0===r?null:r;return t&&t.length>0?Object(a.jsx)(He.a,{multiple:!0,id:"filter-authors",options:t,getOptionLabel:function(e){return e.name},disableCloseOnSelect:!0,limitTags:3,defaultValue:null!==o?[t[o]]:void 0,onChange:function(e,t){return n(t)},renderOption:function(e,t){var n=t.selected;return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(Ge.a,{icon:Xe,checkedIcon:Ze,style:{marginRight:8},checked:n}),e.name]})},renderInput:function(e){return Object(a.jsx)(w.a,Object(Ie.a)(Object(Ie.a)({},e),{},{variant:"outlined",label:"Filter by Author",placeholder:"Author"}))}}):Object(a.jsx)(a.Fragment,{})},et=z+"/api/categories",tt=function(){var e=Object(D.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(et,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return t=e.sent,e.abrupt("return",t.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),nt=Object(y.a)((function(e){var t=e.spacing;return Object(b.a)({fab:{position:"fixed",bottom:t(2),right:t(2)}})}))((function(e){var t=e.classes,n=c.a.useState("Articles"),o=Object(d.a)(n,2),i=o[0],u=o[1],l=c.a.useState([]),j=Object(d.a)(l,2),b=j[0],p=j[1],O=c.a.useState([]),h=Object(d.a)(O,2),m=h[0],f=h[1],x=c.a.useState([]),v=Object(d.a)(x,2),g=v[0],y=v[1],C=c.a.useState([]),S=Object(d.a)(C,2),k=S[0],w=S[1],T=c.a.useState([]),I=Object(d.a)(T,2),E=I[0],N=I[1],F=c.a.useState(!0),D=Object(d.a)(F,2),z=D[0],B=D[1],P=c.a.useState(""),L=Object(d.a)(P,2),J=L[0],_=L[1],U=c.a.useState(null),M=Object(d.a)(U,2),V=M[0],G=M[1],H=c.a.useState(null),R=Object(d.a)(H,2),W=R[0],Y=R[1],Q=K.isAuthenticated(),Z=Object(r.useCallback)((function(){B(!0),ae().then((function(e){if(!e||e.errors||e.exception)return B(!1),_(e&&e.errors?Object.values(e.errors)[0][0]:"Could not load data");_("");var t=e.reverse(),n=[];if(t.forEach((function(e){-1===n.findIndex((function(t){return t.id===e.user.id}))&&n.push(e.user)})),p(e),f(n),window.location.pathname.includes("user")){var a=parseInt(window.location.pathname.split("user/")[1]),r=n.findIndex((function(e){return e.id===a}));-1!==r&&(Y(r),u("Articles by ".concat(n[r].name)),w([n[r]]))}})),tt().then((function(e){if(!e||e.errors||e.exception)return B(!1),_(e&&e.errors?Object.values(e.errors)[0][0]:"Could not load data");if(_(""),window.location.pathname.includes("category")){var t=window.location.pathname.split("category/")[1],n=e.findIndex((function(e){return e.id===parseInt(t)}));u("".concat(e[n].title," Articles")),-1!==n&&G(n),N([e[n]])}y(e),B(!1)}))}),[]);Object(r.useEffect)((function(){Z()}),[Z]);return z?Object(a.jsx)(q,{}):""!==J?Object(a.jsx)(X,{message:J,action:Z}):Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(A.a,{variant:"h3",children:i}),Object(a.jsx)(Qe,{defaultValueIndex:V,categories:g,selectCategory:function(e){null!==V&&g[V].id!==e[V]&&u("Articles"),N(e)}}),Object(a.jsx)($e,{authors:m,selectAuthor:function(e){null!==W&&m[W]!==e[W]&&u("Articles"),w(e)},defaultValueIndex:W}),b.filter((function(e){return E.length>0||k.length>0?-1!==E.findIndex((function(t){return t.id===e.category.id}))||-1!==k.findIndex((function(t){return t.id===e.user.id})):e})).map((function(e,t){return Object(a.jsx)(Te,{delay:200*(t+1),article:e,link:"/article/".concat(e.id)},t)})),Q&&Object(a.jsx)(Me.a,{className:t.fab,component:s.b,"aria-label":"Add Article",color:"secondary",to:"/articles/new",children:Object(a.jsx)(Ve.a,{})})]})})),at=[{name:"Login",link:"/login",component:_,authed:!1,displayOnNav:!0},{name:"Register",link:"/register",component:$,authed:!1,displayOnNav:!0},{name:"Profile",link:"/profile",component:Z,authed:!0},{name:"Article",link:"/article/:id",component:Ue,authed:!1},{name:"Create Article",link:"/articles/new",component:Object(y.a)((function(e){var t=e.spacing;return Object(b.a)({wrapper:{padding:t(4)}})}))((function(e){var t=e.history,n=e.classes,o=c.a.useState(""),i=Object(d.a)(o,2),u=i[0],l=i[1],j=c.a.useState(""),b=Object(d.a)(j,2),p=b[0],O=b[1],m=c.a.useState(""),f=Object(d.a)(m,2),x=f[0],g=f[1],y=c.a.useState(""),A=Object(d.a)(y,2),I=A[0],N=A[1],F=c.a.useState(null),D=Object(d.a)(F,2),z=D[0],B=D[1],P=c.a.useState([]),L=Object(d.a)(P,2),J=L[0],_=L[1],U=c.a.useState(!0),M=Object(d.a)(U,2),V=M[0],G=M[1],H=c.a.useState(!1),R=Object(d.a)(H,2),W=R[0],Y=R[1],Q=c.a.useState(""),Z=Object(d.a)(Q,2),$=Z[0],ee=Z[1],ne=Object(r.useCallback)((function(){tt().then((function(e){if(!e||e.errors||e.exception)return G(!1),ee(e&&e.errors?Object.values(e.errors)[0][0]:"Could not load data");_(e),B(e[0]),ee(""),G(!1)}))}),[]);Object(r.useEffect)((function(){ne()}),[ne]);var ae=function(){if(function(){var e=!0;return u.length<5?(O("Title must be at least 5 characters"),e=!1):O(""),x.length<5?(N("Body must be at least 5 characters"),e=!1):N(""),e}()){Y(!0);var e=K.isAuthenticated();ce({title:u,body:x,category_id:z.id},e.token).then((function(e){if(!e||e.errors||e.exception)return Y(!1),ee(e&&e.errors?Object.values(e.errors)[0][0]:"Could not create article");t.push("/article/".concat(e.id))}))}};return V?Object(a.jsx)(q,{}):""!==$?Object(a.jsx)(X,{message:$,action:ne}):Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(h.a,{component:s.b,to:"/",startIcon:Object(a.jsx)(te.a,{}),children:"Back"}),Object(a.jsxs)(C.a,{elevation:3,className:n.wrapper,children:[Object(a.jsx)(S.a,{title:"Create Article"}),Object(a.jsxs)(k.a,{children:[Object(a.jsx)(He.a,{value:z,options:J,getOptionLabel:function(e){return e.title},onChange:function(e,t){return B(t)},renderInput:function(e){return Object(a.jsx)(w.a,Object(Ie.a)(Object(Ie.a)({},e),{},{variant:"outlined",label:"Select Category",placeholder:"Basketball"}))}}),Object(a.jsx)(w.a,{name:"title",label:"Title",autoFocus:!0,margin:"normal",value:u,onChange:function(e){return l(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&ae()},error:""!==p,helperText:p}),Object(a.jsx)(w.a,{name:"body",label:"Body",autoFocus:!0,margin:"normal",value:x,onChange:function(e){return g(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&ae()},error:""!==I,helperText:I,multiline:!0})]}),Object(a.jsx)(T.a,{children:Object(a.jsx)(h.a,{color:"secondary",variant:"contained",onClick:ae,disabled:W,endIcon:W?Object(a.jsx)(v.a,{size:18}):Object(a.jsx)(E.a,{}),children:"Create"})})]})]})})),authed:!0},{name:"Edit Article",link:"/articles/edit/:id",component:Object(y.a)((function(e){var t=e.spacing;return Object(b.a)({wrapper:{padding:t(4)}})}))((function(e){var t=e.match,n=e.history,o=e.classes,i=c.a.useState(0),u=Object(d.a)(i,2),l=u[0],j=u[1],b=c.a.useState(""),p=Object(d.a)(b,2),O=p[0],m=p[1],f=c.a.useState(""),x=Object(d.a)(f,2),g=x[0],y=x[1],A=c.a.useState(""),I=Object(d.a)(A,2),N=I[0],F=I[1],D=c.a.useState(""),z=Object(d.a)(D,2),B=z[0],P=z[1],L=c.a.useState(null),J=Object(d.a)(L,2),_=J[0],U=J[1],M=c.a.useState([]),V=Object(d.a)(M,2),G=V[0],H=V[1],R=c.a.useState(!0),W=Object(d.a)(R,2),Y=W[0],Q=W[1],Z=c.a.useState(!1),$=Object(d.a)(Z,2),ee=$[0],ne=$[1],ae=c.a.useState(""),ce=Object(d.a)(ae,2),ie=ce[0],se=ce[1],ue=Object(r.useCallback)((function(){var e=t.params.id;re(e).then((function(e){if(!e||e.errors||e.exception)return se(e&&e.errors?Object.values(e.errors)[0][0]:"Could not load data"),Q(!1);m(e.title),F(e.body),j(e.id);var t=e.category_id;tt().then((function(e){if(!e||e.errors||e.exception)return se(e&&e.errors?Object.values(e.errors)[0][0]:"Could not load data"),Q(!1);var n=e.findIndex((function(e){return e.id===t}));H(e),U(e[n]),Q(!1),se("")}))}))}),[t]);Object(r.useEffect)((function(){ue()}),[ue]);var le=function(){if(function(){var e=!0;return O.length<5?(y("Title must be at least 5 characters"),e=!1):y(""),N.length<5?(P("Body must be at least 5 characters"),e=!1):P(""),e}()){ne(!0);var e=K.isAuthenticated();oe(l,{title:O,body:N,category_id:_.id},e.token).then((function(e){if(!e||e.errors||e.exception)return ne(!1),se(e&&e.errors?Object.values(e.errors)[0][0]:"Could not create article");n.push("/article/".concat(e.id))}))}};return Y?Object(a.jsx)(q,{}):""!==ie?Object(a.jsx)(X,{message:ie,action:ue}):Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(h.a,{component:s.b,to:"/article/".concat(l),startIcon:Object(a.jsx)(te.a,{}),children:"Back"}),Object(a.jsxs)(C.a,{elevation:3,className:o.wrapper,children:[Object(a.jsx)(S.a,{title:"Edit Article"}),Object(a.jsxs)(k.a,{children:[Object(a.jsx)(He.a,{value:_,options:G,getOptionLabel:function(e){return e.title},onChange:function(e,t){return U(t)},renderInput:function(e){return Object(a.jsx)(w.a,Object(Ie.a)(Object(Ie.a)({},e),{},{variant:"outlined",label:"Select Category",placeholder:"Basketball"}))}}),Object(a.jsx)(w.a,{name:"title",label:"Title",autoFocus:!0,margin:"normal",value:O,onChange:function(e){return m(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&le()},error:""!==g,helperText:g}),Object(a.jsx)(w.a,{name:"body",label:"Body",autoFocus:!0,margin:"normal",value:N,onChange:function(e){return F(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&le()},error:""!==B,helperText:B,multiline:!0})]}),Object(a.jsx)(T.a,{children:Object(a.jsx)(h.a,{color:"secondary",variant:"contained",onClick:le,disabled:ee,endIcon:ee?Object(a.jsx)(v.a,{size:18}):Object(a.jsx)(E.a,{}),children:"Save"})})]})]})})),authed:!0},{name:"Articles by User",link:"/user/:id",component:nt,authed:!1},{name:"Articles by Category",link:"/category/:id",component:nt,authed:!1}],rt=Object(l.f)(Object(y.a)((function(){return Object(b.a)({root:{justifyContent:"space-between","& a":{color:"#fff"}}})}))((function(e){var t=e.history,n=e.classes,o=c.a.useState(!1),i=Object(d.a)(o,2),u=i[0],l=i[1],j=c.a.useState(!1),b=Object(d.a)(j,2),y=b[0],C=b[1],S=c.a.useState(""),k=Object(d.a)(S,2),w=k[0],A=k[1],T=c.a.useState(null),I=Object(d.a)(T,2),E=I[0],N=I[1],F=Boolean(E),D=function(){N(null)};Object(r.useEffect)((function(){var e=function(e){return l(e)},n=K.isAuthenticated();e(!!n),t.listen((function(){var t=K.isAuthenticated();e(!!t)}))}),[t]);return Object(a.jsxs)(p.a,{position:"static",children:[Object(a.jsxs)(O.a,{className:n.root,children:[Object(a.jsx)(h.a,{component:s.b,to:"/",children:"Adv JS CA2"}),Object(a.jsxs)("div",{children:[Object(a.jsx)(h.a,{component:s.b,to:"/",children:"Articles"}),at.filter((function(e){return e.authed===u&&e.displayOnNav})).map((function(e,t){return Object(a.jsx)(h.a,{component:s.b,to:e.link,children:e.name},t)})),u&&Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(m.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){N(e.currentTarget)},color:"inherit",children:Object(a.jsx)(H.a,{})}),Object(a.jsxs)(f.a,{id:"menu-appbar",anchorEl:E,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:F,onClose:D,children:[Object(a.jsx)(x.a,{component:s.b,to:"/profile",onClick:D,children:"Profile"}),Object(a.jsxs)(x.a,{disabled:y,onClick:function(){var e=K.isAuthenticated();e?(C(!0),J(e.token).then((function(e){if(e.errors)return C(!1),A(Object.values(e.errors)[0][0]);K.unsetUserDetails((function(e){if(e)return l(!1),C(!1),D(),A("Logged out successfully"),t.push("/");A("The system encountered an error, please try again later")}))}))):(l(!1),A("The system encountered an error, please try again later"))},children:["Logout ",y&&Object(a.jsx)(v.a,{size:18})]})]})]})]})]}),Object(a.jsx)(g.a,{open:""!==w,autoHideDuration:6e3,onClose:function(){return A("")},message:w})]})}))),ct=function(){return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(rt,{}),Object(a.jsx)(j.a,{container:!0,spacing:8,justify:"center",style:{marginTop:"20px",marginBottom:"20px"},children:Object(a.jsx)(j.a,{item:!0,xs:11,children:Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{exact:!0,path:"/",component:nt}),at.map((function(e,t){var n=e.link,r=e.component;return Object(a.jsx)(l.a,{path:n,component:r},t)}))]})})})]})},ot=n(81),it=n(193),st=Object(ot.a)({palette:{primary:{main:"#2196f3"},secondary:{main:"#ffc400"}},typography:{fontFamily:["Poppins","sans-serif"].join(",")},overrides:{MuiGrid:{item:{maxWidth:"800px!important"}},MuiTextField:{root:{width:"100%",margin:"16px auto"}},MuiListItemText:{root:{display:"flex",flexDirection:"column-reverse"}},MuiTypography:{h3:{fontWeight:500,fontSize:"2.3em",margin:"10px"}}}}),ut=st=Object(it.a)(st),lt=function(){return Object(a.jsx)(s.a,{children:Object(a.jsx)(u.a,{theme:ut,children:Object(a.jsx)(ct,{})})})},jt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,196)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))};i.a.render(Object(a.jsx)(lt,{}),document.getElementById("root")),jt()}},[[108,1,2]]]);
//# sourceMappingURL=main.83958b95.chunk.js.map