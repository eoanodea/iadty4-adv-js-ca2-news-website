(this["webpackJsonpca2-client"]=this["webpackJsonpca2-client"]||[]).push([[0],{109:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),c=n.n(r),o=n(14),i=n.n(o),s=n(16),l=n(189),u=n(18),j=n(181),d=n(24),b=n(6),p=n(84),O=n(196),h=n(184),m=n(185),f=n(186),x=n(187),g=n(188),v=n(153),y=n(173),C=n(83),S=n(175),k=n(154),w=n(195),A=n(5),T=n(142),I=n(146),E=n(147),N=n(190),F=n(37),D=n(152),z=n(151),B=n(155),P=n(13),L=n.n(P),J=n(21),K="https://iadt-adv-js-server.herokuapp.com",_=K+"/api",H=function(){var e=Object(J.a)(L.a.mark((function e(t){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(_,"/login"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return n=e.sent,e.abrupt("return",n.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(J.a)(L.a.mark((function e(t){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(_,"/register"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return n=e.sent,e.abrupt("return",n.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(J.a)(L.a.mark((function e(t){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(_,"/logout"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 3:return n=e.sent,e.abrupt("return",n.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),V={setUserDetails:function(e,t){var n={token:e.api_token,user:{name:e.name,email:e.email,id:e.id,created:e.created_at}};sessionStorage.setItem("jwt",JSON.stringify(n)),t(!0)},unsetUserDetails:function(e){sessionStorage.removeItem("jwt"),e(!0)},isAuthenticated:function(){if("undefined"==typeof window)return!1;if(sessionStorage.getItem("jwt")){var e=JSON.parse(sessionStorage.getItem("jwt"));return!(!e||!e.user)&&e}return!1}},G=Object(A.a)((function(e){var t=e.spacing;return Object(O.a)({wrapper:{padding:t(4)}})}))((function(e){var t=e.classes,n=e.history,r=c.a.useState(""),o=Object(b.a)(r,2),i=o[0],s=o[1],l=c.a.useState(""),u=Object(b.a)(l,2),j=u[0],d=u[1],p=c.a.useState(""),O=Object(b.a)(p,2),h=O[0],m=O[1],f=c.a.useState(""),x=Object(b.a)(f,2),g=x[0],y=x[1],C=c.a.useState(!1),S=Object(b.a)(C,2),w=S[0],A=S[1],P=c.a.useState(""),L=Object(b.a)(P,2),J=L[0],K=L[1],_=function(){(function(){var e=!0;return i.length<3?(d("Email must be at least 3 characters"),e=!1):i.includes("@")&&i.includes(".")?d(""):(d("Please enter a valid email"),e=!1),h.length<6?(y("Password must be at least 6 characters"),e=!1):y(""),e})()&&(A(!0),H({email:i,password:h}).then((function(e){if(e.errors)return A(!1),K(Object.values(e.errors)[0][0]);K(""),V.setUserDetails(e.data,(function(e){if(e)return window.location.pathname.includes("login/")?n.push(window.location.pathname.split("login")[1]):n.push("/profile");K("The system encountered an error, please try again later")}))})))};return Object(a.jsxs)(T.a,{elevation:3,className:t.wrapper,children:[Object(a.jsx)(I.a,{title:"Login"}),Object(a.jsxs)(E.a,{children:[Object(a.jsx)(N.a,{name:"email",label:"Email",autoFocus:!0,margin:"normal",value:i,onChange:function(e){return s(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&_()},error:""!==j,helperText:j}),Object(a.jsx)(N.a,{name:"password",label:"Password",type:"password",margin:"normal",value:h,onChange:function(e){return m(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&_()},error:""!==g,helperText:g}),Object(a.jsx)("br",{}),""!==J&&Object(a.jsxs)(F.a,{component:"p",color:"error",style:{textAlign:"center"},children:[Object(a.jsx)(z.a,{color:"error",className:t.error}),J]})]}),Object(a.jsx)(D.a,{children:Object(a.jsx)(v.a,{color:"secondary",variant:"contained",onClick:_,disabled:w,endIcon:w?Object(a.jsx)(k.a,{size:18}):Object(a.jsx)(B.a,{}),children:"Login"})})]})})),R=n(150),W=n(110),Y=n(157),q=n(159),Q=n(158),X=n(160),Z=n(161),$=n(162),ee=Object(A.a)((function(){return Object(O.a)({progressWrapper:{minHeight:"-webkit-fill-available",display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",top:0,bottom:0,left:0,right:0}})}))((function(e){var t=e.classes;return Object(a.jsx)("div",{className:t.progressWrapper,children:Object(a.jsx)("div",{children:Object(a.jsx)(k.a,{})})})})),te=n(156),ne=Object(A.a)((function(e){var t=e.spacing;return Object(O.a)({wrapper:{padding:t(4),textAlign:"center"},icon:{fontSize:"3em"},header:{display:"flex",flexDirection:"column-reverse",justifyContent:"center"},iconContainer:{textAlign:"center"}})}))((function(e){var t=e.message,n=e.classes,r=e.action,c=e.actionLabel,o=void 0===c?"Try Again":c;return Object(a.jsxs)(T.a,{elevation:3,className:n.wrapper,children:[Object(a.jsx)("div",{className:n.iconContainer,children:Object(a.jsx)(z.a,{color:"error",className:n.icon})}),Object(a.jsx)(I.a,{title:t||"There was a problem",className:n.header}),r?Object(a.jsx)(v.a,{className:n.iconContainer,variant:"contained",color:"secondary",endIcon:Object(a.jsx)(te.a,{}),onClick:r,children:o}):Object(a.jsx)(v.a,{component:s.b,to:"/",color:"primary",variant:"contained",children:"Home"})]})})),ae=Object(A.a)((function(e){var t=e.spacing;return Object(O.a)({wrapper:{padding:t(4)}})}))((function(e){var t=e.classes,n=e.history,o=c.a.useState(null),i=Object(b.a)(o,2),s=i[0],l=i[1],u=c.a.useState(!0),j=Object(b.a)(u,2),d=j[0],p=j[1],O=c.a.useState(""),h=Object(b.a)(O,2),m=h[0],f=h[1];Object(r.useEffect)((function(){var e=V.isAuthenticated();e?(l(e.user),p(!1)):(f("You are not authenticated, please log in"),p(!1))}),[]);return d?Object(a.jsx)(ee,{}):""!==m?Object(a.jsx)(ne,{message:m}):Object(a.jsxs)(T.a,{elevation:3,className:t.wrapper,children:[Object(a.jsx)(I.a,{title:"Profile"}),Object(a.jsxs)(R.a,{children:[Object(a.jsxs)(W.a,{button:!0,children:[Object(a.jsx)(Y.a,{children:Object(a.jsx)(Q.a,{})}),Object(a.jsx)(q.a,{secondary:"Name",primary:s.name})]}),Object(a.jsxs)(W.a,{button:!0,children:[Object(a.jsx)(Y.a,{children:Object(a.jsx)(X.a,{})}),Object(a.jsx)(q.a,{secondary:"Email",primary:s.email})]}),Object(a.jsxs)(W.a,{button:!0,children:[Object(a.jsx)(Y.a,{children:Object(a.jsx)(Z.a,{})}),Object(a.jsx)(q.a,{secondary:"Date Joined",primary:new Date(s.created).toDateString()})]})]}),Object(a.jsx)(D.a,{children:Object(a.jsx)(v.a,{color:"secondary",variant:"contained",onClick:function(){var e=V.isAuthenticated();e?(p(!0),M(e.token).then((function(e){if(e.errors)return p(!1),f(Object.values(e.errors)[0][0]);f(""),V.unsetUserDetails((function(e){if(e)return n.push("/");f("The system encountered an error, please try again later")}))}))):f("The system encountered an error, please try again later")},endIcon:Object(a.jsx)($.a,{}),children:"Logout"})})]})})),re=Object(A.a)((function(e){var t=e.spacing;return Object(O.a)({wrapper:{padding:t(4)}})}))((function(e){var t=e.classes,n=e.history,r=c.a.useState(""),o=Object(b.a)(r,2),i=o[0],s=o[1],l=c.a.useState(""),u=Object(b.a)(l,2),j=u[0],d=u[1],p=c.a.useState(""),O=Object(b.a)(p,2),h=O[0],m=O[1],f=c.a.useState(""),x=Object(b.a)(f,2),g=x[0],y=x[1],C=c.a.useState(""),S=Object(b.a)(C,2),w=S[0],A=S[1],P=c.a.useState(""),L=Object(b.a)(P,2),J=L[0],K=L[1],_=c.a.useState(!1),H=Object(b.a)(_,2),M=H[0],G=H[1],R=c.a.useState(""),W=Object(b.a)(R,2),Y=W[0],q=W[1],Q=function(){(function(){var e=!0;return i.length<3&&(d("Name must be at least 3 characters"),e=!1),h.length<3?(y("Email must be at least 3 characters"),e=!1):h.includes("@")&&h.includes(".")?y(""):(y("Please enter a valid email"),e=!1),w.length<6?(K("Password must be at least 6 characters"),e=!1):K(""),e})()&&(G(!0),U({name:i,email:h,password:w}).then((function(e){if(e.errors)return G(!1),q(Object.values(e.errors)[0][0]);q(""),V.setUserDetails(e.data,(function(e){if(e)return n.push("/profile");q("The system encountered an error, please try again later")}))})))};return Object(a.jsxs)(T.a,{elevation:3,className:t.wrapper,children:[Object(a.jsx)(I.a,{title:"Register"}),Object(a.jsxs)(E.a,{children:[Object(a.jsx)(N.a,{name:"name",label:"Name",autoFocus:!0,margin:"normal",value:i,onChange:function(e){return s(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&Q()},error:""!==j,helperText:j}),Object(a.jsx)(N.a,{name:"email",label:"Email",margin:"normal",value:h,onChange:function(e){return m(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&Q()},error:""!==g,helperText:g}),Object(a.jsx)(N.a,{name:"password",label:"Password",type:"password",margin:"normal",value:w,onChange:function(e){return A(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&Q()},error:""!==J,helperText:J}),Object(a.jsx)("br",{}),""!==Y&&Object(a.jsxs)(F.a,{component:"p",color:"error",style:{textAlign:"center"},children:[Object(a.jsx)(z.a,{color:"error",className:t.error}),Y]})]}),Object(a.jsx)(D.a,{children:Object(a.jsx)(v.a,{color:"secondary",variant:"contained",onClick:Q,disabled:M,endIcon:M?Object(a.jsx)(k.a,{size:18}):Object(a.jsx)(B.a,{}),children:"Register"})})]})})),ce=n(70),oe=n(178),ie=K+"/api/articles",se=function(){var e=Object(J.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(ie,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return t=e.sent,e.abrupt("return",t.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=Object(J.a)(L.a.mark((function e(t){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(ie,"/").concat(t),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return n=e.sent,e.abrupt("return",n.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(J.a)(L.a.mark((function e(t,n){var a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(ie),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify(t)});case 3:return a=e.sent,e.abrupt("return",a.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),je=function(){var e=Object(J.a)(L.a.mark((function e(t,n,a){var r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(ie,"/").concat(t),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(n)});case 3:return r=e.sent,e.abrupt("return",r.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,a){return e.apply(this,arguments)}}(),de=function(){var e=Object(J.a)(L.a.mark((function e(t,n){var a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(ie,"/").concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)}});case 3:return a=e.sent,e.abrupt("return",a.status);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),be=n(172),pe=n(199),Oe=n(177),he=n(174),me=n(176),fe=n(171),xe=n(163),ge=function(e){var t=e.link,n=void 0===t?null:t,r=e.children;return n?Object(a.jsx)(xe.a,{component:s.b,to:n,children:r}):Object(a.jsx)("div",{children:r})},ve=n(198),ye=n(164),Ce=n(165),Se=function(e){var t=e.link,n=e.label,r=e.icon;return t?Object(a.jsx)(ve.a,{icon:r,label:n,color:"primary",clickable:!0,component:s.b,to:t}):Object(a.jsx)(ve.a,{icon:r,label:n,color:"primary",clickable:!0})},ke=Object(A.a)((function(e){var t=e.spacing;return Object(O.a)({chipContainer:{"& > *":{margin:t(.5)}}})}))((function(e){var t=e.classes,n=e.article,r=e.isLink;return Object(a.jsxs)("div",{className:t.chipContainer,children:[Object(a.jsx)(Se,{icon:Object(a.jsx)(ye.a,{}),label:n.user.name,link:r?"/user/".concat(n.user.id):null}),Object(a.jsx)(Se,{icon:Object(a.jsx)(Ce.a,{}),label:n.category.title,link:r?"/category/".concat(n.category.id):null})]})})),we=n(194),Ae=n(166),Te=n(167),Ie=n(168),Ee=n(169),Ne=n(170),Fe=Object(A.a)((function(e){var t=e.spacing;return Object(O.a)({root:{padding:t(1),margin:"".concat(t(2),"px 0")},actions:{justifyContent:"flex-end"}})}))((function(e){var t=e.history,n=e.open,r=e.article,o=e.handleClose,i=c.a.useState(""),s=Object(b.a)(i,2),l=s[0],u=s[1],j=c.a.useState(!1),d=Object(b.a)(j,2),p=d[0],O=d[1];return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsxs)(we.a,{open:n,onClose:function(){return o(!1)},"aria-labelledby":"edit-article-dialog",children:[Object(a.jsx)(Ae.a,{children:"Confirmation"}),Object(a.jsx)(Te.a,{children:Object(a.jsx)(Ie.a,{children:"Are you sure you want to delete this article?"})}),Object(a.jsxs)(Ee.a,{children:[Object(a.jsx)(v.a,{color:"primary",variant:"contained",onClick:function(){return o(!1)},endIcon:Object(a.jsx)(Ne.a,{}),children:"Cancel"}),Object(a.jsx)(v.a,{color:"secondary",variant:"contained",onClick:function(){O(!0);var e=V.isAuthenticated();de(r.id,e.token).then((function(e){if(console.log("data!",e),204!==e)return O(!1),o(!1),u("Could not delete article");t.push("/")}))},disabled:p,endIcon:p?Object(a.jsx)(k.a,{size:18}):Object(a.jsx)(fe.a,{}),children:"Confirm"})]})]}),Object(a.jsx)(w.a,{open:""!==l,autoHideDuration:6e3,onClose:function(){return u("")},message:l})]})})),De=Object(A.a)((function(e){var t=e.palette,n=e.spacing;return Object(O.a)({card:{margin:"".concat(n(4),"px auto")},fixedHeightCard:{height:200},avatar:{background:t.secondary.main},chipContainer:{"& > *":{margin:n(.5)}},divider:{margin:n(2)}})}))((function(e){var t=e.displayActions,n=e.history,r=e.classes,o=e.article,i=e.link,l=void 0===i?null:i,u=e.delay,j=void 0===u?0:u,d=e.disableHeight,p=void 0===d||d,O=c.a.useState(null),h=Object(b.a)(O,2),m=h[0],f=h[1],x=c.a.useState(!1),g=Object(b.a)(x,2),v=g[0],k=g[1],w=Boolean(m);return Object(a.jsx)(be.a,{in:!0,style:{transitionDelay:"".concat(j,"ms")},children:Object(a.jsxs)(T.a,{className:p?r.fixedHeightCard:r.card,children:[Object(a.jsxs)(ge,{link:l,children:[Object(a.jsx)(I.a,{avatar:Object(a.jsxs)(pe.a,{color:"secondary",className:r.avatar,children:[o.user.name[0],o.user.name.split(" ").length>1&&o.user.name.split(" ")[1][0]]}),title:o.title,subheader:new Date(o.created_at).toDateString(),action:t&&Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(y.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){f(e.currentTarget)},children:Object(a.jsx)(he.a,{})}),Object(a.jsxs)(C.a,{id:"menu",anchorEl:m,open:w,onClose:function(){f(null)},children:[Object(a.jsxs)(S.a,{component:s.b,to:"/articles/edit/".concat(o.id),children:[Object(a.jsx)(Y.a,{children:Object(a.jsx)(me.a,{})}),Object(a.jsx)(q.a,{primary:"Edit"})]}),Object(a.jsxs)(S.a,{onClick:function(){return k(!0)},children:[Object(a.jsx)(Y.a,{children:Object(a.jsx)(fe.a,{})}),Object(a.jsx)(q.a,{primary:"Delete"})]})]})]})}),Object(a.jsxs)(E.a,{children:[Object(a.jsx)(c.a.Fragment,{children:Object(a.jsx)("div",{className:r.chipContainer,children:Object(a.jsx)(ke,{article:o,isLink:null===l})})}),!l&&Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(Oe.a,{className:r.divider}),Object(a.jsx)(F.a,{variant:"body2",color:"textSecondary",component:"p",children:o.body})]})]}),Object(a.jsx)(D.a,{})]}),Object(a.jsx)(Fe,{open:v,article:o,handleClose:k,history:n})]})})})),ze=n(148),Be=K+"/api/comments",Pe=function(){var e=Object(J.a)(L.a.mark((function e(t,n){var a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(Be,"/").concat(t),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)}});case 3:return a=e.sent,e.abrupt("return",a.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),Le=function(){var e=Object(J.a)(L.a.mark((function e(t,n){var a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(Be),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify(t)});case 3:return a=e.sent,e.abrupt("return",a.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),Je=function(){var e=Object(J.a)(L.a.mark((function e(t,n,a){var r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(Be,"/").concat(t),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(n)});case 3:return r=e.sent,e.abrupt("return",r.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,a){return e.apply(this,arguments)}}(),Ke=function(){var e=Object(J.a)(L.a.mark((function e(t,n){var a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(Be,"/").concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)}});case 3:return a=e.sent,e.abrupt("return",a.status);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),_e=Object(A.a)((function(e){var t=e.spacing;return Object(O.a)({root:{padding:t(1),margin:"".concat(t(2),"px 0")},editTextfield:{width:"300px"},actions:{justifyContent:"flex-end"}})}))((function(e){var t=e.open,n=e.comment,r=e.updateComment,o=e.handleClose,i=e.classes,s=c.a.useState(n.body),l=Object(b.a)(s,2),u=l[0],j=l[1],d=c.a.useState(""),p=Object(b.a)(d,2),O=p[0],h=p[1],m=c.a.useState(!1),f=Object(b.a)(m,2),x=f[0],g=f[1],y=function(){if(function(){var e=!0;return n.length<5?(h("Comment must be at least 5 characters"),e=!1):h(""),e}()){g(!0);var e=V.isAuthenticated();Je(n.id,{body:u,article_id:n.article_id},e.token).then((function(e){if(e.errors)return g(!1),h(Object.values(e.errors)[0][0]);h(""),g(!1),r(e.body)}))}};return Object(a.jsxs)(we.a,{open:t,onClose:function(){return o(!1)},"aria-labelledby":"edit-comment-dialog",children:[Object(a.jsx)(Ae.a,{children:"Edit Comment"}),Object(a.jsx)(Te.a,{children:Object(a.jsx)(N.a,{name:"comment",label:"Edit comment",autoFocus:!0,margin:"normal",className:i.editTextfield,value:u,onChange:function(e){return j(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&y()},error:""!==O,helperText:O,multiline:!0})}),Object(a.jsxs)(Ee.a,{children:[Object(a.jsx)(v.a,{color:"primary",variant:"contained",onClick:function(){return o(!1)},children:"Cancel"}),Object(a.jsx)(v.a,{color:"secondary",variant:"contained",onClick:y,disabled:x,endIcon:x?Object(a.jsx)(k.a,{size:18}):Object(a.jsx)(B.a,{}),children:"Save"})]})]})})),He=Object(A.a)((function(e){var t=e.spacing;return Object(O.a)({root:{padding:t(1),margin:"".concat(t(2),"px 0")},actions:{justifyContent:"flex-end"}})}))((function(e){var t=e.open,n=e.comment,r=e.deleteComment,o=e.handleClose,i=c.a.useState(""),s=Object(b.a)(i,2),l=s[0],u=s[1],j=c.a.useState(!1),d=Object(b.a)(j,2),p=d[0],O=d[1];return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsxs)(we.a,{open:t,onClose:function(){return o(!1)},"aria-labelledby":"edit-comment-dialog",children:[Object(a.jsx)(Ae.a,{children:"Confirmation"}),Object(a.jsx)(Te.a,{children:Object(a.jsx)(Ie.a,{children:"Are you sure you want to delete this comment?"})}),Object(a.jsxs)(Ee.a,{children:[Object(a.jsx)(v.a,{color:"primary",variant:"contained",onClick:function(){return o(!1)},endIcon:Object(a.jsx)(Ne.a,{}),children:"Cancel"}),Object(a.jsx)(v.a,{color:"secondary",variant:"contained",onClick:function(){O(!0);var e=V.isAuthenticated();Ke(n.id,e.token).then((function(e){if(console.log("data!",e),204!==e)return O(!1),o(!1),u("Could not delete comment");O(!1),o(!1),r(n.id)}))},disabled:p,endIcon:p?Object(a.jsx)(k.a,{size:18}):Object(a.jsx)(fe.a,{}),children:"Confirm"})]})]}),Object(a.jsx)(w.a,{open:""!==l,autoHideDuration:6e3,onClose:function(){return u("")},message:l})]})})),Ue=Object(A.a)((function(e){var t=e.palette,n=e.spacing;return Object(O.a)({card:{margin:"".concat(n(4),"px auto")},avatar:{background:t.secondary.main},chipContainer:{"& > *":{margin:n(.5)}},divider:{margin:n(2)}})}))((function(e){var t=e.classes,n=e.comment,o=e.removeComment,i=c.a.useState(null),s=Object(b.a)(i,2),l=s[0],u=s[1],j=c.a.useState(!0),p=Object(b.a)(j,2),O=p[0],h=p[1],m=c.a.useState(""),f=Object(b.a)(m,2),x=f[0],g=f[1],v=c.a.useState(null),k=Object(b.a)(v,2),w=k[0],A=k[1],N=c.a.useState(!1),z=Object(b.a)(N,2),B=z[0],P=z[1],L=c.a.useState(!1),J=Object(b.a)(L,2),K=J[0],_=J[1],H=c.a.useState(!1),U=Object(b.a)(H,2),M=U[0],G=U[1],R=Boolean(w),W=function(){A(null)},Q=Object(r.useCallback)((function(){h(!0);var e=V.isAuthenticated();Pe(n.id,e.token).then((function(t){if(!t||t.errors||t.exception||t.message)return g(t&&t.errors?Object.values(t.errors)[0][0]:t.message?t.message:"Could not load data"),h(!1);g(""),u(t),e&&e.user.id===t.user.id&&G(!0),h(!1)}))}),[n]);return Object(r.useEffect)((function(){Q()}),[Q]),O?Object(a.jsx)(a.Fragment,{}):""!==x?Object(a.jsx)(ne,{message:x,action:Q}):Object(a.jsx)(ze.a,{in:!0,children:Object(a.jsxs)(T.a,{className:t.card,children:[Object(a.jsx)(I.a,{avatar:Object(a.jsxs)(pe.a,{color:"secondary",className:t.avatar,children:[l.user.name[0],l.user.name.split(" ").length>1&&l.user.name.split(" ")[1][0]]}),title:l.user.name,subheader:new Date(n.created_at).toDateString(),action:M&&Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(y.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){A(e.currentTarget)},children:Object(a.jsx)(he.a,{})}),Object(a.jsxs)(C.a,{id:"menu",anchorEl:w,open:R,onClose:W,children:[Object(a.jsxs)(S.a,{onClick:function(){return P(!0)},children:[Object(a.jsx)(Y.a,{children:Object(a.jsx)(me.a,{})}),Object(a.jsx)(q.a,{primary:"Edit"})]}),Object(a.jsxs)(S.a,{onClick:function(){return _(!0)},children:[Object(a.jsx)(Y.a,{children:Object(a.jsx)(fe.a,{})}),Object(a.jsx)(q.a,{primary:"Delete"})]})]})]})}),Object(a.jsx)(E.a,{children:Object(a.jsx)(F.a,{variant:"body2",color:"textSecondary",component:"p",children:l.body})}),Object(a.jsx)(D.a,{}),Object(a.jsx)(_e,{open:B,comment:l,handleClose:P,updateComment:function(e){W(),u((function(t){var n=t;return n.body=e,Object(d.a)({},n)})),P(!1)}}),Object(a.jsx)(He,{open:K,comment:l,handleClose:_,deleteComment:function(e){W(),o(e)}})]})})})),Me=Object(A.a)((function(e){var t=e.spacing;return Object(O.a)({root:{padding:t(1),margin:"".concat(t(2),"px 0")},actions:{justifyContent:"flex-end"}})}))((function(e){var t=e.classes,n=e.articleId,r=e.addComment,o=c.a.useState(""),i=Object(b.a)(o,2),s=i[0],l=i[1],u=c.a.useState(""),j=Object(b.a)(u,2),d=j[0],p=j[1],O=c.a.useState(!1),h=Object(b.a)(O,2),m=h[0],f=h[1],x=function(){if(function(){var e=!0;return s.length<5?(p("Comment must be at least 5 characters"),e=!1):p(""),e}()){f(!0);var e=V.isAuthenticated();Le({body:s,article_id:n},e.token).then((function(e){if(!e||e.errors||e.exception||e.message)return f(!1),p(e&&e.errors?Object.values(e.errors)[0][0]:"Could not create article");p(""),f(!1),l(""),r(e)}))}};return Object(a.jsxs)(T.a,{className:t.root,children:[Object(a.jsx)(N.a,{name:"comment",label:"Add a comment",autoFocus:!0,margin:"normal",value:s,onChange:function(e){return l(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&x()},error:""!==d,helperText:d,multiline:!0}),Object(a.jsx)(D.a,{className:t.actions,children:Object(a.jsx)(v.a,{color:"secondary",variant:"contained",onClick:x,disabled:m,endIcon:m?Object(a.jsx)(k.a,{size:18}):Object(a.jsx)(B.a,{}),children:"Post"})})]})})),Ve=Object(u.f)((function(e){var t=e.comments,n=(e.history,e.articleId),r=e.addComment,o=e.removeComment;return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(F.a,{variant:"h3",children:"Comments"}),Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(Me,{articleId:n,addComment:function(e){return r(e)}}),t.length>0?t.map((function(e,t){return Object(a.jsx)(Ue,{comment:e,removeComment:o},e.id)})):Object(a.jsx)(F.a,{variant:"body2",style:{textAlign:"center"},children:"No comments found"})]})]})})),Ge=Object(u.f)(Object(A.a)((function(e){var t=e.palette,n=e.spacing;return Object(O.a)({card:{margin:"".concat(n(4),"px auto")},avatar:{background:t.secondary.main},fab:{position:"fixed",bottom:n(2),right:n(2),"& .MuiFab-primary":{background:t.secondary.main}}})}))((function(e){var t=e.history,n=e.match,o=c.a.useState([]),i=Object(b.a)(o,2),l=i[0],u=i[1],j=c.a.useState([]),d=Object(b.a)(j,2),p=d[0],O=d[1],h=c.a.useState(!0),m=Object(b.a)(h,2),f=m[0],x=m[1],g=c.a.useState(""),y=Object(b.a)(g,2),C=y[0],S=y[1],k=c.a.useState(!1),w=Object(b.a)(k,2),A=w[0],T=w[1],I=c.a.useState(!1),E=Object(b.a)(I,2),N=E[0],F=E[1],D=Object(r.useCallback)((function(){x(!0);var e=n.params.id,t=V.isAuthenticated();F(!!t),le(e).then((function(e){if(!e||e.errors||e.exception||e.message)return x(!1),S(e&&e.errors?Object.values(e.errors)[0][0]:"Could not load data");S(""),e.comments.length>0&&(O(e.comments.reverse()),delete e.comments),u(e),t&&t.user.id===e.user.id&&T(!0),x(!1)}))}),[n]);Object(r.useEffect)((function(){D()}),[D]);return f?Object(a.jsx)(ee,{}):""!==C?Object(a.jsx)(ne,{message:C,action:D}):Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(v.a,{component:s.b,to:"/",startIcon:Object(a.jsx)(oe.a,{}),children:"Back"}),Object(a.jsxs)("div",{style:{position:"relative"},children:[Object(a.jsx)(De,{article:l,history:t,displayActions:A,disableHeight:!1}),N?Object(a.jsx)(Ve,{articleId:l.id,comments:p,addComment:function(e){return O((function(t){return[e].concat(Object(ce.a)(t))}))},removeComment:function(e){O((function(t){var n=t.filter((function(t){return t.id!==e}));return Object(ce.a)(n)}))}}):Object(a.jsx)(ne,{message:"Please login to view comments",action:function(){t.push("/login".concat(window.location.pathname))},actionLabel:"Login"})]})]})}))),Re=n(182),We=n(183),Ye=n(193),qe=n(191),Qe=n(179),Xe=n(180),Ze=Object(a.jsx)(Qe.a,{fontSize:"small"}),$e=Object(a.jsx)(Xe.a,{fontSize:"small"}),et=function(e){var t=e.categories,n=e.selectCategory,r=e.defaultValueIndex,o=void 0===r?null:r;return t&&t.length>0?Object(a.jsx)(qe.a,{multiple:!0,id:"filter-categories",options:t,getOptionLabel:function(e){return e.title},disableCloseOnSelect:!0,limitTags:3,defaultValue:null!==o?[t[o]]:void 0,onChange:function(e,t){return n(t)},renderOption:function(e,t){var n=t.selected;return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(Ye.a,{icon:Ze,checkedIcon:$e,style:{marginRight:8},checked:n}),e.title]})},renderInput:function(e){return Object(a.jsx)(N.a,Object(d.a)(Object(d.a)({},e),{},{variant:"outlined",label:"Filter by Category",placeholder:"Basketball"}))}}):Object(a.jsx)(a.Fragment,{})},tt=Object(a.jsx)(Qe.a,{fontSize:"small"}),nt=Object(a.jsx)(Xe.a,{fontSize:"small"}),at=function(e){var t=e.authors,n=e.selectAuthor,r=e.defaultValueIndex,o=void 0===r?null:r;return t&&t.length>0?Object(a.jsx)(qe.a,{multiple:!0,id:"filter-authors",options:t,getOptionLabel:function(e){return e.name},disableCloseOnSelect:!0,limitTags:3,defaultValue:null!==o?[t[o]]:void 0,onChange:function(e,t){return n(t)},renderOption:function(e,t){var n=t.selected;return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(Ye.a,{icon:tt,checkedIcon:nt,style:{marginRight:8},checked:n}),e.name]})},renderInput:function(e){return Object(a.jsx)(N.a,Object(d.a)(Object(d.a)({},e),{},{variant:"outlined",label:"Filter by Author",placeholder:"Author"}))}}):Object(a.jsx)(a.Fragment,{})},rt=K+"/api/categories",ct=function(){var e=Object(J.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(rt,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return t=e.sent,e.abrupt("return",t.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),ot=Object(A.a)((function(e){var t=e.spacing;return Object(O.a)({fab:{position:"fixed",bottom:t(2),right:t(2)}})}))((function(e){var t=e.classes,n=c.a.useState("Articles"),o=Object(b.a)(n,2),i=o[0],l=o[1],u=c.a.useState([]),d=Object(b.a)(u,2),p=d[0],O=d[1],h=c.a.useState([]),m=Object(b.a)(h,2),f=m[0],x=m[1],g=c.a.useState([]),v=Object(b.a)(g,2),y=v[0],C=v[1],S=c.a.useState([]),k=Object(b.a)(S,2),w=k[0],A=k[1],T=c.a.useState([]),I=Object(b.a)(T,2),E=I[0],N=I[1],D=c.a.useState(!0),z=Object(b.a)(D,2),B=z[0],P=z[1],L=c.a.useState(""),J=Object(b.a)(L,2),K=J[0],_=J[1],H=c.a.useState(null),U=Object(b.a)(H,2),M=U[0],G=U[1],R=c.a.useState(null),W=Object(b.a)(R,2),Y=W[0],q=W[1],Q=V.isAuthenticated(),X=Object(r.useCallback)((function(){P(!0),se().then((function(e){if(!e||e.errors||e.exception||e.message)return P(!1),_(e&&e.errors?Object.values(e.errors)[0][0]:"Could not load data");_("");var t=e.reverse(),n=[];if(t.forEach((function(e){-1===n.findIndex((function(t){return t.id===e.user.id}))&&n.push(e.user)})),O(e),x(n),window.location.pathname.includes("user")){var a=parseInt(window.location.pathname.split("user/")[1]),r=n.findIndex((function(e){return e.id===a}));-1!==r&&(q(r),l("Articles by ".concat(n[r].name)),A([n[r]]))}})),ct().then((function(e){if(!e||e.errors||e.exception||e.message)return P(!1),_(e&&e.errors?Object.values(e.errors)[0][0]:"Could not load data");if(_(""),window.location.pathname.includes("category")){var t=window.location.pathname.split("category/")[1],n=e.findIndex((function(e){return e.id===parseInt(t)}));l("".concat(e[n].title," Articles")),-1!==n&&G(n),N([e[n]])}C(e),P(!1)}))}),[]);Object(r.useEffect)((function(){X()}),[X]);return B?Object(a.jsx)(ee,{}):""!==K?Object(a.jsx)(ne,{message:K,action:X}):Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(F.a,{variant:"h3",children:i}),Object(a.jsxs)(j.a,{container:!0,spacing:2,children:[Object(a.jsx)(j.a,{item:!0,sm:6,xs:12,children:Object(a.jsx)(et,{defaultValueIndex:M,categories:y,selectCategory:function(e){null!==M&&y[M].id!==e[M]&&l("Articles"),N(e)}})}),Object(a.jsx)(j.a,{item:!0,sm:6,xs:12,children:Object(a.jsx)(at,{authors:f,selectAuthor:function(e){null!==Y&&f[Y]!==e[Y]&&l("Articles"),A(e)},defaultValueIndex:Y})})]}),Object(a.jsx)(j.a,{container:!0,spacing:2,children:p.filter((function(e){return E.length>0||w.length>0?-1!==E.findIndex((function(t){return t.id===e.category.id}))||-1!==w.findIndex((function(t){return t.id===e.user.id})):e})).map((function(e,t){return Object(a.jsx)(j.a,{item:!0,sm:6,xs:12,children:Object(a.jsx)(De,{delay:200*(t+1),article:e,link:"/article/".concat(e.id)})},t)}))}),Q&&Object(a.jsx)(Re.a,{className:t.fab,component:s.b,"aria-label":"Add Article",color:"secondary",to:"/articles/new",children:Object(a.jsx)(We.a,{})})]})})),it=[{name:"Login",link:"/login",component:G,authed:!1,displayOnNav:!0},{name:"Register",link:"/register",component:re,authed:!1,displayOnNav:!0},{name:"Profile",link:"/profile",component:ae,authed:!0},{name:"Article",link:"/article/:id",component:Ge,authed:!1},{name:"Create Article",link:"/articles/new",component:Object(A.a)((function(e){var t=e.spacing;return Object(O.a)({wrapper:{padding:t(4)}})}))((function(e){var t=e.history,n=e.classes,o=c.a.useState(""),i=Object(b.a)(o,2),l=i[0],u=i[1],j=c.a.useState(""),p=Object(b.a)(j,2),O=p[0],h=p[1],m=c.a.useState(""),f=Object(b.a)(m,2),x=f[0],g=f[1],y=c.a.useState(""),C=Object(b.a)(y,2),S=C[0],w=C[1],A=c.a.useState(null),F=Object(b.a)(A,2),z=F[0],P=F[1],L=c.a.useState([]),J=Object(b.a)(L,2),K=J[0],_=J[1],H=c.a.useState(!0),U=Object(b.a)(H,2),M=U[0],G=U[1],R=c.a.useState(!1),W=Object(b.a)(R,2),Y=W[0],q=W[1],Q=c.a.useState(""),X=Object(b.a)(Q,2),Z=X[0],$=X[1],te=Object(r.useCallback)((function(){ct().then((function(e){if(!e||e.errors||e.exception||e.message)return G(!1),$(e&&e.errors?Object.values(e.errors)[0][0]:"Could not load data");_(e),P(e[0]),$(""),G(!1)}))}),[]);Object(r.useEffect)((function(){te()}),[te]);var ae=function(){if(function(){var e=!0;return l.length<5?(h("Title must be at least 5 characters"),e=!1):h(""),x.length<5?(w("Body must be at least 5 characters"),e=!1):w(""),e}()){q(!0);var e=V.isAuthenticated();ue({title:l,body:x,category_id:z.id},e.token).then((function(e){if(!e||e.errors||e.exception||e.message)return q(!1),$(e&&e.errors?Object.values(e.errors)[0][0]:"Could not create article");t.push("/article/".concat(e.id))}))}};return M?Object(a.jsx)(ee,{}):""!==Z?Object(a.jsx)(ne,{message:Z,action:te}):Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(v.a,{component:s.b,to:"/",startIcon:Object(a.jsx)(oe.a,{}),children:"Back"}),Object(a.jsxs)(T.a,{elevation:3,className:n.wrapper,children:[Object(a.jsx)(I.a,{title:"Create Article"}),Object(a.jsxs)(E.a,{children:[Object(a.jsx)(qe.a,{value:z,options:K,getOptionLabel:function(e){return e.title},onChange:function(e,t){return P(t)},renderInput:function(e){return Object(a.jsx)(N.a,Object(d.a)(Object(d.a)({},e),{},{variant:"outlined",label:"Select Category",placeholder:"Basketball"}))}}),Object(a.jsx)(N.a,{name:"title",label:"Title",autoFocus:!0,margin:"normal",value:l,onChange:function(e){return u(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&ae()},error:""!==O,helperText:O}),Object(a.jsx)(N.a,{name:"body",label:"Body",autoFocus:!0,margin:"normal",value:x,onChange:function(e){return g(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&ae()},error:""!==S,helperText:S,multiline:!0})]}),Object(a.jsx)(D.a,{children:Object(a.jsx)(v.a,{color:"secondary",variant:"contained",onClick:ae,disabled:Y,endIcon:Y?Object(a.jsx)(k.a,{size:18}):Object(a.jsx)(B.a,{}),children:"Create"})})]})]})})),authed:!0},{name:"Edit Article",link:"/articles/edit/:id",component:Object(A.a)((function(e){var t=e.spacing;return Object(O.a)({wrapper:{padding:t(4)}})}))((function(e){var t=e.match,n=e.history,o=e.classes,i=c.a.useState(0),l=Object(b.a)(i,2),u=l[0],j=l[1],p=c.a.useState(""),O=Object(b.a)(p,2),h=O[0],m=O[1],f=c.a.useState(""),x=Object(b.a)(f,2),g=x[0],y=x[1],C=c.a.useState(""),S=Object(b.a)(C,2),w=S[0],A=S[1],F=c.a.useState(""),z=Object(b.a)(F,2),P=z[0],L=z[1],J=c.a.useState(null),K=Object(b.a)(J,2),_=K[0],H=K[1],U=c.a.useState([]),M=Object(b.a)(U,2),G=M[0],R=M[1],W=c.a.useState(!0),Y=Object(b.a)(W,2),q=Y[0],Q=Y[1],X=c.a.useState(!1),Z=Object(b.a)(X,2),$=Z[0],te=Z[1],ae=c.a.useState(""),re=Object(b.a)(ae,2),ce=re[0],ie=re[1],se=Object(r.useCallback)((function(){var e=t.params.id;le(e).then((function(e){if(!e||e.errors||e.exception||e.message)return ie(e&&e.errors?Object.values(e.errors)[0][0]:"Could not load data"),Q(!1);m(e.title),A(e.body),j(e.id);var t=e.category_id;ct().then((function(e){if(!e||e.errors||e.exception||e.message)return ie(e&&e.errors?Object.values(e.errors)[0][0]:"Could not load data"),Q(!1);var n=e.findIndex((function(e){return e.id===t}));R(e),H(e[n]),Q(!1),ie("")}))}))}),[t]);Object(r.useEffect)((function(){se()}),[se]);var ue=function(){if(function(){var e=!0;return h.length<5?(y("Title must be at least 5 characters"),e=!1):y(""),w.length<5?(L("Body must be at least 5 characters"),e=!1):L(""),e}()){te(!0);var e=V.isAuthenticated();je(u,{title:h,body:w,category_id:_.id},e.token).then((function(e){if(!e||e.errors||e.exception||e.message)return te(!1),ie(e&&e.errors?Object.values(e.errors)[0][0]:"Could not create article");n.push("/article/".concat(e.id))}))}};return q?Object(a.jsx)(ee,{}):""!==ce?Object(a.jsx)(ne,{message:ce,action:se}):Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(v.a,{component:s.b,to:"/article/".concat(u),startIcon:Object(a.jsx)(oe.a,{}),children:"Back"}),Object(a.jsxs)(T.a,{elevation:3,className:o.wrapper,children:[Object(a.jsx)(I.a,{title:"Edit Article"}),Object(a.jsxs)(E.a,{children:[Object(a.jsx)(qe.a,{value:_,options:G,getOptionLabel:function(e){return e.title},onChange:function(e,t){return H(t)},renderInput:function(e){return Object(a.jsx)(N.a,Object(d.a)(Object(d.a)({},e),{},{variant:"outlined",label:"Select Category",placeholder:"Basketball"}))}}),Object(a.jsx)(N.a,{name:"title",label:"Title",autoFocus:!0,margin:"normal",value:h,onChange:function(e){return m(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&ue()},error:""!==g,helperText:g}),Object(a.jsx)(N.a,{name:"body",label:"Body",autoFocus:!0,margin:"normal",value:w,onChange:function(e){return A(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&ue()},error:""!==P,helperText:P,multiline:!0})]}),Object(a.jsx)(D.a,{children:Object(a.jsx)(v.a,{color:"secondary",variant:"contained",onClick:ue,disabled:$,endIcon:$?Object(a.jsx)(k.a,{size:18}):Object(a.jsx)(B.a,{}),children:"Save"})})]})]})})),authed:!0},{name:"Articles by User",link:"/user/:id",component:ot,authed:!1},{name:"Articles by Category",link:"/category/:id",component:ot,authed:!1}];function st(e){var t=e.children,n=e.window,r=Object(h.a)({target:n?n():void 0});return Object(a.jsx)(m.a,{appear:!1,direction:"down",in:!r,children:t})}var lt=Object(u.f)(Object(A.a)((function(){return Object(O.a)({root:{justifyContent:"space-between","& a":{color:"#fff"}}})}))((function(e){var t=e.history,n=e.classes,o=Object(p.a)(e,["history","classes"]),i=c.a.useState(!1),l=Object(b.a)(i,2),u=l[0],j=l[1],O=c.a.useState(!1),h=Object(b.a)(O,2),m=h[0],A=h[1],T=c.a.useState(""),I=Object(b.a)(T,2),E=I[0],N=I[1],F=c.a.useState(null),D=Object(b.a)(F,2),z=D[0],B=D[1],P=Boolean(z),L=function(){B(null)};Object(r.useEffect)((function(){var e=function(e){return j(e)},n=V.isAuthenticated();e(!!n),t.listen((function(){var t=V.isAuthenticated();e(!!t)}))}),[t]);return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(f.a,{}),Object(a.jsx)(st,Object(d.a)(Object(d.a)({},o),{},{children:Object(a.jsx)(x.a,{children:Object(a.jsxs)(g.a,{className:n.root,children:[Object(a.jsx)(v.a,{component:s.b,to:"/",children:"Adv JS CA2"}),Object(a.jsxs)("div",{children:[Object(a.jsx)(v.a,{component:s.b,to:"/",children:"Articles"}),it.filter((function(e){return e.authed===u&&e.displayOnNav})).map((function(e,t){return Object(a.jsx)(v.a,{component:s.b,to:e.link,children:e.name},t)})),u&&Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(y.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){B(e.currentTarget)},color:"inherit",children:Object(a.jsx)(Q.a,{})}),Object(a.jsxs)(C.a,{id:"menu-appbar",anchorEl:z,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:P,onClose:L,children:[Object(a.jsx)(S.a,{component:s.b,to:"/profile",onClick:L,children:"Profile"}),Object(a.jsxs)(S.a,{disabled:m,onClick:function(){var e=V.isAuthenticated();e?(A(!0),M(e.token).then((function(e){if(e.errors)return A(!1),N(Object.values(e.errors)[0][0]);V.unsetUserDetails((function(e){if(e)return j(!1),A(!1),L(),N("Logged out successfully"),t.push("/");N("The system encountered an error, please try again later")}))}))):(j(!1),N("The system encountered an error, please try again later"))},children:["Logout ",m&&Object(a.jsx)(k.a,{size:18})]})]})]})]})]})})})),Object(a.jsx)(w.a,{open:""!==E,autoHideDuration:6e3,onClose:function(){return N("")},message:E})]})}))),ut=function(e){return Object(a.jsxs)("div",{children:[Object(a.jsx)(lt,{}),Object(a.jsx)(j.a,{container:!0,justify:"center",style:{marginTop:"100px",marginBottom:"20px"},children:Object(a.jsx)(j.a,{item:!0,xs:11,children:Object(a.jsxs)(u.c,{children:[Object(a.jsx)(u.a,{exact:!0,path:"/",component:ot}),it.map((function(e,t){var n=e.link,r=e.component;return Object(a.jsx)(u.a,{path:n,component:r},t)}))]})})})]})},jt=n(82),dt=n(197),bt=Object(jt.a)({palette:{primary:{main:"#2196f3"},secondary:{main:"#ffc400"}},typography:{fontFamily:["Poppins","sans-serif"].join(",")},overrides:{MuiGrid:{item:{maxWidth:"800px!important"}},MuiTextField:{root:{width:"100%",margin:"16px auto"}},MuiListItemText:{root:{display:"flex",flexDirection:"column-reverse"}},MuiTypography:{h3:{fontWeight:500,fontSize:"2.3em",margin:"10px"}}}}),pt=bt=Object(dt.a)(bt),Ot=function(){return Object(a.jsx)(s.a,{children:Object(a.jsx)(l.a,{theme:pt,children:Object(a.jsx)(ut,{})})})},ht=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,200)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))};i.a.render(Object(a.jsx)(Ot,{}),document.getElementById("root")),ht()}},[[109,1,2]]]);
//# sourceMappingURL=main.aef46fde.chunk.js.map