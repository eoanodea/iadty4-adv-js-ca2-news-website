{"version":3,"sources":["serviceWorker.js","config/config.js","api/api-auth.js","helpers/auth-helper.js","pages/auth/Login.js","components/global/Loading.js","components/global/EmptyState.js","pages/auth/Profile.js","pages/auth/Register.js","api/api-article.js","components/article/ArticleActionArea.js","components/article/ArticleDetails.js","components/article/DeleteArticle.js","components/article/ArticleItem.js","api/api-comment.js","components/comment/EditComment.js","components/comment/DeleteComment.js","components/comment/CommentItem.js","components/comment/AddComment.js","components/comment/Comments.js","pages/article/Article.js","components/filter/FilterCategories.js","components/filter/FilterAuthors.js","api/api-categories.js","pages/article/Articles.js","routing/routes.js","pages/article/CreateArticle.js","pages/article/EditArticle.js","components/layout/Header.js","routing/MainRouter.js","theme.js","App.js","tests/reportWebVitals.js","index.js"],"names":["isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","process","prefix","login","body","a","fetch","method","headers","Accept","JSON","stringify","response","json","logout","token","Authorization","auth","setUserDetails","user","cb","jwt","api_token","name","email","id","created","created_at","sessionStorage","setItem","unsetUserDetails","removeItem","isAuthenticated","getItem","obj","parse","withStyles","spacing","createStyles","wrapper","padding","classes","history","React","useState","setEmail","emailError","setEmailError","password","setPassword","passwordError","setPasswordError","loading","setLoading","setError","submit","passed","length","includes","handleValidation","data","errors","Object","values","success","pathname","push","split","Card","elevation","className","CardHeader","title","CardContent","TextField","label","autoFocus","margin","value","onChange","e","target","onKeyDown","key","helperText","type","Typography","component","color","style","textAlign","Error","CardActions","Button","variant","onClick","disabled","endIcon","CircularProgress","size","Check","progressWrapper","minHeight","display","justifyContent","alignItems","position","top","bottom","left","right","icon","fontSize","header","flexDirection","iconContainer","message","action","actionLabel","Replay","Link","to","setUser","useEffect","List","ListItem","button","ListItemIcon","AccountCircle","ListItemText","secondary","primary","Email","QueryBuilder","Date","toDateString","ExitToApp","setName","nameError","setNameError","list","show","create","update","remove","status","ArticleActionArea","link","children","CardActionArea","ArticleChip","Chip","clickable","chipContainer","article","isLink","AccountCircleOutlined","LocalOffer","category","root","actions","open","handleClose","articleError","setArticleError","Fragment","Dialog","onClose","aria-labelledby","DialogTitle","DialogContent","DialogContentText","DialogActions","Close","Delete","Snackbar","autoHideDuration","palette","card","fixedHeightCard","height","avatar","background","main","divider","displayActions","delay","disableHeight","anchorEl","setAnchorEl","openDeleteDialog","setOpenDeleteDialog","Zoom","in","transitionDelay","Avatar","subheader","IconButton","aria-label","aria-controls","aria-haspopup","event","currentTarget","MoreVert","Menu","MenuItem","Create","Divider","editTextfield","width","comment","updateComment","newComment","setNewComment","commentError","setCommentError","article_id","multiline","deleteComment","removeComment","fullComment","setFullComment","openEditDialog","setOpenEditDialog","setDisplayActions","load","useCallback","exception","Grow","old","articleId","addComment","setComment","withRouter","comments","map","i","fab","setArticle","setComments","hasAuth","setHasAuth","params","reverse","startIcon","ArrowBack","items","filter","item","CheckBoxOutlineBlank","checkedIcon","CheckBox","FilterCategories","categories","selectCategory","defaultValueIndex","Autocomplete","multiple","options","getOptionLabel","option","disableCloseOnSelect","limitTags","defaultValue","undefined","renderOption","selected","Checkbox","marginRight","checked","renderInput","placeholder","FilterAuthors","authors","selectAuthor","setTitle","articles","setArticles","setAuthors","setCategories","selectedAuthors","setSelectedAuthors","filters","setFilters","setDefaultValueIndex","defaultAuthorValueIndex","setDefaultAuthorValueIndex","isAuthed","listArticles","forEach","findIndex","author","userId","parseInt","userI","listCategories","categoryId","categoryI","Grid","container","sm","xs","filteredCategories","filteredUser","Fab","Add","routes","Login","authed","displayOnNav","Register","Profile","Article","titleError","setTitleError","setBody","bodyError","setBodyError","selectedCategory","setSelectedCategory","loadingCategories","setLoadingCategories","loadCategories","category_id","v","setId","Articles","HideOnScroll","props","trigger","useScrollTrigger","Slide","appear","direction","setIsAuthed","setMessage","setAuth","bool","listen","CssBaseline","AppBar","Toolbar","route","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","MainRouter","justify","marginTop","marginBottom","exact","path","theme","createMuiTheme","typography","fontFamily","join","overrides","MuiGrid","maxWidth","MuiTextField","MuiListItemText","MuiTypography","h3","fontWeight","responsiveFontSizes","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById","URL","href","origin","addEventListener","contentType","get","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.18c1d187.chunk.js","sourcesContent":["/**\n * File: serviceWorker.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Friday, 29th January 2021 11:05:29 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description:\n * Last Modified: Saturday, 30th January 2021 7:20:40 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","/**\n * File: config.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Tuesday, 5th January 2021 1:49:31 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description: Configuration variables loaded from an env file\n * Last Modified: Tuesday, 26th January 2021 6:40:36 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\n/**\n * Configuration variables loaded from the env file\n */\nexport const config = {\n  env: process.env.NODE_ENV || \"development\",\n  server_url: process.env.REACT_APP_SERVER_URL || \"http://localhost:8000\",\n};\n","/**\n * File: auth.api.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Tuesday, 5th January 2021 6:20:22 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description:\n * Last Modified: Tuesday, 19th January 2021 1:53:06 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport { config } from \"../config/config\";\n\nconst prefix = config.server_url + \"/api\";\n\n/**\n * Login\n *\n * @param {body: {email: String, password: String}} body\n */\nexport const login = async (body) => {\n  try {\n    const response = await fetch(`${prefix}/login`, {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(body),\n    });\n    return response.json();\n  } catch (err) {\n    return console.log(err);\n  }\n};\n\n/**\n * Register\n *\n * @param {body: {name: String, email: String, password: String}} body\n */\nexport const register = async (body) => {\n  try {\n    const response = await fetch(`${prefix}/register`, {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(body),\n    });\n    return response.json();\n  } catch (err) {\n    return console.log(err);\n  }\n};\n\n/**\n * Logout\n *\n */\nexport const logout = async (token) => {\n  try {\n    const response = await fetch(`${prefix}/logout`, {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    return response.json();\n  } catch (err) {\n    return console.log(err);\n  }\n};\n","/**\n * File: auth-helper.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Tuesday, 5th January 2021 6:27:44 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description: Authentication helper for the application\n * Last Modified: Tuesday, 26th January 2021 6:39:16 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\n/**\n * Authentication helper for the application\n */\nconst auth = {\n  /**\n   * Sets user details in session storage\n   * after successfully logging in\n   *\n   * @param {user} user\n   * @param {*} cb\n   */\n  setUserDetails(user, cb) {\n    const jwt = {\n      token: user.api_token,\n      user: {\n        name: user.name,\n        email: user.email,\n        id: user.id,\n        created: user.created_at,\n      },\n    };\n\n    sessionStorage.setItem(\"jwt\", JSON.stringify(jwt));\n    cb(true);\n  },\n  /**\n   * Removes user details from session storage\n   *\n   * @param {*} cb\n   */\n  unsetUserDetails(cb) {\n    sessionStorage.removeItem(\"jwt\");\n    cb(true);\n  },\n  /**\n   * Check if the user is authenticated\n   *\n   * @returns a user object if the user is logged in, or false is not\n   */\n  isAuthenticated() {\n    if (typeof window == \"undefined\") return false;\n\n    if (sessionStorage.getItem(\"jwt\")) {\n      const obj = JSON.parse(sessionStorage.getItem(\"jwt\"));\n      return obj && obj.user ? obj : false;\n    }\n\n    return false;\n  },\n};\n\nexport default auth;\n","/**\n * File: Login.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Tuesday, 5th January 2021 1:58:06 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description: Where a user can login\n * Last Modified: Tuesday, 26th January 2021 6:17:23 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport React from \"react\";\n\nimport {\n  Typography,\n  CardHeader,\n  Card,\n  withStyles,\n  createStyles,\n  Button,\n  TextField,\n  CircularProgress,\n  CardActions,\n  CardContent,\n} from \"@material-ui/core\";\nimport { Check, Error } from \"@material-ui/icons\";\n\nimport { login } from \"../../api/api-auth\";\n\nimport auth from \"../../helpers/auth-helper\";\n\n/**\n * Injected styles\n *\n * @param {int} spacing\n */\nconst styles = ({ spacing }) =>\n  createStyles({\n    wrapper: {\n      padding: spacing(4),\n    },\n  });\n\n/**\n * Login Component\n *\n * @param {Theme} classes - classes passed from Material UI Theme\n * @param {History} history - the browser history object\n */\nconst Login = ({ classes, history }) => {\n  const [email, setEmail] = React.useState(\"\");\n  const [emailError, setEmailError] = React.useState(\"\");\n\n  const [password, setPassword] = React.useState(\"\");\n  const [passwordError, setPasswordError] = React.useState(\"\");\n\n  const [loading, setLoading] = React.useState(false);\n  const [error, setError] = React.useState(\"\");\n\n  /**\n   * Handle validation for form inputs\n   */\n  const handleValidation = () => {\n    let passed = true;\n\n    if (email.length < 3) {\n      setEmailError(\"Email must be at least 3 characters\");\n      passed = false;\n    } else if (!email.includes(\"@\") || !email.includes(\".\")) {\n      setEmailError(\"Please enter a valid email\");\n      passed = false;\n    } else setEmailError(\"\");\n\n    if (password.length < 6) {\n      setPasswordError(\"Password must be at least 6 characters\");\n      passed = false;\n    } else setPasswordError(\"\");\n\n    return passed;\n  };\n\n  /**\n   * Check validation and then run the\n   * login network request\n   *\n   * On success, set token in local storage &\n   * redirect the user to profile\n   */\n  const submit = () => {\n    if (handleValidation()) {\n      setLoading(true);\n      login({ email, password }).then((data) => {\n        if (data.errors) {\n          setLoading(false);\n          return setError(Object.values(data.errors)[0][0]);\n        }\n        setError(\"\");\n        auth.setUserDetails(data.data, (success) => {\n          if (success) {\n            if (window.location.pathname.includes(\"login/\")) {\n              return history.push(window.location.pathname.split(\"login\")[1]);\n            }\n            return history.push(\"/profile\");\n          }\n          setError(\"The system encountered an error, please try again later\");\n        });\n      });\n    }\n  };\n\n  /**\n   * Render JSX\n   */\n  return (\n    <Card elevation={3} className={classes.wrapper}>\n      <CardHeader title=\"Login\" />\n      <CardContent>\n        <TextField\n          name=\"email\"\n          label=\"Email\"\n          autoFocus={true}\n          margin=\"normal\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          onKeyDown={(e) => e.key === \"Enter\" && submit()}\n          error={emailError !== \"\"}\n          helperText={emailError}\n        />\n\n        <TextField\n          name=\"password\"\n          label=\"Password\"\n          type=\"password\"\n          margin=\"normal\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          onKeyDown={(e) => e.key === \"Enter\" && submit()}\n          error={passwordError !== \"\"}\n          helperText={passwordError}\n        />\n\n        <br />\n        {error !== \"\" && (\n          <Typography\n            component=\"p\"\n            color=\"error\"\n            style={{ textAlign: \"center\" }}\n          >\n            <Error color=\"error\" className={classes.error} />\n            {error}\n          </Typography>\n        )}\n      </CardContent>\n      <CardActions>\n        <Button\n          color=\"secondary\"\n          variant=\"contained\"\n          onClick={submit}\n          disabled={loading}\n          endIcon={loading ? <CircularProgress size={18} /> : <Check />}\n        >\n          Login\n        </Button>\n      </CardActions>\n    </Card>\n  );\n};\n\nexport default withStyles(styles)(Login);\n","/**\n * Primary dependencies\n */\nimport React from \"react\";\n\n/**\n * Component Library imports\n */\nimport { CircularProgress, withStyles, createStyles } from \"@material-ui/core\";\n\n/**\n * Injected styles\n */\nconst styles = () =>\n  createStyles({\n    progressWrapper: {\n      minHeight: \"-webkit-fill-available\",\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      position: \"absolute\",\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0,\n    },\n  });\n\n/**\n * Renders an Activity Indicator\n *  for the application\n */\nconst Loading = ({ classes }) => (\n  <div className={classes.progressWrapper}>\n    <div>\n      <CircularProgress />\n    </div>\n  </div>\n);\n\nexport default withStyles(styles)(Loading);\n","/**\n * Primary dependencies\n */\nimport React from \"react\";\n\nimport {\n  Button,\n  withStyles,\n  createStyles,\n  Card,\n  CardHeader,\n} from \"@material-ui/core\";\nimport { Replay, Error } from \"@material-ui/icons\";\n\nimport { Link } from \"react-router-dom\";\n\n/**\n * Injected styles\n *\n * @param {int} spacing\n */\nconst styles = ({ spacing }) =>\n  createStyles({\n    wrapper: {\n      padding: spacing(4),\n      textAlign: \"center\",\n    },\n    icon: {\n      fontSize: \"3em\",\n    },\n    header: {\n      display: \"flex\",\n      flexDirection: \"column-reverse\",\n      justifyContent: \"center\",\n    },\n    iconContainer: {\n      textAlign: \"center\",\n    },\n  });\n\n/**\n * Renders a message state\n *  for the application\n *\n * @param {string} message? - A message to display\n * @param {Theme} classes - classes passed from Material UI Theme\n * @param {string} action? - An action to execute when you see the state\n * @param {string} actionLabel? - A label for the action button\n */\nconst EmptyState = ({\n  message,\n  classes,\n  action,\n  actionLabel = \"Try Again\",\n}) => (\n  <Card elevation={3} className={classes.wrapper}>\n    <div className={classes.iconContainer}>\n      <Error color=\"error\" className={classes.icon} />\n    </div>\n    <CardHeader\n      title={message ? message : \"There was a problem\"}\n      className={classes.header}\n    />\n    {action ? (\n      <Button\n        className={classes.iconContainer}\n        variant=\"contained\"\n        color=\"secondary\"\n        endIcon={<Replay />}\n        onClick={action}\n      >\n        {actionLabel}\n      </Button>\n    ) : (\n      <Button component={Link} to=\"/\" color=\"primary\" variant=\"contained\">\n        Home\n      </Button>\n    )}\n  </Card>\n);\n\nexport default withStyles(styles)(EmptyState);\n","/**\n * File: Login.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Tuesday, 5th January 2021 1:58:06 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description: Where a user can view their profile\n * Last Modified: Tuesday, 26th January 2021 6:15:35 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport React, { useEffect } from \"react\";\n\nimport {\n  CardHeader,\n  withStyles,\n  createStyles,\n  Button,\n  Card,\n  CardActions,\n  ListItemIcon,\n  ListItemText,\n  ListItem,\n  List,\n} from \"@material-ui/core\";\nimport {\n  AccountCircle,\n  Email,\n  ExitToApp,\n  QueryBuilder,\n} from \"@material-ui/icons\";\n\nimport Loading from \"../../components/global/Loading\";\nimport EmptyState from \"../../components/global/EmptyState\";\n\nimport { logout } from \"../../api/api-auth\";\n\nimport auth from \"../../helpers/auth-helper\";\n\n/**\n * Injected styles\n *\n * @param {int} spacing\n */\nconst styles = ({ spacing }) =>\n  createStyles({\n    wrapper: {\n      padding: spacing(4),\n    },\n  });\n\n/**\n * Profile Component\n *\n * @param {Theme} classes - classes passed from Material UI Theme\n * @param {History} history - the browser history object\n */\nconst Profile = ({ classes, history }) => {\n  const [user, setUser] = React.useState(null);\n\n  const [loading, setLoading] = React.useState(true);\n  const [error, setError] = React.useState(\"\");\n\n  /**\n   * Runs when the component mounts\n   *\n   * Checks if there is an authenticated user\n   */\n  useEffect(() => {\n    const jwt = auth.isAuthenticated();\n    if (jwt) {\n      setUser(jwt.user);\n      setLoading(false);\n    } else {\n      setError(\"You are not authenticated, please log in\");\n      setLoading(false);\n    }\n  }, []);\n\n  /**\n   * Logout from the application\n   */\n  const submit = () => {\n    const jwt = auth.isAuthenticated();\n    if (jwt) {\n      setLoading(true);\n      logout(jwt.token).then((data) => {\n        if (data.errors) {\n          setLoading(false);\n          return setError(Object.values(data.errors)[0][0]);\n        }\n        setError(\"\");\n        auth.unsetUserDetails((success) => {\n          if (success) return history.push(\"/\");\n          setError(\"The system encountered an error, please try again later\");\n        });\n      });\n    } else setError(\"The system encountered an error, please try again later\");\n  };\n\n  /**\n   * Render JSX\n   *\n   */\n  if (loading) return <Loading />;\n  if (error !== \"\") return <EmptyState message={error} />;\n  return (\n    <Card elevation={3} className={classes.wrapper}>\n      <CardHeader title=\"Profile\" />\n      <List>\n        <ListItem button>\n          <ListItemIcon>\n            <AccountCircle />\n          </ListItemIcon>\n          <ListItemText secondary=\"Name\" primary={user.name} />\n        </ListItem>\n\n        <ListItem button>\n          <ListItemIcon>\n            <Email />\n          </ListItemIcon>\n          <ListItemText secondary=\"Email\" primary={user.email} />\n        </ListItem>\n\n        <ListItem button>\n          <ListItemIcon>\n            <QueryBuilder />\n          </ListItemIcon>\n          <ListItemText\n            secondary=\"Date Joined\"\n            primary={new Date(user.created).toDateString()}\n          />\n        </ListItem>\n      </List>\n\n      <CardActions>\n        <Button\n          color=\"secondary\"\n          variant=\"contained\"\n          onClick={submit}\n          endIcon={<ExitToApp />}\n        >\n          Logout\n        </Button>\n      </CardActions>\n    </Card>\n  );\n};\n\nexport default withStyles(styles)(Profile);\n","/**\n * File: Register.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Tuesday, 5th January 2021 1:58:06 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description: Where a user can register\n * Last Modified: Tuesday, 26th January 2021 6:17:23 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport React from \"react\";\n\nimport {\n  Typography,\n  CardHeader,\n  Card,\n  withStyles,\n  createStyles,\n  Button,\n  TextField,\n  CircularProgress,\n  CardActions,\n  CardContent,\n} from \"@material-ui/core\";\nimport { Check, Error } from \"@material-ui/icons\";\n\nimport { register } from \"../../api/api-auth\";\n\nimport auth from \"../../helpers/auth-helper\";\n\n/**\n * Injected styles\n *\n * @param {int} spacing\n */\nconst styles = ({ spacing }) =>\n  createStyles({\n    wrapper: {\n      padding: spacing(4),\n    },\n  });\n\n/**\n * Register Component\n *\n * @param {Theme} classes - classes passed from Material UI Theme\n * @param {History} history - the browser history object\n */\nconst Register = ({ classes, history }) => {\n  const [name, setName] = React.useState(\"\");\n  const [nameError, setNameError] = React.useState(\"\");\n\n  const [email, setEmail] = React.useState(\"\");\n  const [emailError, setEmailError] = React.useState(\"\");\n\n  const [password, setPassword] = React.useState(\"\");\n  const [passwordError, setPasswordError] = React.useState(\"\");\n\n  const [loading, setLoading] = React.useState(false);\n  const [error, setError] = React.useState(\"\");\n\n  /**\n   * Handle validation for form inputs\n   */\n  const handleValidation = () => {\n    let passed = true;\n\n    if (name.length < 3) {\n      setNameError(\"Name must be at least 3 characters\");\n      passed = false;\n    }\n    if (email.length < 3) {\n      setEmailError(\"Email must be at least 3 characters\");\n      passed = false;\n    } else if (!email.includes(\"@\") || !email.includes(\".\")) {\n      setEmailError(\"Please enter a valid email\");\n      passed = false;\n    } else setEmailError(\"\");\n\n    if (password.length < 6) {\n      setPasswordError(\"Password must be at least 6 characters\");\n      passed = false;\n    } else setPasswordError(\"\");\n\n    return passed;\n  };\n\n  /**\n   * Check validation and then run the\n   * register network request\n   *\n   * On success, set token in local storage &\n   * redirect the user to profile\n   */\n  const submit = () => {\n    if (handleValidation()) {\n      setLoading(true);\n      register({ name, email, password }).then((data) => {\n        if (data.errors) {\n          setLoading(false);\n          return setError(Object.values(data.errors)[0][0]);\n        }\n        setError(\"\");\n        auth.setUserDetails(data.data, (success) => {\n          if (success) return history.push(\"/profile\");\n          setError(\"The system encountered an error, please try again later\");\n        });\n      });\n    }\n  };\n\n  /**\n   * Render JSX\n   */\n  return (\n    <Card elevation={3} className={classes.wrapper}>\n      <CardHeader title=\"Register\" />\n      <CardContent>\n        <TextField\n          name=\"name\"\n          label=\"Name\"\n          autoFocus={true}\n          margin=\"normal\"\n          value={name}\n          onChange={(e) => setName(e.target.value)}\n          onKeyDown={(e) => e.key === \"Enter\" && submit()}\n          error={nameError !== \"\"}\n          helperText={nameError}\n        />\n\n        <TextField\n          name=\"email\"\n          label=\"Email\"\n          margin=\"normal\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          onKeyDown={(e) => e.key === \"Enter\" && submit()}\n          error={emailError !== \"\"}\n          helperText={emailError}\n        />\n\n        <TextField\n          name=\"password\"\n          label=\"Password\"\n          type=\"password\"\n          margin=\"normal\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          onKeyDown={(e) => e.key === \"Enter\" && submit()}\n          error={passwordError !== \"\"}\n          helperText={passwordError}\n        />\n\n        <br />\n        {error !== \"\" && (\n          <Typography\n            component=\"p\"\n            color=\"error\"\n            style={{ textAlign: \"center\" }}\n          >\n            <Error color=\"error\" className={classes.error} />\n            {error}\n          </Typography>\n        )}\n      </CardContent>\n      <CardActions>\n        <Button\n          color=\"secondary\"\n          variant=\"contained\"\n          onClick={submit}\n          disabled={loading}\n          endIcon={loading ? <CircularProgress size={18} /> : <Check />}\n        >\n          Register\n        </Button>\n      </CardActions>\n    </Card>\n  );\n};\n\nexport default withStyles(styles)(Register);\n","/**\n * File: auth.api.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Tuesday, 5th January 2021 6:20:22 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description:\n * Last Modified: Monday, 25th January 2021 6:10:54 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport { config } from \"../config/config\";\n\nconst prefix = config.server_url + \"/api/articles\";\n\n/**\n * Fetch a list of articles\n *\n */\nexport const list = async () => {\n  try {\n    const response = await fetch(prefix, {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n    });\n    return response.json();\n  } catch (err) {\n    return console.log(err);\n  }\n};\n\n/**\n * Fetch an article by ID\n *\n * @param {id: String}\n */\nexport const show = async (id) => {\n  try {\n    const response = await fetch(`${prefix}/${id}`, {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n    });\n    return response.json();\n  } catch (err) {\n    return console.log(err);\n  }\n};\n\n/**\n * Create an Article\n *\n * @param {body: {title: String, body: String, category_id: Int}} body\n * @param {token: String}\n */\nexport const create = async (body, token) => {\n  try {\n    const response = await fetch(`${prefix}`, {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n      body: JSON.stringify(body),\n    });\n    return response.json();\n  } catch (err) {\n    return console.log(err);\n  }\n};\n\n/**\n * Update an Article\n *\n * @param {id: String}\n * @param {body: {title: String, body: String, category_id: Int}} body\n * @param {token: String}\n */\nexport const update = async (id, body, token) => {\n  try {\n    const response = await fetch(`${prefix}/${id}`, {\n      method: \"PUT\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n      body: JSON.stringify(body),\n    });\n    return response.json();\n  } catch (err) {\n    return console.log(err);\n  }\n};\n\n/**\n * Removes a article by ID\n *\n * @param {id: String}\n * @param {token: String}\n */\nexport const remove = async (id, token) => {\n  try {\n    const response = await fetch(`${prefix}/${id}`, {\n      method: \"DELETE\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    return response.status;\n  } catch (err) {\n    return console.log(err);\n  }\n};\n","/**\n * File: ArticleActionArea.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Friday, 15th January 2021 4:11:07 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description: Article action area\n * Last Modified: Tuesday, 26th January 2021 7:10:45 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport { CardActionArea } from \"@material-ui/core\";\nimport { Link } from \"react-router-dom\";\n\n/**\n * Conditionally displays an action area to be\n * clicked if there is a link present\n *\n * This component was created because an <a> tag\n * cannot be nested within another <a> tag\n *\n * Therefore on the article detail page an <a> tag isnt rendered,\n * so the chips can be rendered\n *\n * @param {string} link - an optional link\n * @param {*} children - The children\n */\nconst ArticleActionArea = ({ link = null, children }) => {\n  if (link)\n    return (\n      <CardActionArea component={Link} to={link}>\n        {children}\n      </CardActionArea>\n    );\n\n  return <div>{children}</div>;\n};\n\nexport default ArticleActionArea;\n","/**\n * File: ArticleDetails.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Tuesday, 19th January 2021 1:09:58 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description:\n * Last Modified: Tuesday, 26th January 2021 7:09:12 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport { createStyles, withStyles, Chip } from \"@material-ui/core\";\nimport { AccountCircleOutlined, LocalOffer } from \"@material-ui/icons\";\n\nimport { Link } from \"react-router-dom\";\n\n/**\n * Injected styles\n *\n * @param {int} spacing\n */\nconst styles = ({ spacing }) =>\n  createStyles({\n    chipContainer: {\n      \"& > *\": {\n        margin: spacing(0.5),\n      },\n    },\n  });\n\n/**\n * Renders a chip for the article\n *\n * @param {string} link - The link\n * @param {string} label - label to display on the chip\n * @param {Icon} icon - The icon to render\n */\nconst ArticleChip = ({ link, label, icon }) => {\n  if (link)\n    return (\n      <Chip\n        icon={icon}\n        label={label}\n        color=\"primary\"\n        clickable\n        component={Link}\n        to={link}\n      />\n    );\n\n  return <Chip icon={icon} label={label} color=\"primary\" clickable />;\n};\n\n/**\n * Details on the article component\n *\n * @param {Theme} classes - classes passed from Material UI Theme\n * @param {*} article - the article\n * @param {bool} isLink - whether it should be a link\n *\n */\nconst ArticleDetails = ({ classes, article, isLink }) => {\n  return (\n    <div className={classes.chipContainer}>\n      <ArticleChip\n        icon={<AccountCircleOutlined />}\n        label={article.user.name}\n        link={isLink ? `/user/${article.user.id}` : null}\n      />\n      <ArticleChip\n        icon={<LocalOffer />}\n        label={article.category.title}\n        link={isLink ? `/category/${article.category.id}` : null}\n      />\n    </div>\n  );\n};\n\nexport default withStyles(styles)(ArticleDetails);\n","/**\n * File: EditArticle.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Friday, 22nd January 2021 5:17:34 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description: Delete an article\n * Last Modified: Tuesday, 26th January 2021 7:03:45 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport React from \"react\";\n\nimport {\n  withStyles,\n  createStyles,\n  Button,\n  CircularProgress,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  DialogContentText,\n  Snackbar,\n} from \"@material-ui/core\";\n\nimport { Close, Delete } from \"@material-ui/icons\";\n\nimport { remove } from \"../../api/api-article\";\n\nimport auth from \"../../helpers/auth-helper\";\n\n/**\n * Injected styles\n *\n * @param {int} spacing\n */\nconst styles = ({ spacing }) =>\n  createStyles({\n    root: {\n      padding: spacing(1),\n      margin: `${spacing(2)}px 0`,\n    },\n    actions: {\n      justifyContent: \"flex-end\",\n    },\n  });\n\n/**\n * DeleteArticle Component\n *\n * @param {History} history - the browser history object\n * @param {bool} open - whether the dialog should be open or not\n * @param {*} article - The article to be deleted\n * @param {*} handleClose - The function to run to close the dialog\n */\nconst DeleteArticle = ({ history, open, article, handleClose }) => {\n  const [articleError, setArticleError] = React.useState(\"\");\n  const [loading, setLoading] = React.useState(false);\n\n  /**\n   * Check validation and then run the\n   * article update network request\n   *\n   * On success,redirect to the home page\n   */\n  const submit = () => {\n    setLoading(true);\n    const jwt = auth.isAuthenticated();\n\n    remove(article.id, jwt.token).then((data) => {\n      console.log(\"data!\", data);\n      if (data !== 204) {\n        setLoading(false);\n        handleClose(false);\n\n        return setArticleError(\"Could not delete article\");\n      }\n\n      history.push(\"/\");\n    });\n  };\n\n  /**\n   * Render JSX\n   */\n  return (\n    <React.Fragment>\n      <Dialog\n        open={open}\n        onClose={() => handleClose(false)}\n        aria-labelledby=\"edit-article-dialog\"\n      >\n        <DialogTitle>Confirmation</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Are you sure you want to delete this article?\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            color=\"primary\"\n            variant=\"contained\"\n            onClick={() => handleClose(false)}\n            endIcon={<Close />}\n          >\n            Cancel\n          </Button>\n          <Button\n            color=\"secondary\"\n            variant=\"contained\"\n            onClick={submit}\n            disabled={loading}\n            endIcon={loading ? <CircularProgress size={18} /> : <Delete />}\n          >\n            Confirm\n          </Button>\n        </DialogActions>\n      </Dialog>\n      <Snackbar\n        open={articleError !== \"\"}\n        autoHideDuration={6000}\n        onClose={() => setArticleError(\"\")}\n        message={articleError}\n      ></Snackbar>\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles)(DeleteArticle);\n","/**\n * File: ArticleItem.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Friday, 15th January 2021 4:07:13 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description:\n * Last Modified: Saturday, 30th January 2021 2:32:04 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport React from \"react\";\n\nimport {\n  Card,\n  CardHeader,\n  CardContent,\n  Avatar,\n  Typography,\n  createStyles,\n  withStyles,\n  Divider,\n  Zoom,\n  IconButton,\n  Menu,\n  MenuItem,\n  ListItemIcon,\n  ListItemText,\n} from \"@material-ui/core\";\nimport { Create, Delete, MoreVert } from \"@material-ui/icons\";\n\nimport ArticleActionArea from \"./ArticleActionArea\";\nimport ArticleDetails from \"./ArticleDetails\";\nimport DeleteArticle from \"./DeleteArticle\";\n\nimport { Link } from \"react-router-dom\";\n\n/**\n * Injected styles\n *\n * @param {int} spacing\n * @param {palette} palette - The palette defined in theme.js\n */\nconst styles = ({ palette, spacing }) =>\n  createStyles({\n    card: {\n      margin: `${spacing(4)}px auto`,\n    },\n    fixedHeightCard: {\n      height: 200,\n    },\n    avatar: {\n      background: palette.secondary.main,\n    },\n    chipContainer: {\n      \"& > *\": {\n        margin: spacing(0.5),\n      },\n    },\n    divider: {\n      margin: spacing(2),\n    },\n  });\n\n/**\n * ArticleItem Component\n *\n * A single comment\n *\n * @param {bool} displayActions - if the article belongs to the authed user, display actions\n * @param {History} history - the browser history object\n * @param {Theme} classes - classes passed from Material UI Theme\n * @param {*} article - The article to be displayed\n * @param {*} link - The link to optionally display\n * @param {*} delay - The delay of the animation\n */\nconst ArticleItem = ({\n  displayActions,\n  history,\n  classes,\n  article,\n  link = null,\n  delay = 0,\n  disableHeight = true,\n}) => {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [openDeleteDialog, setOpenDeleteDialog] = React.useState(false);\n  const open = Boolean(anchorEl);\n\n  /**\n   * Opens the more options menu\n   *\n   * @param {*} event\n   */\n  const handleOpen = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  /**\n   * Closes the more options menu\n   */\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  /**\n   * Render JSX\n   */\n  return (\n    <Zoom in={true} style={{ transitionDelay: `${delay}ms` }}>\n      <Card className={disableHeight ? classes.fixedHeightCard : classes.card}>\n        <ArticleActionArea link={link}>\n          <CardHeader\n            avatar={\n              <Avatar color=\"secondary\" className={classes.avatar}>\n                {article.user.name[0]}\n                {article.user.name.split(\" \").length > 1 &&\n                  article.user.name.split(\" \")[1][0]}\n              </Avatar>\n            }\n            title={article.title}\n            subheader={new Date(article.created_at).toDateString()}\n            action={\n              displayActions && (\n                <React.Fragment>\n                  <IconButton\n                    aria-label=\"more\"\n                    aria-controls=\"long-menu\"\n                    aria-haspopup=\"true\"\n                    onClick={handleOpen}\n                  >\n                    <MoreVert />\n                  </IconButton>\n\n                  <Menu\n                    id=\"menu\"\n                    anchorEl={anchorEl}\n                    open={open}\n                    onClose={handleClose}\n                  >\n                    <MenuItem\n                      component={Link}\n                      to={`/articles/edit/${article.id}`}\n                    >\n                      <ListItemIcon>\n                        <Create />\n                      </ListItemIcon>\n                      <ListItemText primary=\"Edit\" />\n                    </MenuItem>\n                    <MenuItem onClick={() => setOpenDeleteDialog(true)}>\n                      <ListItemIcon>\n                        <Delete />\n                      </ListItemIcon>\n                      <ListItemText primary=\"Delete\" />\n                    </MenuItem>\n                  </Menu>\n                </React.Fragment>\n              )\n            }\n          />\n          <CardContent>\n            <React.Fragment>\n              <div className={classes.chipContainer}>\n                <ArticleDetails article={article} isLink={link === null} />\n              </div>\n            </React.Fragment>\n\n            {!link && (\n              <React.Fragment>\n                <Divider className={classes.divider} />\n                <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                  {article.body}\n                </Typography>\n              </React.Fragment>\n            )}\n          </CardContent>\n        </ArticleActionArea>\n        <DeleteArticle\n          open={openDeleteDialog}\n          article={article}\n          handleClose={setOpenDeleteDialog}\n          history={history}\n        />\n      </Card>\n    </Zoom>\n  );\n};\n\nexport default withStyles(styles)(ArticleItem);\n","/**\n * File: api-comment.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Tuesday, 19th January 2021 1:49:40 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description:\n * Last Modified: Monday, 25th January 2021 4:54:04 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport { config } from \"../config/config\";\n\nconst prefix = config.server_url + \"/api/comments\";\n\n/**\n * Fetch Comments\n *\n */\nexport const list = async () => {\n  try {\n    const response = await fetch(prefix, {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n    });\n    return response.json();\n  } catch (err) {\n    return console.log(err);\n  }\n};\n\n/**\n * Fetch an comment by ID\n *\n * @param {id: String}\n * @param {token: String}\n */\nexport const show = async (id, token) => {\n  try {\n    const response = await fetch(`${prefix}/${id}`, {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    return response.json();\n  } catch (err) {\n    return console.log(err);\n  }\n};\n\n/**\n * Create an Comment\n *\n * @param {body: {body: String, article_id: Int}} body\n * @param {token: String}\n */\nexport const create = async (body, token) => {\n  try {\n    const response = await fetch(`${prefix}`, {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n      body: JSON.stringify(body),\n    });\n    return response.json();\n  } catch (err) {\n    return console.log(err);\n  }\n};\n\n/**\n * Update an Comment\n *\n * @param {id: String}\n * @param {body: {body: String, article_id: Int}} body\n * @param {token: String}\n */\nexport const update = async (id, body, token) => {\n  try {\n    const response = await fetch(`${prefix}/${id}`, {\n      method: \"PUT\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n      body: JSON.stringify(body),\n    });\n    return response.json();\n  } catch (err) {\n    return console.log(err);\n  }\n};\n\n/**\n * Removes a comment by ID\n *\n * @param {id: String}\n * @param {token: String}\n */\nexport const remove = async (id, token) => {\n  try {\n    const response = await fetch(`${prefix}/${id}`, {\n      method: \"DELETE\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    return response.status;\n  } catch (err) {\n    return console.log(err);\n  }\n};\n","/**\n * File: EditComment.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Friday, 22nd January 2021 5:17:34 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description: Edit an existing comment\n * Last Modified: Tuesday, 26th January 2021 6:58:55 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport React from \"react\";\n\nimport {\n  withStyles,\n  createStyles,\n  Button,\n  TextField,\n  CircularProgress,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n} from \"@material-ui/core\";\nimport { Check } from \"@material-ui/icons\";\n\nimport { update } from \"../../api/api-comment\";\n\nimport auth from \"../../helpers/auth-helper\";\n\n/**\n * Injected styles\n *\n * @param {int} spacing\n */\nconst styles = ({ spacing }) =>\n  createStyles({\n    root: {\n      padding: spacing(1),\n      margin: `${spacing(2)}px 0`,\n    },\n    editTextfield: {\n      width: \"300px\",\n    },\n    actions: {\n      justifyContent: \"flex-end\",\n    },\n  });\n\n/**\n * EditComment Component\n *\n * @param {bool} open - whether the dialog should be open or not\n * @param {*} comment - The comment to be edited\n * @param {*} updateComment - The function to run on successful edit\n * @param {*} handleClose - The function to run to close the dialog\n * @param {Theme} classes - classes passed from Material UI Theme\n */\nconst EditComment = ({\n  open,\n  comment,\n  updateComment,\n  handleClose,\n  classes,\n}) => {\n  const [newComment, setNewComment] = React.useState(comment.body);\n\n  const [commentError, setCommentError] = React.useState(\"\");\n  const [loading, setLoading] = React.useState(false);\n\n  /**\n   * Handle validation for form inputs\n   */\n  const handleValidation = () => {\n    let passed = true;\n\n    if (comment.length < 5) {\n      setCommentError(\"Comment must be at least 5 characters\");\n      passed = false;\n    } else setCommentError(\"\");\n\n    return passed;\n  };\n\n  /**\n   * Check validation and then run the\n   * comment update network request\n   *\n   * On success, close the dialog and run\n   * the updateComment function\n   */\n  const submit = () => {\n    if (handleValidation()) {\n      setLoading(true);\n      const jwt = auth.isAuthenticated();\n\n      update(\n        comment.id,\n        { body: newComment, article_id: comment.article_id },\n        jwt.token\n      ).then((data) => {\n        if (data.errors) {\n          setLoading(false);\n          return setCommentError(Object.values(data.errors)[0][0]);\n        }\n        setCommentError(\"\");\n        setLoading(false);\n\n        updateComment(data.body);\n      });\n    }\n  };\n\n  /**\n   * Render JSX\n   */\n  return (\n    <Dialog\n      open={open}\n      onClose={() => handleClose(false)}\n      aria-labelledby=\"edit-comment-dialog\"\n    >\n      <DialogTitle>Edit Comment</DialogTitle>\n      <DialogContent>\n        <TextField\n          name=\"comment\"\n          label=\"Edit comment\"\n          autoFocus\n          margin=\"normal\"\n          className={classes.editTextfield}\n          value={newComment}\n          onChange={(e) => setNewComment(e.target.value)}\n          onKeyDown={(e) => e.key === \"Enter\" && submit()}\n          error={commentError !== \"\"}\n          helperText={commentError}\n          multiline\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button\n          color=\"primary\"\n          variant=\"contained\"\n          onClick={() => handleClose(false)}\n        >\n          Cancel\n        </Button>\n        <Button\n          color=\"secondary\"\n          variant=\"contained\"\n          onClick={submit}\n          disabled={loading}\n          endIcon={loading ? <CircularProgress size={18} /> : <Check />}\n        >\n          Save\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default withStyles(styles)(EditComment);\n","/**\n * File: EditComment.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Friday, 22nd January 2021 5:17:34 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description: Delete a comment\n * Last Modified: Tuesday, 26th January 2021 7:03:45 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport React from \"react\";\n\nimport {\n  withStyles,\n  createStyles,\n  Button,\n  CircularProgress,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  DialogContentText,\n  Snackbar,\n} from \"@material-ui/core\";\nimport { Close, Delete } from \"@material-ui/icons\";\n\nimport { remove } from \"../../api/api-comment\";\n\nimport auth from \"../../helpers/auth-helper\";\n\n/**\n * Injected styles\n *\n * @param {int} spacing\n */\nconst styles = ({ spacing }) =>\n  createStyles({\n    root: {\n      padding: spacing(1),\n      margin: `${spacing(2)}px 0`,\n    },\n    actions: {\n      justifyContent: \"flex-end\",\n    },\n  });\n\n/**\n * DeleteComment Component\n *\n * @param {bool} open - whether the dialog should be open or not\n * @param {*} comment - The comment to be edited\n * @param {*} deleteComment - The function to run on successful edit\n * @param {*} handleClose - The function to run to close the dialog\n * @param {Theme} classes - classes passed from Material UI Theme\n */\nconst DeleteComment = ({ open, comment, deleteComment, handleClose }) => {\n  const [commentError, setCommentError] = React.useState(\"\");\n  const [loading, setLoading] = React.useState(false);\n\n  /**\n   * run the comment delete network request\n   *\n   * On success, close the dialog and run\n   * the deleteComment function\n   */\n  const submit = () => {\n    setLoading(true);\n    const jwt = auth.isAuthenticated();\n\n    remove(comment.id, jwt.token).then((data) => {\n      console.log(\"data!\", data);\n      if (data !== 204) {\n        setLoading(false);\n        handleClose(false);\n\n        return setCommentError(\"Could not delete comment\");\n      }\n      setLoading(false);\n      handleClose(false);\n      deleteComment(comment.id);\n    });\n  };\n\n  /**\n   * Render JSX\n   */\n  return (\n    <React.Fragment>\n      <Dialog\n        open={open}\n        onClose={() => handleClose(false)}\n        aria-labelledby=\"edit-comment-dialog\"\n      >\n        <DialogTitle>Confirmation</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Are you sure you want to delete this comment?\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            color=\"primary\"\n            variant=\"contained\"\n            onClick={() => handleClose(false)}\n            endIcon={<Close />}\n          >\n            Cancel\n          </Button>\n          <Button\n            color=\"secondary\"\n            variant=\"contained\"\n            onClick={submit}\n            disabled={loading}\n            endIcon={loading ? <CircularProgress size={18} /> : <Delete />}\n          >\n            Confirm\n          </Button>\n        </DialogActions>\n      </Dialog>\n      <Snackbar\n        open={commentError !== \"\"}\n        autoHideDuration={6000}\n        onClose={() => setCommentError(\"\")}\n        message={commentError}\n      ></Snackbar>\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles)(DeleteComment);\n","/**\n * File: CommentItem.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Friday, 15th January 2021 4:07:13 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description: A single comment\n * Last Modified: Friday, 29th January 2021 9:36:25 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport React, { useEffect, useCallback } from \"react\";\n\nimport {\n  Card,\n  CardHeader,\n  CardContent,\n  Avatar,\n  Typography,\n  createStyles,\n  withStyles,\n  CardActions,\n  Grow,\n  IconButton,\n  Menu,\n  MenuItem,\n  ListItemIcon,\n  ListItemText,\n} from \"@material-ui/core\";\nimport { Create, Delete, MoreVert } from \"@material-ui/icons\";\n\nimport { show } from \"../../api/api-comment\";\n\nimport EmptyState from \"../global/EmptyState\";\nimport EditComment from \"./EditComment\";\nimport DeleteComment from \"./DeleteComment\";\n\nimport auth from \"../../helpers/auth-helper\";\n\n/**\n * Injected styles\n *\n * @param {int} spacing\n * @param {palette} palette - The palette defined in theme.js\n */\nconst styles = ({ palette, spacing }) =>\n  createStyles({\n    card: {\n      margin: `${spacing(4)}px auto`,\n    },\n    avatar: {\n      background: palette.secondary.main,\n    },\n    chipContainer: {\n      \"& > *\": {\n        margin: spacing(0.5),\n      },\n    },\n    divider: {\n      margin: spacing(2),\n    },\n  });\n\n/**\n * CommentItem Component\n *\n * A single comment\n *\n * @param {Theme} classes - classes passed from Material UI Theme\n * @param {*} comment - The comment to be displayed\n * @param {*} removeComment - The function to run on successful removal of comment\n */\nconst CommentItem = ({ classes, comment, removeComment }) => {\n  const [fullComment, setFullComment] = React.useState(null);\n  const [loading, setLoading] = React.useState(true);\n  const [error, setError] = React.useState(\"\");\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [openEditDialog, setOpenEditDialog] = React.useState(false);\n  const [openDeleteDialog, setOpenDeleteDialog] = React.useState(false);\n  const [displayActions, setDisplayActions] = React.useState(false);\n  const open = Boolean(anchorEl);\n\n  /**\n   * Open the more options menu\n   *\n   * @param {*} event\n   */\n  const handleOpen = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  /**\n   * Close the more options menu\n   */\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  /**\n   * Close the delete dialog and\n   * run the removeComment function\n   *\n   * @param {int} id\n   */\n  const deleteComment = (id) => {\n    handleClose();\n    removeComment(id);\n  };\n\n  /**\n   * Close the edit dialog\n   * and update the comment body\n   *\n   * @param {string} body\n   */\n  const updateComment = (body) => {\n    handleClose();\n    setFullComment((old) => {\n      let newComment = old;\n      newComment.body = body;\n      return { ...newComment };\n    });\n    setOpenEditDialog(false);\n  };\n\n  /**\n   * Load the comment by the ID in the comment object\n   *\n   * Wrapped in a useCallBack which returns\n   * a memorized version of the function\n   *\n   * The comment needs to be loaded again\n   * to display details about the user\n   */\n  const load = useCallback(() => {\n    setLoading(true);\n    const jwt = auth.isAuthenticated();\n    show(comment.id, jwt.token).then((data) => {\n      if (!data || data.errors || data.exception || data.message) {\n        setError(\n          data && data.errors\n            ? Object.values(data.errors)[0][0]\n            : data.message\n            ? data.message\n            : \"Could not load data\"\n        );\n        return setLoading(false);\n      }\n      setError(\"\");\n      setFullComment(data);\n      /**\n       * If the user logged in is the user who wrote the comment,\n       * display the actions to them\n       */\n\n      jwt && jwt.user.id === data.user.id && setDisplayActions(true);\n      setLoading(false);\n    });\n  }, [comment]);\n\n  useEffect(() => {\n    load();\n  }, [load]);\n\n  /**\n   * Render JSX\n   */\n  if (loading) return <></>;\n  if (error !== \"\") return <EmptyState message={error} action={load} />;\n  return (\n    <Grow in={true}>\n      <Card className={classes.card}>\n        <CardHeader\n          avatar={\n            <Avatar color=\"secondary\" className={classes.avatar}>\n              {fullComment.user.name[0]}\n              {fullComment.user.name.split(\" \").length > 1 &&\n                fullComment.user.name.split(\" \")[1][0]}\n            </Avatar>\n          }\n          title={fullComment.user.name}\n          subheader={new Date(comment.created_at).toDateString()}\n          action={\n            displayActions && (\n              <React.Fragment>\n                <IconButton\n                  aria-label=\"more\"\n                  aria-controls=\"long-menu\"\n                  aria-haspopup=\"true\"\n                  onClick={handleOpen}\n                >\n                  <MoreVert />\n                </IconButton>\n\n                <Menu\n                  id=\"menu\"\n                  anchorEl={anchorEl}\n                  open={open}\n                  onClose={handleClose}\n                >\n                  <MenuItem onClick={() => setOpenEditDialog(true)}>\n                    <ListItemIcon>\n                      <Create />\n                    </ListItemIcon>\n                    <ListItemText primary=\"Edit\" />\n                  </MenuItem>\n                  <MenuItem onClick={() => setOpenDeleteDialog(true)}>\n                    <ListItemIcon>\n                      <Delete />\n                    </ListItemIcon>\n                    <ListItemText primary=\"Delete\" />\n                  </MenuItem>\n                </Menu>\n              </React.Fragment>\n            )\n          }\n        />\n        <CardContent>\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n            {fullComment.body}\n          </Typography>\n        </CardContent>\n        <CardActions></CardActions>\n        <EditComment\n          open={openEditDialog}\n          comment={fullComment}\n          handleClose={setOpenEditDialog}\n          updateComment={updateComment}\n        />\n        <DeleteComment\n          open={openDeleteDialog}\n          comment={fullComment}\n          handleClose={setOpenDeleteDialog}\n          deleteComment={deleteComment}\n        />\n      </Card>\n    </Grow>\n  );\n};\n\nexport default withStyles(styles)(CommentItem);\n","/**\n * File: AddComment.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Thursday, 21st January 2021 2:40:37 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description: Create a new comment\n * Last Modified: Friday, 29th January 2021 9:35:10 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport React from \"react\";\n\nimport {\n  Card,\n  withStyles,\n  createStyles,\n  Button,\n  TextField,\n  CircularProgress,\n  CardActions,\n} from \"@material-ui/core\";\nimport { Check } from \"@material-ui/icons\";\n\nimport { create } from \"../../api/api-comment\";\n\nimport auth from \"../../helpers/auth-helper\";\n\n/**\n * Injected styles\n *\n * @param {int} spacing\n */\nconst styles = ({ spacing }) =>\n  createStyles({\n    root: {\n      padding: spacing(1),\n      margin: `${spacing(2)}px 0`,\n    },\n    actions: {\n      justifyContent: \"flex-end\",\n    },\n  });\n\n/**\n * AddComment Component\n *\n\n * @param {Theme} classes - classes passed from Material UI Theme\n * @param {int} articleId - the ID of the article\n * @param {*} addComment - The function to run on successful add of comment\n */\nconst AddComment = ({ classes, articleId, addComment }) => {\n  const [comment, setComment] = React.useState(\"\");\n\n  const [commentError, setCommentError] = React.useState(\"\");\n  const [loading, setLoading] = React.useState(false);\n\n  /**\n   * Handle validation for form input\n   */\n  const handleValidation = () => {\n    let passed = true;\n\n    if (comment.length < 5) {\n      setCommentError(\"Comment must be at least 5 characters\");\n      passed = false;\n    } else setCommentError(\"\");\n\n    return passed;\n  };\n\n  /**\n   * Check validation and then run the\n   * comment update network request\n   *\n   * On success, close the dialog and run\n   * the add comment function\n   */\n  const submit = () => {\n    if (handleValidation()) {\n      setLoading(true);\n      const jwt = auth.isAuthenticated();\n\n      create({ body: comment, article_id: articleId }, jwt.token).then(\n        (data) => {\n          if (!data || data.errors || data.exception || data.message) {\n            setLoading(false);\n            return setCommentError(\n              data && data.errors\n                ? Object.values(data.errors)[0][0]\n                : \"Could not create article\"\n            );\n          }\n          setCommentError(\"\");\n          setLoading(false);\n          setComment(\"\");\n          addComment(data);\n        }\n      );\n    }\n  };\n\n  /**\n   * Render JSX\n   */\n  return (\n    <Card className={classes.root}>\n      <TextField\n        name=\"comment\"\n        label=\"Add a comment\"\n        autoFocus={true}\n        margin=\"normal\"\n        value={comment}\n        onChange={(e) => setComment(e.target.value)}\n        onKeyDown={(e) => e.key === \"Enter\" && submit()}\n        error={commentError !== \"\"}\n        helperText={commentError}\n        multiline\n      />\n      <CardActions className={classes.actions}>\n        <Button\n          color=\"secondary\"\n          variant=\"contained\"\n          onClick={submit}\n          disabled={loading}\n          endIcon={loading ? <CircularProgress size={18} /> : <Check />}\n        >\n          Post\n        </Button>\n      </CardActions>\n    </Card>\n  );\n};\n\nexport default withStyles(styles)(AddComment);\n","/**\n * File: Comments.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Thursday, 21st January 2021 12:42:47 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description:\n * Last Modified: Friday, 29th January 2021 10:00:26 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\nimport React from \"react\";\n\nimport { withRouter } from \"react-router-dom\";\n\nimport { Typography } from \"@material-ui/core\";\n\nimport CommentItem from \"./CommentItem\";\nimport AddComment from \"./AddComment\";\n\n/**\n * Comments Component\n *\n * @param {Array} comments - an array of comments\n * @param {History} history - the browser history object\n * @param {int} articleId - the ID of the article\n * @param {*} addComment - The function to run on adding a comment\n * @param {*} removeComment - The function to run on removing a comment\n */\nconst Comments = ({\n  comments,\n  history,\n  articleId,\n  addComment,\n  removeComment,\n}) => {\n  /**\n   * Render JSX\n   */\n  return (\n    <React.Fragment>\n      <Typography variant=\"h3\">Comments</Typography>\n\n      <React.Fragment>\n        <AddComment\n          articleId={articleId}\n          addComment={(comment) => addComment(comment)}\n        />\n\n        {comments.length > 0 ? (\n          comments.map((comment, i) => (\n            <CommentItem\n              key={comment.id}\n              comment={comment}\n              removeComment={removeComment}\n            />\n          ))\n        ) : (\n          <Typography variant=\"body2\" style={{ textAlign: \"center\" }}>\n            No comments found\n          </Typography>\n        )}\n      </React.Fragment>\n    </React.Fragment>\n  );\n};\n\nexport default withRouter(Comments);\n","/**\n * File: Article.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Friday, 8th January 2021 5:34:58 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description:\n * Last Modified: Friday, 29th January 2021 9:52:05 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport React, { useEffect, useCallback } from \"react\";\n\nimport { Button, createStyles, withStyles } from \"@material-ui/core\";\nimport { ArrowBack } from \"@material-ui/icons\";\n\nimport { Link, withRouter } from \"react-router-dom\";\n\nimport { show } from \"../../api/api-article\";\n\nimport Loading from \"../../components/global/Loading\";\nimport EmptyState from \"../../components/global/EmptyState\";\nimport ArticleItem from \"../../components/article/ArticleItem\";\nimport Comments from \"../../components/comment/Comments\";\n\nimport auth from \"../../helpers/auth-helper\";\n\n/**\n * Injected styles\n *\n * @param {int} spacing\n * @param {palette} palette - The palette defined in theme.js\n */\nconst styles = ({ palette, spacing }) =>\n  createStyles({\n    card: {\n      margin: `${spacing(4)}px auto`,\n    },\n    avatar: {\n      background: palette.secondary.main,\n    },\n    fab: {\n      position: \"fixed\",\n      bottom: spacing(2),\n      right: spacing(2),\n\n      \"& .MuiFab-primary\": {\n        background: palette.secondary.main,\n      },\n    },\n  });\n\n/**\n * Article Component\n *\n * @param {Theme} classes - classes passed from Material UI Theme\n * @param {Match} match - Contains information about a react-router-dom Route\n */\nconst Article = ({ history, match }) => {\n  const [article, setArticle] = React.useState([]);\n  const [comments, setComments] = React.useState([]);\n\n  const [loading, setLoading] = React.useState(true);\n  const [error, setError] = React.useState(\"\");\n\n  const [displayActions, setDisplayActions] = React.useState(false);\n  const [hasAuth, setHasAuth] = React.useState(false);\n  /**\n   * Load the article by the ID in the match object\n   *\n   * Wrapped in a useCallBack which returns\n   * a memorized version of the function\n   */\n  const load = useCallback(() => {\n    setLoading(true);\n    const { id } = match.params;\n    const jwt = auth.isAuthenticated();\n    setHasAuth(jwt ? true : false);\n    show(id).then((data) => {\n      if (!data || data.errors || data.exception || data.message) {\n        setLoading(false);\n\n        return setError(\n          data && data.errors\n            ? Object.values(data.errors)[0][0]\n            : \"Could not load data\"\n        );\n      }\n      setError(\"\");\n      if (data.comments.length > 0) {\n        setComments(data.comments.reverse());\n        delete data.comments;\n      }\n      setArticle(data);\n\n      jwt && jwt.user.id === data.user.id && setDisplayActions(true);\n      setLoading(false);\n    });\n  }, [match]);\n\n  useEffect(() => {\n    load();\n  }, [load]);\n\n  /**\n   * Adds a comment from the AddComment component\n   *\n   * @param {comment} comment\n   */\n  const addComment = (comment) => setComments((old) => [comment, ...old]);\n\n  /**\n   * Removes a comment from the AddComment component\n   *\n   * @param {comment} comment\n   */\n  const removeComment = (id) => {\n    setComments((old) => {\n      const items = old.filter((item) => item.id !== id);\n\n      return [...items];\n    });\n  };\n\n  /**\n   * Redirect to the login page\n   */\n  const login = () => {\n    history.push(`/login${window.location.pathname}`);\n  };\n\n  if (loading) return <Loading />;\n  if (error !== \"\") return <EmptyState message={error} action={load} />;\n  return (\n    <React.Fragment>\n      <Button component={Link} to=\"/\" startIcon={<ArrowBack />}>\n        Back\n      </Button>\n      <div style={{ position: \"relative\" }}>\n        <ArticleItem\n          article={article}\n          history={history}\n          displayActions={displayActions}\n          disableHeight={false}\n        />\n        {!hasAuth ? (\n          <EmptyState\n            message=\"Please login to view comments\"\n            action={login}\n            actionLabel={\"Login\"}\n          />\n        ) : (\n          <Comments\n            articleId={article.id}\n            comments={comments}\n            addComment={addComment}\n            removeComment={removeComment}\n          />\n        )}\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default withRouter(withStyles(styles)(Article));\n","/**\n * File: filter-categories.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Tuesday, 12th January 2021 1:49:12 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description: Filter categories on the article list\n * Last Modified: Thursday, 28th January 2021 5:46:29 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport React from \"react\";\n\nimport { TextField, Checkbox } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport {\n  CheckBox as CheckBoxIcon,\n  CheckBoxOutlineBlank,\n} from \"@material-ui/icons\";\n\nconst icon = <CheckBoxOutlineBlank fontSize=\"small\" />;\nconst checkedIcon = <CheckBoxIcon fontSize=\"small\" />;\n\n/**\n * Filter categories on the article list\n *\n * @param {*} categories\n * @param {*} selectCategory - function to run on selecting a category\n * @param {*} defaultValueIndex - If there is a default category selected\n */\nconst FilterCategories = ({\n  categories,\n  selectCategory,\n  defaultValueIndex = null,\n}) => {\n  if (categories && categories.length > 0) {\n    return (\n      <Autocomplete\n        multiple\n        id=\"filter-categories\"\n        options={categories}\n        getOptionLabel={(option) => option.title}\n        disableCloseOnSelect\n        limitTags={3}\n        defaultValue={\n          defaultValueIndex !== null\n            ? [categories[defaultValueIndex]]\n            : undefined\n        }\n        onChange={(event, value) => selectCategory(value)}\n        renderOption={(option, { selected }) => (\n          <React.Fragment>\n            <Checkbox\n              icon={icon}\n              checkedIcon={checkedIcon}\n              style={{ marginRight: 8 }}\n              checked={selected}\n            />\n            {option.title}\n          </React.Fragment>\n        )}\n        renderInput={(params) => (\n          <TextField\n            {...params}\n            variant=\"outlined\"\n            label=\"Filter by Category\"\n            placeholder=\"Basketball\"\n          />\n        )}\n      />\n    );\n  }\n  return <></>;\n};\n\nexport default FilterCategories;\n","/**\n * File: filter-authors.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Tuesday, 12th January 2021 1:49:12 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description: Filter authors on the article list\n * Last Modified: Thursday, 28th January 2021 5:46:45 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport React from \"react\";\n\nimport { TextField, Checkbox } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport {\n  CheckBox as CheckBoxIcon,\n  CheckBoxOutlineBlank,\n} from \"@material-ui/icons\";\n\nconst icon = <CheckBoxOutlineBlank fontSize=\"small\" />;\nconst checkedIcon = <CheckBoxIcon fontSize=\"small\" />;\n\n/**\n * Filter authors on the article list\n *\n * @param {*} authors\n * @param {*} selectCategory - function to run on selecting a author\n * @param {*} defaultValueIndex - If there is a default author selected\n */\nconst FilterAuthors = ({ authors, selectAuthor, defaultValueIndex = null }) => {\n  if (authors && authors.length > 0) {\n    return (\n      <Autocomplete\n        multiple\n        id=\"filter-authors\"\n        options={authors}\n        getOptionLabel={(option) => option.name}\n        disableCloseOnSelect\n        limitTags={3}\n        defaultValue={\n          defaultValueIndex !== null ? [authors[defaultValueIndex]] : undefined\n        }\n        onChange={(event, value) => selectAuthor(value)}\n        renderOption={(option, { selected }) => (\n          <React.Fragment>\n            <Checkbox\n              icon={icon}\n              checkedIcon={checkedIcon}\n              style={{ marginRight: 8 }}\n              checked={selected}\n            />\n            {option.name}\n          </React.Fragment>\n        )}\n        renderInput={(params) => (\n          <TextField\n            {...params}\n            variant=\"outlined\"\n            label=\"Filter by Author\"\n            placeholder=\"Author\"\n          />\n        )}\n      />\n    );\n  }\n  return <></>;\n};\n\nexport default FilterAuthors;\n","/**\n * File: auth.api.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Tuesday, 5th January 2021 6:20:22 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description:\n * Last Modified: Tuesday, 19th January 2021 1:53:05 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport { config } from \"../config/config\";\n\nconst prefix = config.server_url + \"/api/categories\";\n\n/**\n * Fetch Categories\n *\n */\nexport const list = async () => {\n  try {\n    const response = await fetch(prefix, {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n    });\n    return response.json();\n  } catch (err) {\n    return console.log(err);\n  }\n};\n","/**\n * File: Articles.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Friday, 8th January 2021 5:34:58 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description:\n * Last Modified: Friday, 29th January 2021 9:59:09 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport React, { useEffect, useCallback } from \"react\";\n\nimport {\n  Typography,\n  withStyles,\n  createStyles,\n  Fab,\n  Grid,\n} from \"@material-ui/core\";\nimport { Add } from \"@material-ui/icons\";\n\nimport { Link } from \"react-router-dom\";\n\nimport Loading from \"../../components/global/Loading\";\nimport EmptyState from \"../../components/global/EmptyState\";\nimport FilterCategories from \"../../components/filter/FilterCategories\";\nimport FilterAuthors from \"../../components/filter/FilterAuthors\";\nimport ArticleItem from \"../../components/article/ArticleItem\";\n\nimport { list as listArticles } from \"../../api/api-article\";\nimport { list as listCategories } from \"../../api/api-categories\";\n\nimport auth from \"../../helpers/auth-helper\";\n\n/**\n * Injected styles\n *\n * @param {int} spacing\n */\nconst styles = ({ spacing }) =>\n  createStyles({\n    fab: {\n      position: \"fixed\",\n      bottom: spacing(2),\n      right: spacing(2),\n    },\n  });\n\n/**\n * Articles Component\n *\n * @param {Theme} classes - classes passed from Material UI Theme\n */\nconst Articles = ({ classes }) => {\n  const [title, setTitle] = React.useState(\"Articles\");\n\n  const [articles, setArticles] = React.useState([]);\n  const [authors, setAuthors] = React.useState([]);\n  const [categories, setCategories] = React.useState([]);\n\n  const [selectedAuthors, setSelectedAuthors] = React.useState([]);\n  const [filters, setFilters] = React.useState([]);\n\n  const [loading, setLoading] = React.useState(true);\n  const [error, setError] = React.useState(\"\");\n\n  const [defaultValueIndex, setDefaultValueIndex] = React.useState(null);\n  const [defaultAuthorValueIndex, setDefaultAuthorValueIndex] = React.useState(\n    null\n  );\n  const isAuthed = auth.isAuthenticated();\n\n  /**\n   * Load articles and categories\n   *\n   * Wrapped in a useCallBack which returns\n   * a memorized version of the function\n   */\n  const load = useCallback(() => {\n    setLoading(true);\n    /**\n     * Load articles\n     */\n    listArticles().then((data) => {\n      if (!data || data.errors || data.exception || data.message) {\n        setLoading(false);\n        return setError(\n          data && data.errors\n            ? Object.values(data.errors)[0][0]\n            : \"Could not load data\"\n        );\n      }\n      setError(\"\");\n\n      const articles = data.reverse();\n      let authors = [];\n      articles.forEach((article) => {\n        /**\n         * Prevent duplicate authors in authors array\n         */\n        if (\n          authors.findIndex((author) => author.id === article.user.id) === -1\n        ) {\n          authors.push(article.user);\n        }\n      });\n\n      setArticles(data);\n      setAuthors(authors);\n\n      /**\n       * Check if the user is in the URL\n       *\n       * If so, set it as the default article, and update the title\n       */\n      if (window.location.pathname.includes(\"user\")) {\n        const userId = parseInt(window.location.pathname.split(\"user/\")[1]);\n        const userI = authors.findIndex((user) => user.id === userId);\n\n        if (userI !== -1) {\n          setDefaultAuthorValueIndex(userI);\n          setTitle(`Articles by ${authors[userI].name}`);\n          setSelectedAuthors([authors[userI]]);\n        }\n      }\n    });\n\n    /**\n     * Load categories\n     */\n    listCategories().then((data) => {\n      if (!data || data.errors || data.exception || data.message) {\n        setLoading(false);\n\n        return setError(\n          data && data.errors\n            ? Object.values(data.errors)[0][0]\n            : \"Could not load data\"\n        );\n      }\n      setError(\"\");\n\n      /**\n       * Check if the category is in the URL\n       *\n       * If so, set it as the default article, and update the title\n       */\n      if (window.location.pathname.includes(\"category\")) {\n        const categoryId = window.location.pathname.split(\"category/\")[1];\n        const categoryI = data.findIndex(\n          (category) => category.id === parseInt(categoryId)\n        );\n\n        setTitle(`${data[categoryI].title} Articles`);\n        categoryI !== -1 && setDefaultValueIndex(categoryI);\n        setFilters([data[categoryI]]);\n      }\n\n      setCategories(data);\n      setLoading(false);\n    });\n  }, []);\n\n  useEffect(() => {\n    load();\n  }, [load]);\n\n  /**\n   * Selecting a category from the FilterCategories component\n   *\n   * @param {category} filteredCategories\n   */\n  const selectCategory = (filteredCategories) => {\n    if (\n      defaultValueIndex !== null &&\n      categories[defaultValueIndex].id !== filteredCategories[defaultValueIndex]\n    ) {\n      setTitle(\"Articles\");\n    }\n    setFilters(filteredCategories);\n  };\n\n  /**\n   * Selecting a author from the FilterAuthors component\n   *\n   * @param {author} filteredUser\n   */\n  const selectAuthor = (filteredUser) => {\n    if (\n      defaultAuthorValueIndex !== null &&\n      authors[defaultAuthorValueIndex] !== filteredUser[defaultAuthorValueIndex]\n    ) {\n      setTitle(\"Articles\");\n    }\n    setSelectedAuthors(filteredUser);\n  };\n\n  /**\n   * Render JSX\n   */\n  if (loading) return <Loading />;\n  if (error !== \"\") return <EmptyState message={error} action={load} />;\n  return (\n    <React.Fragment>\n      <Typography variant=\"h3\">{title}</Typography>\n      <Grid container spacing={2}>\n        <Grid item sm={6} xs={12}>\n          <FilterCategories\n            defaultValueIndex={defaultValueIndex}\n            categories={categories}\n            selectCategory={selectCategory}\n          />\n        </Grid>\n        <Grid item sm={6} xs={12}>\n          <FilterAuthors\n            authors={authors}\n            selectAuthor={selectAuthor}\n            defaultValueIndex={defaultAuthorValueIndex}\n          />\n        </Grid>\n      </Grid>\n      <Grid container spacing={2}>\n        {articles\n          .filter((article) => {\n            if (filters.length > 0 || selectedAuthors.length > 0) {\n              return (\n                filters.findIndex(\n                  (filter) => filter.id === article.category.id\n                ) !== -1 ||\n                selectedAuthors.findIndex(\n                  (author) => author.id === article.user.id\n                ) !== -1\n              );\n            }\n            return article;\n          })\n          .map((article, i) => {\n            return (\n              <Grid item sm={6} xs={12} key={i}>\n                <ArticleItem\n                  delay={(i + 1) * 200}\n                  article={article}\n                  link={`/article/${article.id}`}\n                />\n              </Grid>\n            );\n          })}\n      </Grid>\n      {isAuthed && (\n        <Fab\n          className={classes.fab}\n          component={Link}\n          aria-label=\"Add Article\"\n          color=\"secondary\"\n          to=\"/articles/new\"\n        >\n          <Add />\n        </Fab>\n      )}\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles)(Articles);\n","/**\n * File: routes.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Friday, 8th January 2021 4:10:03 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description: Additional routes in the application\n * Last Modified: Thursday, 28th January 2021 5:32:53 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport Login from \"../pages/auth/Login\";\nimport Profile from \"../pages/auth/Profile\";\nimport Register from \"../pages/auth/Register\";\nimport Article from \"../pages/article/Article\";\nimport Articles from \"../pages/article/Articles\";\nimport CreateArticle from \"../pages/article/CreateArticle\";\nimport EditArticle from \"../pages/article/EditArticle\";\n\nconst routes = [\n  {\n    name: \"Login\",\n    link: \"/login\",\n    component: Login,\n    authed: false,\n    displayOnNav: true,\n  },\n  {\n    name: \"Register\",\n    link: \"/register\",\n    component: Register,\n    authed: false,\n    displayOnNav: true,\n  },\n  {\n    name: \"Profile\",\n    link: \"/profile\",\n    component: Profile,\n    authed: true,\n  },\n  {\n    name: \"Article\",\n    link: \"/article/:id\",\n    component: Article,\n    authed: false,\n  },\n  {\n    name: \"Create Article\",\n    link: \"/articles/new\",\n    component: CreateArticle,\n    authed: true,\n  },\n  {\n    name: \"Edit Article\",\n    link: \"/articles/edit/:id\",\n    component: EditArticle,\n    authed: true,\n  },\n  {\n    name: \"Articles by User\",\n    link: \"/user/:id\",\n    component: Articles,\n    authed: false,\n  },\n  {\n    name: \"Articles by Category\",\n    link: \"/category/:id\",\n    component: Articles,\n    authed: false,\n  },\n];\n\nexport default routes;\n","/**\n * File: CreateArticle.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Friday, 8th January 2021 5:34:58 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description: Creating n Article Form\n * Last Modified: Friday, 29th January 2021 9:35:10 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport React, { useEffect, useCallback } from \"react\";\nimport {\n  Button,\n  Card,\n  TextField,\n  CardHeader,\n  CardContent,\n  createStyles,\n  withStyles,\n  CardActions,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { ArrowBack, Check } from \"@material-ui/icons\";\n\nimport { Link } from \"react-router-dom\";\n\nimport { create } from \"../../api/api-article\";\nimport { list } from \"../../api/api-categories\";\n\nimport Loading from \"../../components/global/Loading\";\nimport EmptyState from \"../../components/global/EmptyState\";\n\nimport auth from \"../../helpers/auth-helper\";\n\n/**\n * Injected styles\n *\n * @param {int} spacing\n */\nconst styles = ({ spacing }) =>\n  createStyles({\n    wrapper: {\n      padding: spacing(4),\n    },\n  });\n\n/**\n * CreateArticle Component\n *\n * @param {History} history - the browser history object\n * @param {Theme} classes - classes passed from Material UI Theme\n */\nconst CreateArticle = ({ history, classes }) => {\n  const [title, setTitle] = React.useState(\"\");\n  const [titleError, setTitleError] = React.useState(\"\");\n\n  const [body, setBody] = React.useState(\"\");\n  const [bodyError, setBodyError] = React.useState(\"\");\n\n  const [selectedCategory, setSelectedCategory] = React.useState(null);\n  const [categories, setCategories] = React.useState([]);\n\n  const [loadingCategories, setLoadingCategories] = React.useState(true);\n  const [loading, setLoading] = React.useState(false);\n  const [error, setError] = React.useState(\"\");\n\n  /**\n   * load articles by the ID in the match object\n   *\n   * Wrapped in a useCallBack which returns\n   * a memorized version of the function\n   */\n  const loadCategories = useCallback(() => {\n    list().then((data) => {\n      if (!data || data.errors || data.exception || data.message) {\n        setLoadingCategories(false);\n\n        return setError(\n          data && data.errors\n            ? Object.values(data.errors)[0][0]\n            : \"Could not load data\"\n        );\n      }\n\n      setCategories(data);\n      setSelectedCategory(data[0]);\n      setError(\"\");\n      setLoadingCategories(false);\n    });\n  }, []);\n\n  useEffect(() => {\n    loadCategories();\n  }, [loadCategories]);\n\n  /**\n   * Handle validation for form inputs\n   */\n  const handleValidation = () => {\n    let passed = true;\n\n    if (title.length < 5) {\n      setTitleError(\"Title must be at least 5 characters\");\n      passed = false;\n    } else setTitleError(\"\");\n\n    if (body.length < 5) {\n      setBodyError(\"Body must be at least 5 characters\");\n      passed = false;\n    } else setBodyError(\"\");\n\n    return passed;\n  };\n\n  /**\n   * Check validation and then run the\n   * article create network request\n   *\n   * On success,redirect to the article\n   */\n  const submit = () => {\n    if (handleValidation()) {\n      setLoading(true);\n      const jwt = auth.isAuthenticated();\n      create({ title, body, category_id: selectedCategory.id }, jwt.token).then(\n        (data) => {\n          if (!data || data.errors || data.exception || data.message) {\n            setLoading(false);\n            return setError(\n              data && data.errors\n                ? Object.values(data.errors)[0][0]\n                : \"Could not create article\"\n            );\n          }\n          history.push(`/article/${data.id}`);\n        }\n      );\n    }\n  };\n\n  /**\n   * Render JSX\n   */\n  if (loadingCategories) return <Loading />;\n  if (error !== \"\")\n    return <EmptyState message={error} action={loadCategories} />;\n  return (\n    <React.Fragment>\n      <Button component={Link} to=\"/\" startIcon={<ArrowBack />}>\n        Back\n      </Button>\n      <Card elevation={3} className={classes.wrapper}>\n        <CardHeader title=\"Create Article\" />\n\n        <CardContent>\n          <Autocomplete\n            value={selectedCategory}\n            options={categories}\n            getOptionLabel={(option) => option.title}\n            onChange={(e, v) => setSelectedCategory(v)}\n            renderInput={(params) => (\n              <TextField\n                {...params}\n                variant=\"outlined\"\n                label=\"Select Category\"\n                placeholder=\"Basketball\"\n              />\n            )}\n          />\n\n          <TextField\n            name=\"title\"\n            label=\"Title\"\n            autoFocus={true}\n            margin=\"normal\"\n            value={title}\n            onChange={(e) => setTitle(e.target.value)}\n            onKeyDown={(e) => e.key === \"Enter\" && submit()}\n            error={titleError !== \"\"}\n            helperText={titleError}\n          />\n\n          <TextField\n            name=\"body\"\n            label=\"Body\"\n            autoFocus={true}\n            margin=\"normal\"\n            value={body}\n            onChange={(e) => setBody(e.target.value)}\n            onKeyDown={(e) => e.key === \"Enter\" && submit()}\n            error={bodyError !== \"\"}\n            helperText={bodyError}\n            multiline\n          />\n        </CardContent>\n        <CardActions>\n          <Button\n            color=\"secondary\"\n            variant=\"contained\"\n            onClick={submit}\n            disabled={loading}\n            endIcon={loading ? <CircularProgress size={18} /> : <Check />}\n          >\n            Create\n          </Button>\n        </CardActions>\n      </Card>\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles)(CreateArticle);\n","/**\n * File: EditArticle.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Friday, 8th January 2021 5:34:58 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description: Editing an Article Form\n * Last Modified: Friday, 29th January 2021 9:35:10 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport React, { useEffect, useCallback } from \"react\";\n\nimport {\n  Button,\n  Card,\n  TextField,\n  CardHeader,\n  CardContent,\n  createStyles,\n  withStyles,\n  CardActions,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { ArrowBack, Check } from \"@material-ui/icons\";\n\nimport { Link } from \"react-router-dom\";\n\nimport { show, update } from \"../../api/api-article\";\nimport { list } from \"../../api/api-categories\";\n\nimport Loading from \"../../components/global/Loading\";\nimport EmptyState from \"../../components/global/EmptyState\";\n\nimport auth from \"../../helpers/auth-helper\";\n\n/**\n * Injected styles\n *\n * @param {int} spacing\n */\nconst styles = ({ spacing }) =>\n  createStyles({\n    wrapper: {\n      padding: spacing(4),\n    },\n  });\n\n/**\n * EditArticle Component\n *\n * @param {Match} match - Contains information about a react-router-dom Route\n * @param {Theme} classes - classes passed from Material UI Theme\n * @param {History} history - the browser history object\n */\nconst EditArticle = ({ match, history, classes }) => {\n  const [id, setId] = React.useState(0);\n\n  const [title, setTitle] = React.useState(\"\");\n  const [titleError, setTitleError] = React.useState(\"\");\n\n  const [body, setBody] = React.useState(\"\");\n  const [bodyError, setBodyError] = React.useState(\"\");\n\n  const [selectedCategory, setSelectedCategory] = React.useState(null);\n  const [categories, setCategories] = React.useState([]);\n\n  const [loadingCategories, setLoadingCategories] = React.useState(true);\n  const [loading, setLoading] = React.useState(false);\n  const [error, setError] = React.useState(\"\");\n\n  /**\n   * Load the article by the ID in the match object\n   *\n   * Wrapped in a useCallBack which returns\n   * a memorized version of the function\n   */\n  const load = useCallback(() => {\n    const { id } = match.params;\n\n    /**\n     * Load the article\n     */\n    show(id).then((data) => {\n      if (!data || data.errors || data.exception || data.message) {\n        setError(\n          data && data.errors\n            ? Object.values(data.errors)[0][0]\n            : \"Could not load data\"\n        );\n\n        return setLoadingCategories(false);\n      }\n\n      setTitle(data.title);\n      setBody(data.body);\n      setId(data.id);\n\n      const categoryId = data.category_id;\n\n      /**\n       * Load the category\n       */\n      list().then((data) => {\n        if (!data || data.errors || data.exception || data.message) {\n          setError(\n            data && data.errors\n              ? Object.values(data.errors)[0][0]\n              : \"Could not load data\"\n          );\n\n          return setLoadingCategories(false);\n        }\n\n        /**\n         * Find the current selected category on the article\n         */\n        const categoryI = data.findIndex((item) => item.id === categoryId);\n        setCategories(data);\n        setSelectedCategory(data[categoryI]);\n\n        setLoadingCategories(false);\n        setError(\"\");\n      });\n    });\n  }, [match]);\n\n  useEffect(() => {\n    load();\n  }, [load]);\n\n  /**\n   * Handle validation for form inputs\n   */\n  const handleValidation = () => {\n    let passed = true;\n\n    if (title.length < 5) {\n      setTitleError(\"Title must be at least 5 characters\");\n      passed = false;\n    } else setTitleError(\"\");\n\n    if (body.length < 5) {\n      setBodyError(\"Body must be at least 5 characters\");\n      passed = false;\n    } else setBodyError(\"\");\n\n    return passed;\n  };\n\n  /**\n   * Check validation and then run the\n   * article update network request\n   *\n   * On success,redirect to the article\n   */\n  const submit = () => {\n    if (handleValidation()) {\n      setLoading(true);\n      const jwt = auth.isAuthenticated();\n      update(\n        id,\n        { title, body, category_id: selectedCategory.id },\n        jwt.token\n      ).then((data) => {\n        if (!data || data.errors || data.exception || data.message) {\n          setLoading(false);\n          return setError(\n            data && data.errors\n              ? Object.values(data.errors)[0][0]\n              : \"Could not create article\"\n          );\n        }\n\n        history.push(`/article/${data.id}`);\n      });\n    }\n  };\n\n  /**\n   * Render JSX\n   */\n  if (loadingCategories) return <Loading />;\n  if (error !== \"\") return <EmptyState message={error} action={load} />;\n  return (\n    <React.Fragment>\n      <Button component={Link} to={`/article/${id}`} startIcon={<ArrowBack />}>\n        Back\n      </Button>\n      <Card elevation={3} className={classes.wrapper}>\n        <CardHeader title=\"Edit Article\" />\n\n        <CardContent>\n          <Autocomplete\n            value={selectedCategory}\n            options={categories}\n            getOptionLabel={(option) => option.title}\n            onChange={(e, v) => setSelectedCategory(v)}\n            renderInput={(params) => (\n              <TextField\n                {...params}\n                variant=\"outlined\"\n                label=\"Select Category\"\n                placeholder=\"Basketball\"\n              />\n            )}\n          />\n\n          <TextField\n            name=\"title\"\n            label=\"Title\"\n            autoFocus={true}\n            margin=\"normal\"\n            value={title}\n            onChange={(e) => setTitle(e.target.value)}\n            onKeyDown={(e) => e.key === \"Enter\" && submit()}\n            error={titleError !== \"\"}\n            helperText={titleError}\n          />\n\n          <TextField\n            name=\"body\"\n            label=\"Body\"\n            autoFocus={true}\n            margin=\"normal\"\n            value={body}\n            onChange={(e) => setBody(e.target.value)}\n            onKeyDown={(e) => e.key === \"Enter\" && submit()}\n            error={bodyError !== \"\"}\n            helperText={bodyError}\n            multiline\n          />\n        </CardContent>\n        <CardActions>\n          <Button\n            color=\"secondary\"\n            variant=\"contained\"\n            onClick={submit}\n            disabled={loading}\n            endIcon={loading ? <CircularProgress size={18} /> : <Check />}\n          >\n            Save\n          </Button>\n        </CardActions>\n      </Card>\n    </React.Fragment>\n  );\n};\n\nexport default withStyles(styles)(EditArticle);\n","/**\n * File: Header.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Tuesday, 5th January 2021 5:24:46 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description:\n * Last Modified: Friday, 29th January 2021 10:26:04 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\n/**\n * Primary dependencies\n */\nimport React, { useEffect } from \"react\";\nimport { withRouter, Link } from \"react-router-dom\";\n\n/**\n * Component Library imports\n */\nimport {\n  AppBar,\n  Button,\n  createStyles,\n  Toolbar,\n  withStyles,\n  IconButton,\n  Menu,\n  MenuItem,\n  Snackbar,\n  CircularProgress,\n  useScrollTrigger,\n  CssBaseline,\n  Slide,\n} from \"@material-ui/core\";\n\nimport routes from \"./../../routing/routes\";\n\nimport auth from \"../../helpers/auth-helper\";\nimport { AccountCircle } from \"@material-ui/icons\";\nimport { logout } from \"../../api/api-auth\";\n\n/**\n * Injected styles\n *\n * @param {int} spacing\n */\nconst styles = () =>\n  createStyles({\n    root: {\n      justifyContent: \"space-between\",\n      \"& a\": {\n        color: \"#fff\",\n      },\n    },\n  });\n\nfunction HideOnScroll(props) {\n  const { children, window } = props;\n  // Note that you normally won't need to set the window ref as useScrollTrigger\n  // will default to window.\n  // This is only being set here because the demo is in an iframe.\n  const trigger = useScrollTrigger({ target: window ? window() : undefined });\n\n  return (\n    <Slide appear={false} direction=\"down\" in={!trigger}>\n      {children}\n    </Slide>\n  );\n}\n\n/**\n * Header for the application\n *\n * @param {History} history - the browser history object\n * @param {Theme} classes - classes passed from Material UI Theme\n */\nconst Header = ({ history, classes, ...props }) => {\n  /**\n   * If set to true, displays routes that only authenticated users should see\n   * If not, displays login / register\n   */\n  const [isAuthed, setIsAuthed] = React.useState(false);\n\n  const [loading, setLoading] = React.useState(false);\n  const [message, setMessage] = React.useState(\"\");\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const open = Boolean(anchorEl);\n\n  const handleMenu = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  /**\n   * Check if the user is authenticaed\n   */\n  useEffect(() => {\n    const setAuth = (bool) => setIsAuthed(bool);\n\n    const jwt = auth.isAuthenticated();\n    setAuth(jwt ? true : false);\n\n    /**\n     * Listen for changes in the URL bar,\n     * and check if the user is authenticated\n     *\n     * Can only be done when the component\n     * is exported through withRouter\n     */\n    history.listen(() => {\n      const jwt = auth.isAuthenticated();\n      setAuth(jwt ? true : false);\n    });\n  }, [history]);\n\n  /**\n   * Logout from the application\n   */\n  const submit = () => {\n    const jwt = auth.isAuthenticated();\n    if (jwt) {\n      setLoading(true);\n      logout(jwt.token).then((data) => {\n        if (data.errors) {\n          setLoading(false);\n          return setMessage(Object.values(data.errors)[0][0]);\n        }\n        auth.unsetUserDetails((success) => {\n          if (success) {\n            setIsAuthed(false);\n            setLoading(false);\n            handleClose();\n            setMessage(\"Logged out successfully\");\n\n            return history.push(\"/\");\n          }\n          setMessage(\"The system encountered an error, please try again later\");\n        });\n      });\n    } else {\n      setIsAuthed(false);\n      setMessage(\"The system encountered an error, please try again later\");\n    }\n  };\n\n  /**\n   * Render JSX\n   */\n  return (\n    <React.Fragment>\n      <CssBaseline />\n      <HideOnScroll {...props}>\n        <AppBar>\n          <Toolbar className={classes.root}>\n            <Button component={Link} to=\"/\">\n              Adv JS CA2\n            </Button>\n\n            <div>\n              <Button component={Link} to=\"/\">\n                Articles\n              </Button>\n              {routes\n                .filter(\n                  (route) => route.authed === isAuthed && route.displayOnNav\n                )\n                .map((route, i) => (\n                  <Button key={i} component={Link} to={route.link}>\n                    {route.name}\n                  </Button>\n                ))}\n\n              {isAuthed && (\n                <React.Fragment>\n                  <IconButton\n                    aria-label=\"account of current user\"\n                    aria-controls=\"menu-appbar\"\n                    aria-haspopup=\"true\"\n                    onClick={handleMenu}\n                    color=\"inherit\"\n                  >\n                    <AccountCircle />\n                  </IconButton>\n                  <Menu\n                    id=\"menu-appbar\"\n                    anchorEl={anchorEl}\n                    anchorOrigin={{\n                      vertical: \"top\",\n                      horizontal: \"right\",\n                    }}\n                    keepMounted\n                    transformOrigin={{\n                      vertical: \"top\",\n                      horizontal: \"right\",\n                    }}\n                    open={open}\n                    onClose={handleClose}\n                  >\n                    <MenuItem\n                      component={Link}\n                      to=\"/profile\"\n                      onClick={handleClose}\n                    >\n                      Profile\n                    </MenuItem>\n                    <MenuItem disabled={loading} onClick={submit}>\n                      Logout {loading && <CircularProgress size={18} />}\n                    </MenuItem>\n                  </Menu>\n                </React.Fragment>\n              )}\n            </div>\n          </Toolbar>\n        </AppBar>\n      </HideOnScroll>\n      <Snackbar\n        open={message !== \"\"}\n        autoHideDuration={6000}\n        onClose={() => setMessage(\"\")}\n        message={message}\n      ></Snackbar>\n    </React.Fragment>\n  );\n};\n\nexport default withRouter(withStyles(styles)(Header));\n","/**\n * File: MainRouter.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Tuesday, 5th January 2021 1:47:32 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description: Main Router for the application\n * Last Modified: Friday, 29th January 2021 10:37:53 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport React from \"react\";\n\nimport { Route, Switch } from \"react-router-dom\";\nimport { Grid } from \"@material-ui/core\";\n\nimport Header from \"../components/layout/Header\";\n\nimport Articles from \"../pages/article/Articles\";\n\nimport routes from \"./routes\";\n\nconst MainRouter = (props) => {\n  return (\n    <div>\n      <Header />\n      <Grid\n        container\n        justify=\"center\"\n        style={{ marginTop: \"100px\", marginBottom: \"20px\" }}\n      >\n        <Grid item xs={11}>\n          <Switch>\n            <Route exact path=\"/\" component={Articles} />\n\n            {routes.map(({ link, component }, i) => (\n              <Route path={link} component={component} key={i} />\n            ))}\n          </Switch>\n        </Grid>\n      </Grid>\n    </div>\n  );\n};\n\nexport default MainRouter;\n","/**\n * File: theme.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Tuesday, 5th January 2021 1:46:00 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description: Stylings applied to Material UI Library\n * Last Modified: Thursday, 28th January 2021 5:59:20 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport { createMuiTheme, responsiveFontSizes } from \"@material-ui/core/styles\";\n\nlet theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: \"#2196f3\",\n    },\n    secondary: {\n      main: \"#ffc400\",\n    },\n  },\n  typography: {\n    fontFamily: [\"Poppins\", \"sans-serif\"].join(\",\"),\n  },\n  overrides: {\n    MuiGrid: {\n      item: {\n        maxWidth: \"800px!important\",\n      },\n    },\n    MuiTextField: {\n      root: {\n        width: \"100%\",\n        margin: \"16px auto\",\n      },\n    },\n    MuiListItemText: {\n      root: {\n        display: \"flex\",\n        flexDirection: \"column-reverse\",\n      },\n    },\n    MuiTypography: {\n      h3: {\n        fontWeight: 500,\n        fontSize: \"2.3em\",\n        margin: \"10px\",\n      },\n    },\n  },\n});\n\ntheme = responsiveFontSizes(theme);\n\nexport default theme;\n","/**\n * File: App.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Tuesday, 5th January 2021 1:36:58 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description: Renders the Router, Theme Provider and MainRouter\n * Last Modified: Tuesday, 26th January 2021 6:08:43 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport React from \"react\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { MuiThemeProvider } from \"@material-ui/core/styles\";\n\nimport MainRouter from \"./routing/MainRouter\";\nimport theme from \"./theme\";\n\nconst App = () => (\n  <Router>\n    <MuiThemeProvider theme={theme}>\n      <MainRouter />\n    </MuiThemeProvider>\n  </Router>\n);\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","/**\n * File: index.js\n * Project: ca2-client\n * Version 0.1.0\n * File Created: Tuesday, 5th January 2021 1:36:58 pm\n * Author: Eoan O'Dea (eoan@web-space.design)\n * -----\n * File Description: Entry Point for React\n * Last Modified: Friday, 29th January 2021 11:04:59 pm\n * Modified By: Eoan O'Dea (eoan@web-space.design>)\n * -----\n * Copyright 2021 WebSpace, WebSpace\n */\n\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nimport App from \"./App\";\nimport reportWebVitals from \"./tests/reportWebVitals\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n\nserviceWorker.register();\n"],"sourceRoot":""}