(this["webpackJsonpca2-client"]=this["webpackJsonpca2-client"]||[]).push([[0],{109:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),c=n.n(r),o=n(14),i=n.n(o),s=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function l(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var u=n(16),j=n(189),d=n(18),b=n(181),p=n(24),h=n(6),O=n(84),f=n(196),m=n(184),x=n(185),g=n(186),v=n(187),y=n(188),C=n(153),w=n(173),S=n(83),k=n(175),A=n(154),T=n(195),E=n(5),I=n(142),N=n(146),F=n(147),D=n(190),z=n(37),B=n(152),P=n(151),L=n(155),J=n(13),U=n.n(J),K=n(21),W="https://iadt-adv-js-server.herokuapp.com",_=W+"/api",H=function(){var e=Object(K.a)(U.a.mark((function e(t){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(_,"/login"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return n=e.sent,e.abrupt("return",n.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(K.a)(U.a.mark((function e(t){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(_,"/register"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return n=e.sent,e.abrupt("return",n.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(K.a)(U.a.mark((function e(t){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(_,"/logout"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 3:return n=e.sent,e.abrupt("return",n.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),V={setUserDetails:function(e,t){var n={token:e.api_token,user:{name:e.name,email:e.email,id:e.id,created:e.created_at}};sessionStorage.setItem("jwt",JSON.stringify(n)),t(!0)},unsetUserDetails:function(e){sessionStorage.removeItem("jwt"),e(!0)},isAuthenticated:function(){if("undefined"==typeof window)return!1;if(sessionStorage.getItem("jwt")){var e=JSON.parse(sessionStorage.getItem("jwt"));return!(!e||!e.user)&&e}return!1}},G=Object(E.a)((function(e){var t=e.spacing;return Object(f.a)({wrapper:{padding:t(4)}})}))((function(e){var t=e.classes,n=e.history,r=c.a.useState(""),o=Object(h.a)(r,2),i=o[0],s=o[1],l=c.a.useState(""),u=Object(h.a)(l,2),j=u[0],d=u[1],b=c.a.useState(""),p=Object(h.a)(b,2),O=p[0],f=p[1],m=c.a.useState(""),x=Object(h.a)(m,2),g=x[0],v=x[1],y=c.a.useState(!1),w=Object(h.a)(y,2),S=w[0],k=w[1],T=c.a.useState(""),E=Object(h.a)(T,2),J=E[0],U=E[1],K=function(){(function(){var e=!0;return i.length<3?(d("Email must be at least 3 characters"),e=!1):i.includes("@")&&i.includes(".")?d(""):(d("Please enter a valid email"),e=!1),O.length<6?(v("Password must be at least 6 characters"),e=!1):v(""),e})()&&(k(!0),H({email:i,password:O}).then((function(e){if(e.errors)return k(!1),U(Object.values(e.errors)[0][0]);U(""),V.setUserDetails(e.data,(function(e){if(e)return window.location.pathname.includes("login/")?n.push(window.location.pathname.split("login")[1]):n.push("/profile");U("The system encountered an error, please try again later")}))})))};return Object(a.jsxs)(I.a,{elevation:3,className:t.wrapper,children:[Object(a.jsx)(N.a,{title:"Login"}),Object(a.jsxs)(F.a,{children:[Object(a.jsx)(D.a,{name:"email",label:"Email",autoFocus:!0,margin:"normal",value:i,onChange:function(e){return s(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&K()},error:""!==j,helperText:j}),Object(a.jsx)(D.a,{name:"password",label:"Password",type:"password",margin:"normal",value:O,onChange:function(e){return f(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&K()},error:""!==g,helperText:g}),Object(a.jsx)("br",{}),""!==J&&Object(a.jsxs)(z.a,{component:"p",color:"error",style:{textAlign:"center"},children:[Object(a.jsx)(P.a,{color:"error",className:t.error}),J]})]}),Object(a.jsx)(B.a,{children:Object(a.jsx)(C.a,{color:"secondary",variant:"contained",onClick:K,disabled:S,endIcon:S?Object(a.jsx)(A.a,{size:18}):Object(a.jsx)(L.a,{}),children:"Login"})})]})})),Y=n(150),$=n(110),q=n(157),Q=n(159),X=n(158),Z=n(160),ee=n(161),te=n(162),ne=Object(E.a)((function(){return Object(f.a)({progressWrapper:{minHeight:"-webkit-fill-available",display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",top:0,bottom:0,left:0,right:0}})}))((function(e){var t=e.classes;return Object(a.jsx)("div",{className:t.progressWrapper,children:Object(a.jsx)("div",{children:Object(a.jsx)(A.a,{})})})})),ae=n(156),re=Object(E.a)((function(e){var t=e.spacing;return Object(f.a)({wrapper:{padding:t(4),textAlign:"center"},icon:{fontSize:"3em"},header:{display:"flex",flexDirection:"column-reverse",justifyContent:"center"},iconContainer:{textAlign:"center"}})}))((function(e){var t=e.message,n=e.classes,r=e.action,c=e.actionLabel,o=void 0===c?"Try Again":c;return Object(a.jsxs)(I.a,{elevation:3,className:n.wrapper,children:[Object(a.jsx)("div",{className:n.iconContainer,children:Object(a.jsx)(P.a,{color:"error",className:n.icon})}),Object(a.jsx)(N.a,{title:t||"There was a problem",className:n.header}),r?Object(a.jsx)(C.a,{className:n.iconContainer,variant:"contained",color:"secondary",endIcon:Object(a.jsx)(ae.a,{}),onClick:r,children:o}):Object(a.jsx)(C.a,{component:u.b,to:"/",color:"primary",variant:"contained",children:"Home"})]})})),ce=Object(E.a)((function(e){var t=e.spacing;return Object(f.a)({wrapper:{padding:t(4)}})}))((function(e){var t=e.classes,n=e.history,o=c.a.useState(null),i=Object(h.a)(o,2),s=i[0],l=i[1],u=c.a.useState(!0),j=Object(h.a)(u,2),d=j[0],b=j[1],p=c.a.useState(""),O=Object(h.a)(p,2),f=O[0],m=O[1];Object(r.useEffect)((function(){var e=V.isAuthenticated();e?(l(e.user),b(!1)):(m("You are not authenticated, please log in"),b(!1))}),[]);return d?Object(a.jsx)(ne,{}):""!==f?Object(a.jsx)(re,{message:f}):Object(a.jsxs)(I.a,{elevation:3,className:t.wrapper,children:[Object(a.jsx)(N.a,{title:"Profile"}),Object(a.jsxs)(Y.a,{children:[Object(a.jsxs)($.a,{button:!0,children:[Object(a.jsx)(q.a,{children:Object(a.jsx)(X.a,{})}),Object(a.jsx)(Q.a,{secondary:"Name",primary:s.name})]}),Object(a.jsxs)($.a,{button:!0,children:[Object(a.jsx)(q.a,{children:Object(a.jsx)(Z.a,{})}),Object(a.jsx)(Q.a,{secondary:"Email",primary:s.email})]}),Object(a.jsxs)($.a,{button:!0,children:[Object(a.jsx)(q.a,{children:Object(a.jsx)(ee.a,{})}),Object(a.jsx)(Q.a,{secondary:"Date Joined",primary:new Date(s.created).toDateString()})]})]}),Object(a.jsx)(B.a,{children:Object(a.jsx)(C.a,{color:"secondary",variant:"contained",onClick:function(){var e=V.isAuthenticated();e?(b(!0),M(e.token).then((function(e){if(e.errors)return b(!1),m(Object.values(e.errors)[0][0]);m(""),V.unsetUserDetails((function(e){if(e)return n.push("/");m("The system encountered an error, please try again later")}))}))):m("The system encountered an error, please try again later")},endIcon:Object(a.jsx)(te.a,{}),children:"Logout"})})]})})),oe=Object(E.a)((function(e){var t=e.spacing;return Object(f.a)({wrapper:{padding:t(4)}})}))((function(e){var t=e.classes,n=e.history,r=c.a.useState(""),o=Object(h.a)(r,2),i=o[0],s=o[1],l=c.a.useState(""),u=Object(h.a)(l,2),j=u[0],d=u[1],b=c.a.useState(""),p=Object(h.a)(b,2),O=p[0],f=p[1],m=c.a.useState(""),x=Object(h.a)(m,2),g=x[0],v=x[1],y=c.a.useState(""),w=Object(h.a)(y,2),S=w[0],k=w[1],T=c.a.useState(""),E=Object(h.a)(T,2),J=E[0],U=E[1],K=c.a.useState(!1),W=Object(h.a)(K,2),_=W[0],H=W[1],M=c.a.useState(""),G=Object(h.a)(M,2),Y=G[0],$=G[1],q=function(){(function(){var e=!0;return i.length<3&&(d("Name must be at least 3 characters"),e=!1),O.length<3?(v("Email must be at least 3 characters"),e=!1):O.includes("@")&&O.includes(".")?v(""):(v("Please enter a valid email"),e=!1),S.length<6?(U("Password must be at least 6 characters"),e=!1):U(""),e})()&&(H(!0),R({name:i,email:O,password:S}).then((function(e){if(e.errors)return H(!1),$(Object.values(e.errors)[0][0]);$(""),V.setUserDetails(e.data,(function(e){if(e)return n.push("/profile");$("The system encountered an error, please try again later")}))})))};return Object(a.jsxs)(I.a,{elevation:3,className:t.wrapper,children:[Object(a.jsx)(N.a,{title:"Register"}),Object(a.jsxs)(F.a,{children:[Object(a.jsx)(D.a,{name:"name",label:"Name",autoFocus:!0,margin:"normal",value:i,onChange:function(e){return s(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&q()},error:""!==j,helperText:j}),Object(a.jsx)(D.a,{name:"email",label:"Email",margin:"normal",value:O,onChange:function(e){return f(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&q()},error:""!==g,helperText:g}),Object(a.jsx)(D.a,{name:"password",label:"Password",type:"password",margin:"normal",value:S,onChange:function(e){return k(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&q()},error:""!==J,helperText:J}),Object(a.jsx)("br",{}),""!==Y&&Object(a.jsxs)(z.a,{component:"p",color:"error",style:{textAlign:"center"},children:[Object(a.jsx)(P.a,{color:"error",className:t.error}),Y]})]}),Object(a.jsx)(B.a,{children:Object(a.jsx)(C.a,{color:"secondary",variant:"contained",onClick:q,disabled:_,endIcon:_?Object(a.jsx)(A.a,{size:18}):Object(a.jsx)(L.a,{}),children:"Register"})})]})})),ie=n(70),se=n(178),le=W+"/api/articles",ue=function(){var e=Object(K.a)(U.a.mark((function e(){var t;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(le,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return t=e.sent,e.abrupt("return",t.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),je=function(){var e=Object(K.a)(U.a.mark((function e(t){var n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(le,"/").concat(t),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return n=e.sent,e.abrupt("return",n.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(K.a)(U.a.mark((function e(t,n){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(le),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify(t)});case 3:return a=e.sent,e.abrupt("return",a.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),be=function(){var e=Object(K.a)(U.a.mark((function e(t,n,a){var r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(le,"/").concat(t),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(n)});case 3:return r=e.sent,e.abrupt("return",r.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,a){return e.apply(this,arguments)}}(),pe=function(){var e=Object(K.a)(U.a.mark((function e(t,n){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(le,"/").concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)}});case 3:return a=e.sent,e.abrupt("return",a.status);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),he=n(172),Oe=n(199),fe=n(177),me=n(174),xe=n(176),ge=n(171),ve=n(163),ye=function(e){var t=e.link,n=void 0===t?null:t,r=e.children;return n?Object(a.jsx)(ve.a,{component:u.b,to:n,children:r}):Object(a.jsx)("div",{children:r})},Ce=n(198),we=n(164),Se=n(165),ke=function(e){var t=e.link,n=e.label,r=e.icon;return t?Object(a.jsx)(Ce.a,{icon:r,label:n,color:"primary",clickable:!0,component:u.b,to:t}):Object(a.jsx)(Ce.a,{icon:r,label:n,color:"primary",clickable:!0})},Ae=Object(E.a)((function(e){var t=e.spacing;return Object(f.a)({chipContainer:{"& > *":{margin:t(.5)}}})}))((function(e){var t=e.classes,n=e.article,r=e.isLink;return Object(a.jsxs)("div",{className:t.chipContainer,children:[Object(a.jsx)(ke,{icon:Object(a.jsx)(we.a,{}),label:n.user.name,link:r?"/user/".concat(n.user.id):null}),Object(a.jsx)(ke,{icon:Object(a.jsx)(Se.a,{}),label:n.category.title,link:r?"/category/".concat(n.category.id):null})]})})),Te=n(194),Ee=n(166),Ie=n(167),Ne=n(168),Fe=n(169),De=n(170),ze=Object(E.a)((function(e){var t=e.spacing;return Object(f.a)({root:{padding:t(1),margin:"".concat(t(2),"px 0")},actions:{justifyContent:"flex-end"}})}))((function(e){var t=e.history,n=e.open,r=e.article,o=e.handleClose,i=c.a.useState(""),s=Object(h.a)(i,2),l=s[0],u=s[1],j=c.a.useState(!1),d=Object(h.a)(j,2),b=d[0],p=d[1];return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsxs)(Te.a,{open:n,onClose:function(){return o(!1)},"aria-labelledby":"edit-article-dialog",children:[Object(a.jsx)(Ee.a,{children:"Confirmation"}),Object(a.jsx)(Ie.a,{children:Object(a.jsx)(Ne.a,{children:"Are you sure you want to delete this article?"})}),Object(a.jsxs)(Fe.a,{children:[Object(a.jsx)(C.a,{color:"primary",variant:"contained",onClick:function(){return o(!1)},endIcon:Object(a.jsx)(De.a,{}),children:"Cancel"}),Object(a.jsx)(C.a,{color:"secondary",variant:"contained",onClick:function(){p(!0);var e=V.isAuthenticated();pe(r.id,e.token).then((function(e){if(console.log("data!",e),204!==e)return p(!1),o(!1),u("Could not delete article");t.push("/")}))},disabled:b,endIcon:b?Object(a.jsx)(A.a,{size:18}):Object(a.jsx)(ge.a,{}),children:"Confirm"})]})]}),Object(a.jsx)(T.a,{open:""!==l,autoHideDuration:6e3,onClose:function(){return u("")},message:l})]})})),Be=Object(E.a)((function(e){var t=e.palette,n=e.spacing;return Object(f.a)({card:{margin:"".concat(n(4),"px auto")},fixedHeightCard:{height:200},avatar:{background:t.secondary.main},chipContainer:{"& > *":{margin:n(.5)}},divider:{margin:n(2)}})}))((function(e){var t=e.displayActions,n=e.history,r=e.classes,o=e.article,i=e.link,s=void 0===i?null:i,l=e.delay,j=void 0===l?0:l,d=e.disableHeight,b=void 0===d||d,p=c.a.useState(null),O=Object(h.a)(p,2),f=O[0],m=O[1],x=c.a.useState(!1),g=Object(h.a)(x,2),v=g[0],y=g[1],C=Boolean(f);return Object(a.jsx)(he.a,{in:!0,style:{transitionDelay:"".concat(j,"ms")},children:Object(a.jsxs)(I.a,{className:b?r.fixedHeightCard:r.card,children:[Object(a.jsxs)(ye,{link:s,children:[Object(a.jsx)(N.a,{avatar:Object(a.jsxs)(Oe.a,{color:"secondary",className:r.avatar,children:[o.user.name[0],o.user.name.split(" ").length>1&&o.user.name.split(" ")[1][0]]}),title:o.title,subheader:new Date(o.created_at).toDateString(),action:t&&Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(w.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){m(e.currentTarget)},children:Object(a.jsx)(me.a,{})}),Object(a.jsxs)(S.a,{id:"menu",anchorEl:f,open:C,onClose:function(){m(null)},children:[Object(a.jsxs)(k.a,{component:u.b,to:"/articles/edit/".concat(o.id),children:[Object(a.jsx)(q.a,{children:Object(a.jsx)(xe.a,{})}),Object(a.jsx)(Q.a,{primary:"Edit"})]}),Object(a.jsxs)(k.a,{onClick:function(){return y(!0)},children:[Object(a.jsx)(q.a,{children:Object(a.jsx)(ge.a,{})}),Object(a.jsx)(Q.a,{primary:"Delete"})]})]})]})}),Object(a.jsxs)(F.a,{children:[Object(a.jsx)(c.a.Fragment,{children:Object(a.jsx)("div",{className:r.chipContainer,children:Object(a.jsx)(Ae,{article:o,isLink:null===s})})}),!s&&Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(fe.a,{className:r.divider}),Object(a.jsx)(z.a,{variant:"body2",color:"textSecondary",component:"p",children:o.body})]})]})]}),Object(a.jsx)(ze,{open:v,article:o,handleClose:y,history:n})]})})})),Pe=n(148),Le=W+"/api/comments",Je=function(){var e=Object(K.a)(U.a.mark((function e(t,n){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(Le,"/").concat(t),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)}});case 3:return a=e.sent,e.abrupt("return",a.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(K.a)(U.a.mark((function e(t,n){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(Le),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify(t)});case 3:return a=e.sent,e.abrupt("return",a.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),Ke=function(){var e=Object(K.a)(U.a.mark((function e(t,n,a){var r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(Le,"/").concat(t),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify(n)});case 3:return r=e.sent,e.abrupt("return",r.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,a){return e.apply(this,arguments)}}(),We=function(){var e=Object(K.a)(U.a.mark((function e(t,n){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(Le,"/").concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)}});case 3:return a=e.sent,e.abrupt("return",a.status);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),_e=Object(E.a)((function(e){var t=e.spacing;return Object(f.a)({root:{padding:t(1),margin:"".concat(t(2),"px 0")},editTextfield:{width:"300px"},actions:{justifyContent:"flex-end"}})}))((function(e){var t=e.open,n=e.comment,r=e.updateComment,o=e.handleClose,i=e.classes,s=c.a.useState(n.body),l=Object(h.a)(s,2),u=l[0],j=l[1],d=c.a.useState(""),b=Object(h.a)(d,2),p=b[0],O=b[1],f=c.a.useState(!1),m=Object(h.a)(f,2),x=m[0],g=m[1],v=function(){if(function(){var e=!0;return n.length<5?(O("Comment must be at least 5 characters"),e=!1):O(""),e}()){g(!0);var e=V.isAuthenticated();Ke(n.id,{body:u,article_id:n.article_id},e.token).then((function(e){if(e.errors)return g(!1),O(Object.values(e.errors)[0][0]);O(""),g(!1),r(e.body)}))}};return Object(a.jsxs)(Te.a,{open:t,onClose:function(){return o(!1)},"aria-labelledby":"edit-comment-dialog",children:[Object(a.jsx)(Ee.a,{children:"Edit Comment"}),Object(a.jsx)(Ie.a,{children:Object(a.jsx)(D.a,{name:"comment",label:"Edit comment",autoFocus:!0,margin:"normal",className:i.editTextfield,value:u,onChange:function(e){return j(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&v()},error:""!==p,helperText:p,multiline:!0})}),Object(a.jsxs)(Fe.a,{children:[Object(a.jsx)(C.a,{color:"primary",variant:"contained",onClick:function(){return o(!1)},children:"Cancel"}),Object(a.jsx)(C.a,{color:"secondary",variant:"contained",onClick:v,disabled:x,endIcon:x?Object(a.jsx)(A.a,{size:18}):Object(a.jsx)(L.a,{}),children:"Save"})]})]})})),He=Object(E.a)((function(e){var t=e.spacing;return Object(f.a)({root:{padding:t(1),margin:"".concat(t(2),"px 0")},actions:{justifyContent:"flex-end"}})}))((function(e){var t=e.open,n=e.comment,r=e.deleteComment,o=e.handleClose,i=c.a.useState(""),s=Object(h.a)(i,2),l=s[0],u=s[1],j=c.a.useState(!1),d=Object(h.a)(j,2),b=d[0],p=d[1];return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsxs)(Te.a,{open:t,onClose:function(){return o(!1)},"aria-labelledby":"edit-comment-dialog",children:[Object(a.jsx)(Ee.a,{children:"Confirmation"}),Object(a.jsx)(Ie.a,{children:Object(a.jsx)(Ne.a,{children:"Are you sure you want to delete this comment?"})}),Object(a.jsxs)(Fe.a,{children:[Object(a.jsx)(C.a,{color:"primary",variant:"contained",onClick:function(){return o(!1)},endIcon:Object(a.jsx)(De.a,{}),children:"Cancel"}),Object(a.jsx)(C.a,{color:"secondary",variant:"contained",onClick:function(){p(!0);var e=V.isAuthenticated();We(n.id,e.token).then((function(e){if(console.log("data!",e),204!==e)return p(!1),o(!1),u("Could not delete comment");p(!1),o(!1),r(n.id)}))},disabled:b,endIcon:b?Object(a.jsx)(A.a,{size:18}):Object(a.jsx)(ge.a,{}),children:"Confirm"})]})]}),Object(a.jsx)(T.a,{open:""!==l,autoHideDuration:6e3,onClose:function(){return u("")},message:l})]})})),Re=Object(E.a)((function(e){var t=e.palette,n=e.spacing;return Object(f.a)({card:{margin:"".concat(n(4),"px auto")},avatar:{background:t.secondary.main},chipContainer:{"& > *":{margin:n(.5)}},divider:{margin:n(2)}})}))((function(e){var t=e.classes,n=e.comment,o=e.removeComment,i=c.a.useState(null),s=Object(h.a)(i,2),l=s[0],u=s[1],j=c.a.useState(!0),d=Object(h.a)(j,2),b=d[0],O=d[1],f=c.a.useState(""),m=Object(h.a)(f,2),x=m[0],g=m[1],v=c.a.useState(null),y=Object(h.a)(v,2),C=y[0],A=y[1],T=c.a.useState(!1),E=Object(h.a)(T,2),D=E[0],P=E[1],L=c.a.useState(!1),J=Object(h.a)(L,2),U=J[0],K=J[1],W=c.a.useState(!1),_=Object(h.a)(W,2),H=_[0],R=_[1],M=Boolean(C),G=function(){A(null)},Y=Object(r.useCallback)((function(){O(!0);var e=V.isAuthenticated();Je(n.id,e.token).then((function(t){if(!t||t.errors||t.exception||t.message)return g(t&&t.errors?Object.values(t.errors)[0][0]:t.message?t.message:"Could not load data"),O(!1);g(""),u(t),e&&e.user.id===t.user.id&&R(!0),O(!1)}))}),[n]);return Object(r.useEffect)((function(){Y()}),[Y]),b?Object(a.jsx)(a.Fragment,{}):""!==x?Object(a.jsx)(re,{message:x,action:Y}):Object(a.jsx)(Pe.a,{in:!0,children:Object(a.jsxs)(I.a,{className:t.card,children:[Object(a.jsx)(N.a,{avatar:Object(a.jsxs)(Oe.a,{color:"secondary",className:t.avatar,children:[l.user.name[0],l.user.name.split(" ").length>1&&l.user.name.split(" ")[1][0]]}),title:l.user.name,subheader:new Date(n.created_at).toDateString(),action:H&&Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(w.a,{"aria-label":"more","aria-controls":"long-menu","aria-haspopup":"true",onClick:function(e){A(e.currentTarget)},children:Object(a.jsx)(me.a,{})}),Object(a.jsxs)(S.a,{id:"menu",anchorEl:C,open:M,onClose:G,children:[Object(a.jsxs)(k.a,{onClick:function(){return P(!0)},children:[Object(a.jsx)(q.a,{children:Object(a.jsx)(xe.a,{})}),Object(a.jsx)(Q.a,{primary:"Edit"})]}),Object(a.jsxs)(k.a,{onClick:function(){return K(!0)},children:[Object(a.jsx)(q.a,{children:Object(a.jsx)(ge.a,{})}),Object(a.jsx)(Q.a,{primary:"Delete"})]})]})]})}),Object(a.jsx)(F.a,{children:Object(a.jsx)(z.a,{variant:"body2",color:"textSecondary",component:"p",children:l.body})}),Object(a.jsx)(B.a,{}),Object(a.jsx)(_e,{open:D,comment:l,handleClose:P,updateComment:function(e){G(),u((function(t){var n=t;return n.body=e,Object(p.a)({},n)})),P(!1)}}),Object(a.jsx)(He,{open:U,comment:l,handleClose:K,deleteComment:function(e){G(),o(e)}})]})})})),Me=Object(E.a)((function(e){var t=e.spacing;return Object(f.a)({root:{padding:t(1),margin:"".concat(t(2),"px 0")},actions:{justifyContent:"flex-end"}})}))((function(e){var t=e.classes,n=e.articleId,r=e.addComment,o=c.a.useState(""),i=Object(h.a)(o,2),s=i[0],l=i[1],u=c.a.useState(""),j=Object(h.a)(u,2),d=j[0],b=j[1],p=c.a.useState(!1),O=Object(h.a)(p,2),f=O[0],m=O[1],x=function(){if(function(){var e=!0;return s.length<5?(b("Comment must be at least 5 characters"),e=!1):b(""),e}()){m(!0);var e=V.isAuthenticated();Ue({body:s,article_id:n},e.token).then((function(e){if(!e||e.errors||e.exception||e.message)return m(!1),b(e&&e.errors?Object.values(e.errors)[0][0]:"Could not create article");b(""),m(!1),l(""),r(e)}))}};return Object(a.jsxs)(I.a,{className:t.root,children:[Object(a.jsx)(D.a,{name:"comment",label:"Add a comment",autoFocus:!0,margin:"normal",value:s,onChange:function(e){return l(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&x()},error:""!==d,helperText:d,multiline:!0}),Object(a.jsx)(B.a,{className:t.actions,children:Object(a.jsx)(C.a,{color:"secondary",variant:"contained",onClick:x,disabled:f,endIcon:f?Object(a.jsx)(A.a,{size:18}):Object(a.jsx)(L.a,{}),children:"Post"})})]})})),Ve=Object(d.f)((function(e){var t=e.comments,n=(e.history,e.articleId),r=e.addComment,o=e.removeComment;return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(z.a,{variant:"h3",children:"Comments"}),Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(Me,{articleId:n,addComment:function(e){return r(e)}}),t.length>0?t.map((function(e,t){return Object(a.jsx)(Re,{comment:e,removeComment:o},e.id)})):Object(a.jsx)(z.a,{variant:"body2",style:{textAlign:"center"},children:"No comments found"})]})]})})),Ge=Object(d.f)(Object(E.a)((function(e){var t=e.palette,n=e.spacing;return Object(f.a)({card:{margin:"".concat(n(4),"px auto")},avatar:{background:t.secondary.main},fab:{position:"fixed",bottom:n(2),right:n(2),"& .MuiFab-primary":{background:t.secondary.main}}})}))((function(e){var t=e.history,n=e.match,o=c.a.useState([]),i=Object(h.a)(o,2),s=i[0],l=i[1],j=c.a.useState([]),d=Object(h.a)(j,2),b=d[0],p=d[1],O=c.a.useState(!0),f=Object(h.a)(O,2),m=f[0],x=f[1],g=c.a.useState(""),v=Object(h.a)(g,2),y=v[0],w=v[1],S=c.a.useState(!1),k=Object(h.a)(S,2),A=k[0],T=k[1],E=c.a.useState(!1),I=Object(h.a)(E,2),N=I[0],F=I[1],D=Object(r.useCallback)((function(){x(!0);var e=n.params.id,t=V.isAuthenticated();F(!!t),je(e).then((function(e){if(!e||e.errors||e.exception||e.message)return x(!1),w(e&&e.errors?Object.values(e.errors)[0][0]:"Could not load data");w(""),e.comments.length>0&&(p(e.comments.reverse()),delete e.comments),l(e),t&&t.user.id===e.user.id&&T(!0),x(!1)}))}),[n]);Object(r.useEffect)((function(){D()}),[D]);return m?Object(a.jsx)(ne,{}):""!==y?Object(a.jsx)(re,{message:y,action:D}):Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(C.a,{component:u.b,to:"/",startIcon:Object(a.jsx)(se.a,{}),children:"Back"}),Object(a.jsxs)("div",{style:{position:"relative"},children:[Object(a.jsx)(Be,{article:s,history:t,displayActions:A,disableHeight:!1}),N?Object(a.jsx)(Ve,{articleId:s.id,comments:b,addComment:function(e){return p((function(t){return[e].concat(Object(ie.a)(t))}))},removeComment:function(e){p((function(t){var n=t.filter((function(t){return t.id!==e}));return Object(ie.a)(n)}))}}):Object(a.jsx)(re,{message:"Please login to view comments",action:function(){t.push("/login".concat(window.location.pathname))},actionLabel:"Login"})]})]})}))),Ye=n(182),$e=n(183),qe=n(193),Qe=n(191),Xe=n(179),Ze=n(180),et=Object(a.jsx)(Xe.a,{fontSize:"small"}),tt=Object(a.jsx)(Ze.a,{fontSize:"small"}),nt=function(e){var t=e.categories,n=e.selectCategory,r=e.defaultValueIndex,o=void 0===r?null:r;return t&&t.length>0?Object(a.jsx)(Qe.a,{multiple:!0,id:"filter-categories",options:t,getOptionLabel:function(e){return e.title},disableCloseOnSelect:!0,limitTags:3,defaultValue:null!==o?[t[o]]:void 0,onChange:function(e,t){return n(t)},renderOption:function(e,t){var n=t.selected;return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(qe.a,{icon:et,checkedIcon:tt,style:{marginRight:8},checked:n}),e.title]})},renderInput:function(e){return Object(a.jsx)(D.a,Object(p.a)(Object(p.a)({},e),{},{variant:"outlined",label:"Filter by Category",placeholder:"Basketball"}))}}):Object(a.jsx)(a.Fragment,{})},at=Object(a.jsx)(Xe.a,{fontSize:"small"}),rt=Object(a.jsx)(Ze.a,{fontSize:"small"}),ct=function(e){var t=e.authors,n=e.selectAuthor,r=e.defaultValueIndex,o=void 0===r?null:r;return t&&t.length>0?Object(a.jsx)(Qe.a,{multiple:!0,id:"filter-authors",options:t,getOptionLabel:function(e){return e.name},disableCloseOnSelect:!0,limitTags:3,defaultValue:null!==o?[t[o]]:void 0,onChange:function(e,t){return n(t)},renderOption:function(e,t){var n=t.selected;return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(qe.a,{icon:at,checkedIcon:rt,style:{marginRight:8},checked:n}),e.name]})},renderInput:function(e){return Object(a.jsx)(D.a,Object(p.a)(Object(p.a)({},e),{},{variant:"outlined",label:"Filter by Author",placeholder:"Author"}))}}):Object(a.jsx)(a.Fragment,{})},ot=W+"/api/categories",it=function(){var e=Object(K.a)(U.a.mark((function e(){var t;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(ot,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return t=e.sent,e.abrupt("return",t.json());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),st=Object(E.a)((function(e){var t=e.spacing;return Object(f.a)({fab:{position:"fixed",bottom:t(2),right:t(2)}})}))((function(e){var t=e.classes,n=c.a.useState("Articles"),o=Object(h.a)(n,2),i=o[0],s=o[1],l=c.a.useState([]),j=Object(h.a)(l,2),d=j[0],p=j[1],O=c.a.useState([]),f=Object(h.a)(O,2),m=f[0],x=f[1],g=c.a.useState([]),v=Object(h.a)(g,2),y=v[0],C=v[1],w=c.a.useState([]),S=Object(h.a)(w,2),k=S[0],A=S[1],T=c.a.useState([]),E=Object(h.a)(T,2),I=E[0],N=E[1],F=c.a.useState(!0),D=Object(h.a)(F,2),B=D[0],P=D[1],L=c.a.useState(""),J=Object(h.a)(L,2),U=J[0],K=J[1],W=c.a.useState(null),_=Object(h.a)(W,2),H=_[0],R=_[1],M=c.a.useState(null),G=Object(h.a)(M,2),Y=G[0],$=G[1],q=V.isAuthenticated(),Q=Object(r.useCallback)((function(){P(!0),ue().then((function(e){if(!e||e.errors||e.exception||e.message)return P(!1),K(e&&e.errors?Object.values(e.errors)[0][0]:"Could not load data");K("");var t=e.reverse(),n=[];if(t.forEach((function(e){-1===n.findIndex((function(t){return t.id===e.user.id}))&&n.push(e.user)})),p(e),x(n),window.location.pathname.includes("user")){var a=parseInt(window.location.pathname.split("user/")[1]),r=n.findIndex((function(e){return e.id===a}));-1!==r&&($(r),s("Articles by ".concat(n[r].name)),A([n[r]]))}})),it().then((function(e){if(!e||e.errors||e.exception||e.message)return P(!1),K(e&&e.errors?Object.values(e.errors)[0][0]:"Could not load data");if(K(""),window.location.pathname.includes("category")){var t=window.location.pathname.split("category/")[1],n=e.findIndex((function(e){return e.id===parseInt(t)}));s("".concat(e[n].title," Articles")),-1!==n&&R(n),N([e[n]])}C(e),P(!1)}))}),[]);Object(r.useEffect)((function(){Q()}),[Q]);return B?Object(a.jsx)(ne,{}):""!==U?Object(a.jsx)(re,{message:U,action:Q}):Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(z.a,{variant:"h3",children:i}),Object(a.jsxs)(b.a,{container:!0,spacing:2,children:[Object(a.jsx)(b.a,{item:!0,sm:6,xs:12,children:Object(a.jsx)(nt,{defaultValueIndex:H,categories:y,selectCategory:function(e){null!==H&&y[H].id!==e[H]&&s("Articles"),N(e)}})}),Object(a.jsx)(b.a,{item:!0,sm:6,xs:12,children:Object(a.jsx)(ct,{authors:m,selectAuthor:function(e){null!==Y&&m[Y]!==e[Y]&&s("Articles"),A(e)},defaultValueIndex:Y})})]}),Object(a.jsx)(b.a,{container:!0,spacing:2,children:d.filter((function(e){return I.length>0||k.length>0?-1!==I.findIndex((function(t){return t.id===e.category.id}))||-1!==k.findIndex((function(t){return t.id===e.user.id})):e})).map((function(e,t){return Object(a.jsx)(b.a,{item:!0,sm:6,xs:12,children:Object(a.jsx)(Be,{delay:200*(t+1),article:e,link:"/article/".concat(e.id)})},t)}))}),q&&Object(a.jsx)(Ye.a,{className:t.fab,component:u.b,"aria-label":"Add Article",color:"secondary",to:"/articles/new",children:Object(a.jsx)($e.a,{})})]})})),lt=[{name:"Login",link:"/login",component:G,authed:!1,displayOnNav:!0},{name:"Register",link:"/register",component:oe,authed:!1,displayOnNav:!0},{name:"Profile",link:"/profile",component:ce,authed:!0},{name:"Article",link:"/article/:id",component:Ge,authed:!1},{name:"Create Article",link:"/articles/new",component:Object(E.a)((function(e){var t=e.spacing;return Object(f.a)({wrapper:{padding:t(4)}})}))((function(e){var t=e.history,n=e.classes,o=c.a.useState(""),i=Object(h.a)(o,2),s=i[0],l=i[1],j=c.a.useState(""),d=Object(h.a)(j,2),b=d[0],O=d[1],f=c.a.useState(""),m=Object(h.a)(f,2),x=m[0],g=m[1],v=c.a.useState(""),y=Object(h.a)(v,2),w=y[0],S=y[1],k=c.a.useState(null),T=Object(h.a)(k,2),E=T[0],z=T[1],P=c.a.useState([]),J=Object(h.a)(P,2),U=J[0],K=J[1],W=c.a.useState(!0),_=Object(h.a)(W,2),H=_[0],R=_[1],M=c.a.useState(!1),G=Object(h.a)(M,2),Y=G[0],$=G[1],q=c.a.useState(""),Q=Object(h.a)(q,2),X=Q[0],Z=Q[1],ee=Object(r.useCallback)((function(){it().then((function(e){if(!e||e.errors||e.exception||e.message)return R(!1),Z(e&&e.errors?Object.values(e.errors)[0][0]:"Could not load data");K(e),z(e[0]),Z(""),R(!1)}))}),[]);Object(r.useEffect)((function(){ee()}),[ee]);var te=function(){if(function(){var e=!0;return s.length<5?(O("Title must be at least 5 characters"),e=!1):O(""),x.length<5?(S("Body must be at least 5 characters"),e=!1):S(""),e}()){$(!0);var e=V.isAuthenticated();de({title:s,body:x,category_id:E.id},e.token).then((function(e){if(!e||e.errors||e.exception||e.message)return $(!1),Z(e&&e.errors?Object.values(e.errors)[0][0]:"Could not create article");t.push("/article/".concat(e.id))}))}};return H?Object(a.jsx)(ne,{}):""!==X?Object(a.jsx)(re,{message:X,action:ee}):Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(C.a,{component:u.b,to:"/",startIcon:Object(a.jsx)(se.a,{}),children:"Back"}),Object(a.jsxs)(I.a,{elevation:3,className:n.wrapper,children:[Object(a.jsx)(N.a,{title:"Create Article"}),Object(a.jsxs)(F.a,{children:[Object(a.jsx)(Qe.a,{value:E,options:U,getOptionLabel:function(e){return e.title},onChange:function(e,t){return z(t)},renderInput:function(e){return Object(a.jsx)(D.a,Object(p.a)(Object(p.a)({},e),{},{variant:"outlined",label:"Select Category",placeholder:"Basketball"}))}}),Object(a.jsx)(D.a,{name:"title",label:"Title",autoFocus:!0,margin:"normal",value:s,onChange:function(e){return l(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&te()},error:""!==b,helperText:b}),Object(a.jsx)(D.a,{name:"body",label:"Body",autoFocus:!0,margin:"normal",value:x,onChange:function(e){return g(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&te()},error:""!==w,helperText:w,multiline:!0})]}),Object(a.jsx)(B.a,{children:Object(a.jsx)(C.a,{color:"secondary",variant:"contained",onClick:te,disabled:Y,endIcon:Y?Object(a.jsx)(A.a,{size:18}):Object(a.jsx)(L.a,{}),children:"Create"})})]})]})})),authed:!0},{name:"Edit Article",link:"/articles/edit/:id",component:Object(E.a)((function(e){var t=e.spacing;return Object(f.a)({wrapper:{padding:t(4)}})}))((function(e){var t=e.match,n=e.history,o=e.classes,i=c.a.useState(0),s=Object(h.a)(i,2),l=s[0],j=s[1],d=c.a.useState(""),b=Object(h.a)(d,2),O=b[0],f=b[1],m=c.a.useState(""),x=Object(h.a)(m,2),g=x[0],v=x[1],y=c.a.useState(""),w=Object(h.a)(y,2),S=w[0],k=w[1],T=c.a.useState(""),E=Object(h.a)(T,2),z=E[0],P=E[1],J=c.a.useState(null),U=Object(h.a)(J,2),K=U[0],W=U[1],_=c.a.useState([]),H=Object(h.a)(_,2),R=H[0],M=H[1],G=c.a.useState(!0),Y=Object(h.a)(G,2),$=Y[0],q=Y[1],Q=c.a.useState(!1),X=Object(h.a)(Q,2),Z=X[0],ee=X[1],te=c.a.useState(""),ae=Object(h.a)(te,2),ce=ae[0],oe=ae[1],ie=Object(r.useCallback)((function(){var e=t.params.id;je(e).then((function(e){if(!e||e.errors||e.exception||e.message)return oe(e&&e.errors?Object.values(e.errors)[0][0]:"Could not load data"),q(!1);f(e.title),k(e.body),j(e.id);var t=e.category_id;it().then((function(e){if(!e||e.errors||e.exception||e.message)return oe(e&&e.errors?Object.values(e.errors)[0][0]:"Could not load data"),q(!1);var n=e.findIndex((function(e){return e.id===t}));M(e),W(e[n]),q(!1),oe("")}))}))}),[t]);Object(r.useEffect)((function(){ie()}),[ie]);var le=function(){if(function(){var e=!0;return O.length<5?(v("Title must be at least 5 characters"),e=!1):v(""),S.length<5?(P("Body must be at least 5 characters"),e=!1):P(""),e}()){ee(!0);var e=V.isAuthenticated();be(l,{title:O,body:S,category_id:K.id},e.token).then((function(e){if(!e||e.errors||e.exception||e.message)return ee(!1),oe(e&&e.errors?Object.values(e.errors)[0][0]:"Could not create article");n.push("/article/".concat(e.id))}))}};return $?Object(a.jsx)(ne,{}):""!==ce?Object(a.jsx)(re,{message:ce,action:ie}):Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(C.a,{component:u.b,to:"/article/".concat(l),startIcon:Object(a.jsx)(se.a,{}),children:"Back"}),Object(a.jsxs)(I.a,{elevation:3,className:o.wrapper,children:[Object(a.jsx)(N.a,{title:"Edit Article"}),Object(a.jsxs)(F.a,{children:[Object(a.jsx)(Qe.a,{value:K,options:R,getOptionLabel:function(e){return e.title},onChange:function(e,t){return W(t)},renderInput:function(e){return Object(a.jsx)(D.a,Object(p.a)(Object(p.a)({},e),{},{variant:"outlined",label:"Select Category",placeholder:"Basketball"}))}}),Object(a.jsx)(D.a,{name:"title",label:"Title",autoFocus:!0,margin:"normal",value:O,onChange:function(e){return f(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&le()},error:""!==g,helperText:g}),Object(a.jsx)(D.a,{name:"body",label:"Body",autoFocus:!0,margin:"normal",value:S,onChange:function(e){return k(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&le()},error:""!==z,helperText:z,multiline:!0})]}),Object(a.jsx)(B.a,{children:Object(a.jsx)(C.a,{color:"secondary",variant:"contained",onClick:le,disabled:Z,endIcon:Z?Object(a.jsx)(A.a,{size:18}):Object(a.jsx)(L.a,{}),children:"Save"})})]})]})})),authed:!0},{name:"Articles by User",link:"/user/:id",component:st,authed:!1},{name:"Articles by Category",link:"/category/:id",component:st,authed:!1}];function ut(e){var t=e.children,n=e.window,r=Object(m.a)({target:n?n():void 0});return Object(a.jsx)(x.a,{appear:!1,direction:"down",in:!r,children:t})}var jt=Object(d.f)(Object(E.a)((function(){return Object(f.a)({root:{justifyContent:"space-between","& a":{color:"#fff"}}})}))((function(e){var t=e.history,n=e.classes,o=Object(O.a)(e,["history","classes"]),i=c.a.useState(!1),s=Object(h.a)(i,2),l=s[0],j=s[1],d=c.a.useState(!1),b=Object(h.a)(d,2),f=b[0],m=b[1],x=c.a.useState(""),E=Object(h.a)(x,2),I=E[0],N=E[1],F=c.a.useState(null),D=Object(h.a)(F,2),z=D[0],B=D[1],P=Boolean(z),L=function(){B(null)};Object(r.useEffect)((function(){var e=function(e){return j(e)},n=V.isAuthenticated();e(!!n),t.listen((function(){var t=V.isAuthenticated();e(!!t)}))}),[t]);return Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(g.a,{}),Object(a.jsx)(ut,Object(p.a)(Object(p.a)({},o),{},{children:Object(a.jsx)(v.a,{children:Object(a.jsxs)(y.a,{className:n.root,children:[Object(a.jsx)(C.a,{component:u.b,to:"/",children:"Adv JS CA2"}),Object(a.jsxs)("div",{children:[Object(a.jsx)(C.a,{component:u.b,to:"/",children:"Articles"}),lt.filter((function(e){return e.authed===l&&e.displayOnNav})).map((function(e,t){return Object(a.jsx)(C.a,{component:u.b,to:e.link,children:e.name},t)})),l&&Object(a.jsxs)(c.a.Fragment,{children:[Object(a.jsx)(w.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){B(e.currentTarget)},color:"inherit",children:Object(a.jsx)(X.a,{})}),Object(a.jsxs)(S.a,{id:"menu-appbar",anchorEl:z,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:P,onClose:L,children:[Object(a.jsx)(k.a,{component:u.b,to:"/profile",onClick:L,children:"Profile"}),Object(a.jsxs)(k.a,{disabled:f,onClick:function(){var e=V.isAuthenticated();e?(m(!0),M(e.token).then((function(e){if(e.errors)return m(!1),N(Object.values(e.errors)[0][0]);V.unsetUserDetails((function(e){if(e)return j(!1),m(!1),L(),N("Logged out successfully"),t.push("/");N("The system encountered an error, please try again later")}))}))):(j(!1),N("The system encountered an error, please try again later"))},children:["Logout ",f&&Object(a.jsx)(A.a,{size:18})]})]})]})]})]})})})),Object(a.jsx)(T.a,{open:""!==I,autoHideDuration:6e3,onClose:function(){return N("")},message:I})]})}))),dt=function(e){return Object(a.jsxs)("div",{children:[Object(a.jsx)(jt,{}),Object(a.jsx)(b.a,{container:!0,justify:"center",style:{marginTop:"100px",marginBottom:"20px"},children:Object(a.jsx)(b.a,{item:!0,xs:11,children:Object(a.jsxs)(d.c,{children:[Object(a.jsx)(d.a,{exact:!0,path:"/",component:st}),lt.map((function(e,t){var n=e.link,r=e.component;return Object(a.jsx)(d.a,{path:n,component:r},t)}))]})})})]})},bt=n(82),pt=n(197),ht=Object(bt.a)({palette:{primary:{main:"#2196f3"},secondary:{main:"#ffc400"}},typography:{fontFamily:["Poppins","sans-serif"].join(",")},overrides:{MuiGrid:{item:{maxWidth:"800px!important"}},MuiTextField:{root:{width:"100%",margin:"16px auto"}},MuiListItemText:{root:{display:"flex",flexDirection:"column-reverse"}},MuiTypography:{h3:{fontWeight:500,fontSize:"2.3em",margin:"10px"}}}}),Ot=ht=Object(pt.a)(ht),ft=function(){return Object(a.jsx)(u.a,{children:Object(a.jsx)(j.a,{theme:Ot,children:Object(a.jsx)(dt,{})})})},mt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,200)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))};i.a.render(Object(a.jsx)(ft,{}),document.getElementById("root")),mt(),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/worker.js");s?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):l(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):l(t,e)}))}}()}},[[109,1,2]]]);
//# sourceMappingURL=main.18c1d187.chunk.js.map